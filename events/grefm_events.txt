########################
# GREECE FLAVOR EVENTS #
########################
# Events contained here pertain to the Greek state and its derivative Empires; this mod is GREECE-FIRST and the majority of nations will likely not receive content at this depth and level of detail. This is not to say I won't strive to keep all content high-quality, relevant, and hopefully engaging.
# Fun fact: this entire mod came into existence because I wanted to make a "what if Roman Empire mod" and the history took it from there.
# Byzantium used to be represented by the module "byzfm"; this has been merged with grefm. The following byzfm variables remain: byzfm_byzantium_restored, byzfm_weaksauce, and byzfm_took_the_purple

####################

# For Greece & Byzantium content, see the "grefm" module
# For Balkan Nations content, see the "balkfm" module
# For Ottoman/Turkish content, see the "turkfm" module
# For Orthodox Church content, see the "eocfm" module
# For Eastern Question content, see the "eqfm" module

####################

namespace = grefm

####################

####	TABLE OF CONTENTS	####	#TOC

# You can use the #GRE_ comments to ctrl+F your way through the event list
# The ## before an event indicates content not yet implemented; the >> indicates an event being moved in from another event module

##  #GRE0  GREEK STATE NARRATIVE CONTENT  Events  001-099  ##

#001-009 - Bavarocracy Main Events
#	001 - The Regency Council
#	002 - A Crisis Averted
#	003 - The September Revolution
#	004 - Long Live the Constitution
#	005 - The Bavarocracy Abolished
#	006 - The October Revolution
#	007 - Mandate Secured
#	008 - The Overthrow of the Bavarocracy
#	009 - A Disgraced Tyrant

#010-019 - Bavarocracy Reform Events
#	010 - Constitutional Promises
#	011 - An Ottoman Legacy
#	012 - The Great Land Reformation
#	013 - Tribunal Justice
#	014 - The End of the Brigands
#	015 - Rampant Corruption
#	016 - An Honorable Regime
#	017 - The Bavarian Auxiliary Corps
#	018 - Bavarian Auxiliaries Dismissed
#	019 - The Return of the "Turk-Eater"

#020-029 - Bavarocracy Support Events
#	020 - OPEN
#	021 - King Ludwig Visits Greece
#	022 - Otto Departs for Bavaria
#	023 - A Consort Fit for a Bavarian
#	024 - The King's Intellect Challenged
#	025 - Discharging the Regency
#	026 - The Philorthodox Conspiracy
#	027 - OPEN
#	028 - OPEN
#	029 - Absolutism in Greece

#030-039 - Constitutional Monarchy Events
#	030 - An Elected Monarch --end of 1.0 content
# 	031 - The King of the Hellenes
#	032 - "Who is to Blame?"
#	033 - A Harmonious State
#	034 - "Unfortunately, We are Bankrupt" event
#	035 - A Perennial Problem
#	036 - OPEN
#	037 - ##The Bulgarian Détente (students visit Athens)
#	038 - ##A King of Valour (Assassination Attempt)
#	039 - ##Silver Jubilee

#040-049 - Rise of Venizelos Events
#	040 - Nationalist Fervor
#	041 - The Military League
#	045 - A Cretan Champion
#	046 - The Goudi Coup
#	047 - A Cretan Chamption (Alternate)
#	048 - The Rise of the Ethnarch
#	049 - The Rise of the Ethnarch (Alternate)

#050-059 - That Nonsense with Venizelos
#	050 - The Nature of the National Assembly
#	051 - Rejuventating the State
#	052 - A Competent Bureaucracy
#	053 - Reorganzing the Military
#	054 - A Formdiable Military
#	055 - Advancing Society
#	056 - A Modern Society
#	057 - The Ignorant Masses
#	058 - An Educated Populace
#	059 - The Greek State Resurgent

#060-069 - The National Schism
#	060 - ##The Great Division


##  #GRE1  GREECE HISTORICAL & CULTURAL CONTENT  Events  100-199  ##

#100-109 - Industry Events (PM-based)
#	100 - Fix Brewery
#	101 - Hellenic Railways
#	102 - Greek Aviation
#	103 - Merchantile Traditions

#110-119 - Technology Events
#	110 - The Decline of the Heptanese School
#	111 - OPEN
#	112 - Lake Kopais Drained
#	113 - A Citadel Emerges
#	114 - Merchantile Rivalries
#	119 - Land Reclaimed in Kopaida

#120-129 - Cultural Events
#	120 - The Rebirth of the Olympics
#	121 - University of Athens
#	122 - The Great School of the Nation
#	123 - The Women's Journal
#	124 - National Council of Greek Women

#130-139 - Monument Events
#	130 - Corinth Canal Surveyed
#	131 - Corinth Canal Completed
#	132 - The Royal Palace of Athens

#140-149 - Archeaology Events
#	140 - Archaeological Society of Athens
#	141 - Expedition Team Departs
#	142 - Alternative Dig Sites Considered
#	143 - Hellenic Excavation Completed
#	144 - Roman Excavation Completed

#150-159 - Excavation Events
#	150 - Excavation Proceeding Smoothly
#	151 - Industrial Equipment Requested
#	152 - Ancient Tomb Uncovered
#	153 - Mudslide at the Excavation Site
#	154 - Disaster at the Excavation Site!
#	155 - Popular Interest in Excavation
#	156 - Palace Uncovered
#	157 - The Mask of Agammemnon
#	158 - Politician Offers Funding
#	159 - Reconstruction Garners Criticism

#160-169 - Minor International Events
#	160 - A Bulgarian Visitor
#	161 - The Don Pacifico Affair

#170-179 - Greek Piracy Events
#	170 - ##The Pirates of the Aegean
#	171 - ##Pirates Hold Up Trade Ship (GRE)
#	172 - ##Pirates Hold Up Trade Ship (TUR)
#	173 - ##Pirates Kidnap Prominent Bey (GRE)
#	174 - ##Pirates Kidnap Prominent Bey (TUR)

#180-189 - Greek Church Events
#	180 - The Defence of Jonas King
#	181 - Speech before the Areopagus
#	182 - Jonas King Returns
#	183 - Foreign Intercession for Jonas King

#190-199 - Historical Content Not Otherwise Specified
#	190 - ##OPEN


##  #GRE2  GREEK NATIONAL IDENTITY CONTENT  Events  200-299  ##

#200-209 - Greek Ethnogenesis Events
#	200 - What is a Greek
#	201 - Paparrigopoulos's History of the Greek Nation
#	202 - The Greek Capital
#	203 - OPEN
#	204 - OPEN
#	205 - OPEN
#	206 - The Language Question
#	207 - A National Language
#	208 - Defining Greek Roots
#	209 - The Greek Ethnogenesis

#270-279 - Hellenic Revanchism Events
#	270 - The Lands of Thessaly
#	271 - The Megali Idea
#	272 - The Future of Greece
#	273 - The Lands of Greater Greece
#	274 - The Greak Realm

#280-289 - Roman Revanchism Events
#	280 - ##The Legacy of Romanía
#	281 - ##The Themata of Anatolia
#	282 - ##The Throne of the East

#290-299 - Greek Cultural Syncretism Events
#	290 - The Fate of the Turks
#	291 - A Question of Homelands
#	292 - Greek Expansion in X


##  #GRE3  THE REVENGE OF THE GREEKS  Events  300-399  ##

#300-309 - Hellenistic Empire Restoration Events
#	300 - The Vergina Sun Rises (path event)
#	301 - The Revenge of the Greeks
#	302 - Nova Roma Constantinopolitana
#	303 - The Shores of Phoenicia
#	304 - The Legacy of Alexander ----commit event
#	305 - The Lands of Arianōn
#	306 - The Graveyard of Empires
#	307 - The Empire of the Greeks

#310-319 - Hellenistic Imperial Ambition Events
#	310 - The Shores of the Hospitable Sea
#	311 - The Black Sea Secured
#	312 - The Lands of Magna Graecia
#	313 - Magna Graecia Secured
#	314 - The Foundings of Alexander
#	315 - Alexandria on the Oxus
#	316 - Alexandria in Margiana
#	317 - Alexandria on the Indus
#	318 - Alexandria in the Caucasus

##  #GRE4  IONIAN ISLANDS FLAVOR  Events  400-499  ##

#400-409 - The Xenocracy Events
#	400 - The Republic of the Seven Islands
#	401 - The Ionian Jewel
#	402 - Modernized Agriculture
#	403 - A Civilized State
#	404 - The Ionian Academy

#410-419 - The Ionian Jews Events
#	410 - The Romaniote Jews
#	411 - Jews Request former Rights
#	412 - Nacamulli's Press House
#	413 - Blood Libel
#	414 - Unrest in Corfu
#	417 - ##Moisis Caimis Supports Demotiki
#	418 - Jewish Exclusion
#	419 - A Judaeo-Greek Nation

#420-429 - Greek Union Events
#	420 - The Dream of Enosis
#	421 - Ionian Union with the Greek State


##	#GRE5  MINOR GREEK STATES  Events  500-599  ##

#500-509 - Principality of Samos Events
#	500 - Samos Defiant
#	501 - An Imposed Ruler
#	502 - The Organic Charter
#	503 - The Tyranny of Lord Stefanos
#	504 - Stefanos Desposed
#	505 - New Governor Appointed
#	506 - Ruler Desposed
#	507 - OPEN
#	508 - Samos Liberated
#	509 - Samian Union with the Greek State

#510-519 - Principality of Crete Events
#	510 - ##OPEN
#	519 - ##Cretan Union with the Greek State

#520-529 - Cretan Revolt Events
#	520 - Priest Martyred in Crete
#	521 - Wali of Crete Oversteps Authority
#	522 - Greek Agitation in Crete
#	523 - ##Language Bans in Crete <--1890
#	524 - ##Cretan Gun-Runners Arrested
#	529 - Crete Revolts Again (TUR/EGY)

#530-539 - Epirus Events
#	530 - ##OPEN

#540-549 - Trebizond Events
#	540 - ##OPEN

#550-559 - Theodoro Events
#	550 - ##OPEN

#560-569 - Cappadoccia Events
#	560 - ##OPEN

#580-589 - Annexation Events
#	580 - ION Annexation
#	581 - EPI Annexation
#	582 - CYP Annexation
#	583 - CRE Annexation
#	584 - MAC Annexation
#	585 - OPEN
#	586 - ##SAMO Annexation
#	320>>587 - THE Annexation <<IMPORT FROM BYZFM
#	321>>588 - TRB Annexation <<IMPORT FROM BYZFM
#	589 - ##CAPP Annexation

#590-599 - Greek Separatism Events
#	590 - Greek Separatism
#	591 - Greek Provocations in State (GRE)
#	592 - Greek Uprising in State (GRE)
#	593 - OPEN
#	594 - The Makedonijan Revolt (TUR/EGY)
#   595 - The Epirote Revolt (TUR/EGY)
#	596 - The Cypriot Revolt (TUR/EGY)
#	597 - The Macedonian Revolt (TUR/EGY)
#	598 - The Smyrna Revolt (TUR/EGY)
#	599 - Reassigns the Separatism JE [TECH]

##  #GRE6  OPEN  Events  600-699  ##


##	#GRE7	OPEN	Events 700-799	##

	
##  #GRE8  BYZANTINE EMPIRE FLAVOR  Events 800-899  ##

##>>>>IMPORT FROM BYZFM>>>>##

#800-809 - Purple Pheonix Events
#	800 - The Pheonix Rises (Path Event)
#	801 - Nova Roma Constantinopolitana
#	802 - The Rome of the East
#	803 - The Basileia Rhōmaiōn
#	804 - Dalmatia Reclaimed
#	805 - Lombardia Reclaimed
#	806 - Magna Graecia Reclaimed
#	807 - Exarchate of Ravenna Reclaimed
#	808 - OPEN
#	809 - Renovatio Imperii Romanorum

#810-819 - General Byzantine Events
#	810 - The Basileus Basileōn

#820-829 - Monument Events
#	820 - The 14 Regions of Constantinople
#	821 - Imperial Palace Ruins Identified
#	822 - The Great Palace of Constantinople
#	823 - The Hippodrome of Constantinople
#	824 - Notitia Urbis Constantinopolitanae
#	829 - ##The Imperial Library [MGR]

#830-839 - Chariot Racing Events
#	830 - Chariot Racing Re-established
#	831 - Chariot Racing Expanded
	832 - Chariot Racing Technical Event [TECH]
#	833 - A Day at the Races
	834 - Inconclusive Race Results
#	835 - Sporting Riot
#	836 - Ruler Attempts to Join Race
#	837 - Team Caught Cheating
#	838 - Drag Racing Event

#840-849 - OPEN
#	840 - OPEN

#850-859 - OPEN
#	850 - OPEN

#860-869 - OPEN
#	860 - OPEN

#870-879 - OPEN
#	870 - OPEN

#880-889 - OPEN
#	880 - OPEN

#890-899 - Byzantine Alternate Start Events
#	390>>890 - ##[SER] TBD
#	391>>891 - ##[SER] TBD
#	392>>892 - [BUL] The Golden Lion Roars (Path Event)
#	393>>893 - [BUL] Scions of the Empire
#	394>>894 - [ROM/ALB] Echoes of the Empire
#	395>>895 - >>[ROM/ALB] The Queen of Cities
#	396>>896 - >>[ROM] The Golden Eagle Soars
#	397>>897 - >>[ROM] The Last of the Romans
#	398>>898 - ##[ALB] TBD
#	399>>899 - ##[ALB] TBD

##>>>>IMPORT FROM BYZFM>>>>##


##	#GRE9	TECHNICAL EVENTS	Events 900-999	##

#900-909 - Hidden Events
#	900 - OPEN
#	901 - Adds Mainland Greece claims to non-GRE Greek nations
#	902 - Reassigns Revolt Journals

#910-910 - Technical Events
#	910 - The Makedonijan Revolt (No Triggers)
#   911 - The Epirote Revolt (No Triggers)
#	912 - The Cypriot Revolt (No Triggers)
#	913 - The Macedonian Revolt (No Triggers)
#	914 - The Smyrnite Revolt (No Triggers)

############################


##################################################
##	#GRE0	THE HELLENIC STATE	Events 001-099	##
##################################################

#### THE BAVAROCRACY ####

grefm.001 = { # Bavarocracy notification
	type = country_event
	placement = root
	
	title = grefm.001.t
	desc = grefm.001.d
	flavor = grefm.001.f
	
	event_image = {
		video = "grefm_ottos_landing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 1
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
		trigger_event = {
			id = grefm.021 # King Ludwig Visits Greece
			days = 40 # Mid-February
		}
		trigger_event = {
			id = grefm.017 # bavarian auxiliary corps
			days = 90
		}
		trigger_event = {
			id = grefm.022 # Otto Leaves for Bavaria
			days = 130 # Mid-May
		}
		trigger_event = {
			id = grefm.023 # A Consort Fit for a Bavarian
			days = 270
		}
		trigger_event = {
			id = grefm.024 # Otto's Intellect Challenged
			days = 270
		}
		trigger_event = {
			id = grefm.025 # Discharging the Regency
			days = 390 # February 1837
		}
	}
	
	option = { 
		name = grefm.001.a
		default_option = yes
		show_as_tooltip = {
			add_modifier = modifier_grefm_armansperg_regency
		}
		show_as_tooltip = {
			add_modifier = modifier_grefm_bavarocracy
		}
	}

}

grefm.002 = { # Revolution averted, Otto remains in power
	type = country_event
	placement = root
	
	title = grefm.002.t
	desc = grefm.002.d
	flavor = grefm.002.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		ig:ig_landowners = {
			save_scope_as = ig_landowners_scope
		}
		set_variable = grefm_1843_revolution_happened
	}
	
	option = {
		name = grefm.002.a
		default_option = yes
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
		set_variable = grefm_constitution_completed
	}
	
}

grefm.003 = { # 3 September 1843 Revolution
	type = country_event
	placement = root
	
	title = grefm.003.t
	desc = grefm.003.d
	flavor = grefm.003.f
	
	event_image = {
		video = "europenorthamerica_political_extremism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		ig:ig_armed_forces = {
			leader = {
				save_scope_as = ig_armed_forces_scope
			}
		}
		set_variable = grefm_1843_revolution_happened
	}
	
	option = { # Accept the New Constitution
		name = grefm.003.a
		default_option = yes
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_hereditary_bureaucrats
				}
			}
			activate_law = law_type:law_appointed_bureaucrats
		}
		if = {
			limit = {
				AND = {
					OR = {
						has_law = law_type:law_autocracy
						has_law = law_type:law_oligarchy
						has_law = law_type:law_landed_voting
						has_law = law_type:law_wealth_voting
						has_law = law_type:law_census_voting
					}
					has_technology_researched = egalitarianism
				}
			}
			activate_law = law_type:law_universal_suffrage
		}
		else_if = {
			limit = {
				OR = {
					has_law = law_type:law_autocracy
					has_law = law_type:law_oligarchy
					has_law = law_type:law_landed_voting
					has_law = law_type:law_wealth_voting
				}
			}
			activate_law = law_type:law_census_voting
		}
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value > neutral
				}
			}
			add_modifier = {
				name = modifier_grefm_constitution_enforced
				months = normal_modifier_time
				is_decaying = yes
			}
		}
		add_radicals = {
			strata = rich
			value = medium_radicals
		}
		add_loyalists = {
			strata = middle
			value = small_radicals
		}
		add_loyalists = {
			strata = poor
			value = small_radicals
		}
		call_election = {
			months = 1
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
		set_variable = grefm_constitution_completed
	}
	
	option = { # Othonian Absolutism Time
		name = grefm.003.b
		grefm_initialize_tyranny_variables_effect = yes
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value < neutral
				}
			}
			add_modifier = {
				name = modifier_grefm_constitution_refused
				months = normal_modifier_time
				is_decaying = yes
			}
		}
		add_loyalists = {
			strata = rich
			value = medium_radicals
		}
		add_radicals = {
			strata = middle
			value = medium_radicals
		}
		add_radicals = {
			strata = poor
			value = medium_radicals
		}
		scope:king_otto_scope = {
			set_as_interest_group_leader = yes # Otto discharged von Rudhart in 1837 to directly chair his privy council; this is represented here for gameplay reasons
		}
		add_journal_entry = {
			type = je_grefm_the_tyranny_of_house_wittelsbach
		}
		if = {
			limit = {
				has_law = law_type:law_oligarchy
			}
			activate_law = law_type:law_autocracy
		}
		else_if = {
			limit = {
				NOT = {
					has_law = law_type:law_oligarchy
				}
			}
			activate_law = law_type:law_autocracy
		}
	}
	
}

grefm.004  { # lol you really thought that INCREASING autocracy was the solution?
	type = country_event
	placement = root
	
	title = grefm.004.t
	desc = grefm.004.d
	flavor = grefm.004.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		set_variable = grefm_1843_revolution_happened
		ruler = {
			save_scope_as = king_otto_scope
		}
		set_variable = {
			name = grefm_tyranny_var
			value = 0
		}
	}
	
	option = {
		name = grefm.004.a
		default_option = yes
		grefm_initialize_tyranny_variables_effect = yes
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value < neutral
				}
			}
			leader = {
				set_ideology = ideology:ideology_republican_leader
			}
		}
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value < neutral
				}
			}
			add_modifier = {
				name = modifier_grefm_constitution_refused
				months = normal_modifier_time
				is_decaying = yes
			}
		}
		add_loyalists = {
			strata = rich
			value = medium_radicals
		}
		add_radicals = {
			strata = middle
			value = medium_radicals
		}
		add_radicals = {
			strata = poor
			value = medium_radicals
		}
		scope:king_otto_scope = {
			set_as_interest_group_leader = yes # Othonian Absolutism Moment
		}
		add_journal_entry = {
			type = je_grefm_the_tyranny_of_house_wittelsbach
		}
	}
	
	after = {
		set_variable = {
			name = grefm_tyranny_var
			value = 100
		}
	}
	
}

grefm.005 = { # error 404 monarch not found
	type = country_event
	placement = root
	
	title = grefm.005.t
	desc = grefm.005.d
	flavor = grefm.005.f
	
	event_image = {
		video = "europenorthamerica_political_extremism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # also triggered by JE during je_grefm_bavarocracy_main
		NOT = { has_law = law_type:law_monarchy }
		has_variable = grefm_bavarocracy_completed
		has_variable = grefm_bavarocracy
	}
	
	immediate = {
		set_variable = grefm_1843_revolution_happened
		remove_variable = grefm_bavarocracy
	}
	
	option = {
		name = grefm.005.a
		default_option = yes
		clean_up_bavarocracy_effect = yes
		change_relations = {
			country = c:FRA
			value = -30
		}
		change_relations = {
			country = c:GBR
			value = -30
		}
		change_relations = {
			country = c:RUS
			value = -30
		}
	}
	
}

grefm.006 = { # revolution of 1862
	type = country_event
	placement = root
	
	title = grefm.006.t
	desc = grefm.006.d
	flavor = grefm.006.f
	
	event_image = {
		video = "europenorthamerica_political_extremism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		heir = {
			save_scope_as = otto_heir_scope
		}
		ig:ig_armed_forces = {
			leader = {
				save_scope_as = ig_armed_forces_scope
			}
		}
		c:GBR = {
			save_scope_as = uk_scope
		}
		s:STATE_BAVARIA = {
			random_scope_state = {
				save_scope_as = bavaria_state_scope
			}
		}
		random_scope_character = {
			limit = {
				has_variable = grefm_is_voulgaris
			}
			save_scope_as = voulgaris_scope
		}
		if = {
			limit = {
				NOT = {
					exists = scope:voulgaris_scope
				}
			}
			ig:ig_intelligentsia = {
				leader = {
					save_scope_as = voulgaris_scope # close enough
				}
			}
		}
		set_variable = grefm_bavarocracy_completed
	}
	
	option = {
		name = grefm.006.a
		default_option = yes
		scope:voulgaris_scope = {
				set_character_as_ruler = yes
		}
		scope:king_otto_scope = {
			exile_character = yes
		}
		if = {
			limit = {
				exists = scope:otto_heir_scope
			}
			scope:otto_heir_scope = {
				exile_character = yes
			}
		}
		every_scope_character = {
			limit = {
				has_variable = grefm_bavarocrat
			}
			exile_character = yes
		}
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_hereditary_bureaucrats
					has_law = law_type:law_appointed_bureaucrats
				}
			}
			activate_law = law_type:law_elected_bureaucrats
		}
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_autocracy
					has_law = law_type:law_oligarchy
					has_law = law_type:law_landed_voting
					has_law = law_type:law_wealth_voting
					has_law = law_type:law_census_voting
				}
			}
			activate_law = law_type:law_universal_suffrage
		}
		add_loyalists = {
			value = 0.1
		}
		clean_up_bavarocracy_effect = yes
		trigger_event = {
			id = grefm.030
			days = 30
		}
	}
	
}

grefm.007 = { # mandate secured
	type = country_event
	placement = root
	
	title = grefm.007.t
	desc = grefm.007.d
	flavor = grefm.007.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		set_variable = grefm_bavarocracy_completed
	}

	option = {
		name = grefm.007.a
		default_option = yes
		clean_up_bavarocracy_effect = yes
		scope:king_otto_scope = {
			remove_trait = arrogant
			remove_trait = romantic
			add_trait = basic_political_operator
			add_trait = demagogue
		}
		trigger_event = {
			id = grefm.031 # the king of the hellenes
			days = 30
		}
	}
	
}

grefm.008 = { # The Overthrow of the Bavarocracy
	type = country_event
	placement = root
	
	title = grefm.008.t
	desc = grefm.008.d
	flavor = grefm.008.f
	
	event_image = {
		video = "votp_agitator_speaking"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		heir = {
			save_scope_as = otto_heir_scope
		}
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = intelligentsia_leader_scope
			}
		}
		set_variable = grefm_bavarocracy_completed
	}
	
	option = {
		name = grefm.008.a
		default_option = yes
		scope:king_otto_scope = {
			kill_character = yes
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:otto_heir_scope
				}
				scope:otto_heir_scope = {
					kill_character = yes
				}
			}
		}
		scope:intelligentsia_leader_scope = {
			set_character_as_ruler = yes
		}
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_hereditary_bureaucrats
					has_law = law_type:law_appointed_bureaucrats
				}
			}
			activate_law = law_type:law_elected_bureaucrats
		}
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_autocracy
					has_law = law_type:law_oligarchy
					has_law = law_type:law_landed_voting
					has_law = law_type:law_wealth_voting
					has_law = law_type:law_census_voting
				}
			}
			activate_law = law_type:law_universal_suffrage
		}
		add_loyalists = {
			value = 0.1
		}
		every_scope_character = {
			limit = {
				has_variable = grefm_bavarocrat
			}
			exile_character = yes
		}
		clean_up_bavarocracy_effect = yes
		trigger_event = {
			id = grefm.030
			days = 30
		}
	}
	
}

grefm.009 = { # A Disgraced Tyrant
	type = country_event
	placement = root
	
	title = grefm.009.t
	desc = grefm.009.d
	flavor = grefm.009.f
	
	event_image = {
		video = "europenorthamerica_political_extremism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_the_tyranny_of_house_wittelsbach
	}	
	
	immediate = {
		ig:ig_armed_forces = {
			leader = {
				save_scope_as = armed_forces_leader_scope
			}
		}
		set_variable = grefm_tyranny_busted
	}
	
	option = {
		name = grefm.009.a
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_hereditary_bureaucrats
				}
			}
			activate_law = law_type:law_appointed_bureaucrats
		}
		if = {
			limit = {
				AND = {
					OR = {
						has_law = law_type:law_autocracy
						has_law = law_type:law_oligarchy
						has_law = law_type:law_landed_voting
						has_law = law_type:law_wealth_voting
						has_law = law_type:law_census_voting
					}
					has_technology_researched = egalitarianism
				}
			}
			activate_law = law_type:law_universal_suffrage
		}
		else = {
			activate_law = law_type:law_census_voting
		}
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value > neutral
				}
			}
			add_modifier = {
				name = modifier_grefm_constitution_enforced
				months = normal_modifier_time
				is_decaying = yes
			}
		}
		add_radicals = {
			strata = rich
			value = medium_radicals
		}
		add_loyalists = {
			strata = middle
			value = small_radicals
		}
		add_loyalists = {
			strata = poor
			value = small_radicals
		}
		call_election = {
			months = 3
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_minus_400
			change_variable = {
				name = grefm_bavarocracy_var
				add = -400
			}
		}
		set_variable = grefm_constitution_completed
	}
	
}

#### GOVERNMENT REFORM EVENTS ####

grefm.010 = { # adds je_grefm_greek_constitution
	type = country_event
	placement = root
	
	title = grefm.010.t
	desc = grefm.010.d
	flavor = grefm.010.f
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by grefm.001
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.010.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_greek_constitution
		}
	}

}

grefm.011 = { # adds je_grefm_land_reform
	type = country_event
	placement = root
	
	title = grefm.011.t
	desc = grefm.011.d
	flavor = grefm.011.f
	
	event_image = {
		video = "europenorthamerica_russian_serfs"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by grefm.001
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.011.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_land_reform
		}
		show_as_tooltip = {
			add_modifier = {
				name = modifier_grefm_timar
			}
		}	
	}

}

grefm.012 = { # land reformation complete
	type = country_event
	placement = root
	
	title = grefm.012.t
	desc = grefm.012.d
	flavor = grefm.012.f
	
	event_image = {
		video = "southamerica_factory_opening"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by JE
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.012.a
		default_option = yes
		add_modifier = {
			name = modifier_balkfm_modernized_agriculture
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = farmers
			value = small_radicals
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
	}

}

grefm.013 = { # adds je_grefm_brigandage
	type = country_event
	placement = root
	
	title = grefm.013.t
	desc = grefm.013.d
	flavor = grefm.013.f
	
	event_image = {
		video = "southamerica_war_civilians"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by JE
	}
	
	immediate = {
		random_scope_state = {
			save_scope_as = brigandage_state
		}
	}
	
	option = {
		name = grefm.013.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_brigandage
		}
		show_as_tooltip = {
			add_modifier = {
				name = modifier_grefm_insecure_countryside
			}
		}
	}

}

grefm.014 = { # brigands suppressed
	type = country_event
	placement = root

	title = grefm.014.t
	desc = grefm.014.d
	flavor = grefm.014.f

	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by JE
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.014.a
		default_option = yes
		add_modifier = {
			name = modifier_balkfm_secured_order
			months = normal_modifier_time
		}
		add_loyalists = {
			value = small_radicals
			strata = poor
		}
		every_scope_state = {
			limit = {
				has_modifier = modifier_balkfm_brigandage
			}
			remove_modifier = modifier_balkfm_brigandage
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
	}
	
}

grefm.015 = { # adds je_grefm_civic_tradition
	type = country_event
	placement = root
	
	title = grefm.015.t
	desc = grefm.015.d
	flavor = grefm.015.f
	
	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by JE
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.015.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_civic_tradition
		}
		show_as_tooltip = {
			add_modifier = {
				name = modifier_grefm_poor_administration
			}
		}
	}

}

grefm.016 = { # civic reform complete
	type = country_event
	placement = root
	
	title = grefm.016.t
	desc = grefm.016.d
	flavor = grefm.016.f
	
	event_image = {
		video = "unspecific_signed_contract"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by JE
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.016.a
		default_option = yes
		add_modifier = {
			name = modifier_balkfm_civic_tradition_established
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = bureaucrats
			value = small_radicals
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
	}

}

grefm.017 = { # The Bavarian Auxiliary Corps
	type = country_event
	placement = root
	
	title = grefm.017.t
	desc = grefm.017.d
	flavor = grefm.017.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by grefm.1
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.017.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_bavarian_auxiliaries
			months = long_modifier_time
		}
		add_modifier = {
			name = modifier_grefm_funding_bavarian_auxiliaries
			months = long_modifier_time
			multiplier = money_amount_multiplier_small
		}
	}

}

grefm.018 = { # Bavarian Auxiliaries Dismissed
	type = country_event
	placement = root
	
	title = grefm.018.t
	desc = grefm.018.d
	flavor = grefm.018.f
	
	event_image = {
		video = "ep1_transfer_of_authority"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by decision
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
	}
	
	option = {
		name = grefm.018.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_dismissed_bavarians
			months = normal_modifier_time
			is_decaying = yes
		}
		if = {
			limit = {
				exists = c:BAV
			}
			change_relations = {
				country = c:BAV
				value = -30
			}
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_20
			change_variable = {
				name = grefm_bavarocracy_var
				add = 20
			}
		}
	}

}

grefm.019 = { # nikitas released from jail
	type = country_event
	placement = root
	
	title = grefm.019.t
	desc = grefm.019.d
	flavor = grefm.019.f
	
	event_image = {
		video = "votp_garibaldi"
	}
	
	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by decision
	}
	
	immediate = {	
	}	
	
	option = {
		name = grefm.019.a
		default_option = yes
		create_character = {
			template = template_grefm_nikitaras
		}
		add_modifier = {
			name = modifier_grefm_nikitas_released
			months = normal_modifier_time
			is_decaying = yes
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_20
			change_variable = {
				name = grefm_bavarocracy_var
				add = 20
			}
		}
	}

}

#### MONARCHY SUPPORT EVENTS ####

grefm.020 = { # OPEN
	orphan = yes
}

grefm.021 = { # King Ludwig Visits Greece
	type = country_event
	placement = root
	
	title = grefm.021.t
	desc = grefm.021.d
	flavor = grefm.021.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
		c:BAV = {
			save_scope_as = bavaria_scope
			capital = {
				save_scope_as = bavaria_state_scope
			}
			ruler = {
				save_scope_as = ludwig_scope
			}
		}
		ig:ig_landowners = {
			leader = {
				save_scope_as = armansperg_scope
			}
		}
	}
	
	option = {
		name = grefm.021.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_bavarian_tour
			months = normal_modifier_time
		}
	}

}

grefm.022 = { # Otto Leaves for Bavaria
	type = country_event
	placement = root
	
	title = grefm.022.t
	desc = grefm.022.d
	flavor = grefm.022.f
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}	
	
	immediate = {
		c:BAV = {
			save_scope_as = bavaria_scope
			capital = {
				save_scope_as = bavaria_state_scope
			}
			ruler = {
				save_scope_as = ludwig_scope
			}
		}
	}
	
	option = {
		name = grefm.022.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_absent_monarch
			months = 12
		}
	}

}

grefm.023 = { # A Consort Fit for a Bavarian
	type = country_event
	placement = root
	
	title = grefm.023.t
	desc = grefm.023.d
	flavor = grefm.023.f
	
	gui_window = event_window_2char

	left_icon = scope:royal_marriage_character
	right_icon = scope:queen_amalia_scope
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = { # wedding.2 effects, with extra scripting for Queen Amalia and Oldenburg
		create_character = {
			template = template_grefm_oldenburg_amalia
			on_created = {
				place_character_in_void = 300
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_oldenburg_amalia
			}
			save_scope_as = queen_amalia_scope
		}
		random_scope_character = {
			limit = {
				has_variable = spouse_seeker
			}
			save_scope_as = royal_marriage_character
		}
		random_country = {
			limit = {
				NOT = { THIS = ROOT }
				NOT = { THIS ?= c:OLD }
				has_law = law_type:law_monarchy
				country_has_state_religion = rel:catholic
				is_country_type = recognized
				ruler = {
					age > 36
					NOT = {
						has_variable = marriage_target
					}
				}
			}
			save_scope_as = marriage_country_1
			ruler = {
				save_scope_as = foreign_ruler_1
			}
		}
		if = {
			limit = {
				exists = scope:marriage_country_1
				any_country = {
					NOT = { THIS = ROOT }
					NOT = { THIS ?= c:OLD }
					NOT = { THIS = scope:marriage_country_1 }
					has_law = law_type:law_monarchy
					country_has_state_religion = rel:catholic
					is_country_type = recognized
					ruler = {
						age > 36
						NOT = { has_variable = marriage_target }
					}
				}
			}
			random_country = {
				limit = {
					NOT = { THIS = ROOT }
					NOT = { THIS ?= c:OLD }
					NOT = { THIS = scope:marriage_country_1 }
					has_law = law_type:law_monarchy
					country_has_state_religion = rel:catholic
					is_country_type = recognized
					ruler = {
						age > 36
						NOT = {
							has_variable = marriage_target
						}
					}
				}
				save_scope_as = marriage_country_2
				ruler = {
					save_scope_as = foreign_ruler_2
				}
			}
			if = { #In order for this to be searched for, marriage country 2 must also exist.
				limit = {
					exists = scope:marriage_country_2
					any_country = {
						NOT = { THIS = ROOT }
						NOT = { THIS ?= c:OLD }
						NOT = { THIS = scope:marriage_country_1 }
						NOT = { THIS = scope:marriage_country_2 }
						has_law = law_type:law_monarchy
						country_has_state_religion = rel:catholic
						is_country_type = recognized
						ruler = {
							age > 36
							NOT = { has_variable = marriage_target }
						}
					}
				}
				random_country = {
					limit = {
						NOT = { THIS = ROOT }
						NOT = { THIS ?= c:OLD }
						NOT = { THIS = scope:marriage_country_1 }
						NOT = { THIS = scope:marriage_country_2 }
						relations:root >= 0
						has_law = law_type:law_monarchy
						country_has_state_religion = rel:catholic
						is_country_type = recognized
						ruler = {
							age > 36
							NOT = {
								has_variable = marriage_target
							}
						}
					}
					save_scope_as = marriage_country_3
					ruler = {
						save_scope_as = foreign_ruler_3
					}
				}
			}
		}
		c:OLD = {
			save_scope_as = oldenburg_scope
		}
	}
	
	option = { # Queen Amalia, the Historical Option
		name = grefm.023.a
		default_option = yes
		trigger = {
			exists = scope:queen_amalia_scope
			exists = c:OLD
		}
		c:OLD ?= {
			ruler = {
				set_variable = marriage_target
			}
			save_scope_as = marriage_country
			change_relations = {
				country = ROOT
				value = 20
			}
		}
		trigger_event = {
			id = wedding.1
			popup = yes
		}
		custom_tooltip = grefm.023.tt
	}
	
	option = { # Vanilla Noble 1
		name = wedding.2.a
		trigger = {
			exists = scope:marriage_country_1
		}
		scope:marriage_country_1 = {
			ruler = {
				set_variable = marriage_target
			}
			save_scope_as = marriage_country
			change_relations = {
				country = ROOT
				value = 20
			}
		}
		trigger_event = {
			id = wedding.1
			popup = yes
		}
	}
	
	option = { # Vanilla Noble 2
		name = wedding.2.b
		trigger = {
			exists = scope:marriage_country_2
		}
		scope:marriage_country_2 = {
			ruler = {
				set_variable = marriage_target
				save_scope_as = marriage_country_ruler
			}
			save_scope_as = marriage_country
			change_relations = {
				country = ROOT
				value = 20
			}
		}
		trigger_event = {
			id = wedding.1
			popup = yes
		}
	}
	
	option = { # Dynamic Noble 3
		name = wedding.2.c
		trigger = {
			exists = scope:marriage_country_3
		}
		scope:marriage_country_3 = {
			ruler = {
				set_variable = marriage_target
				save_scope_as = marriage_country_ruler
			}
			save_scope_as = marriage_country
			change_relations = {
				country = ROOT
				value = 20
			}
		}
		trigger_event = {
			id = wedding.1
			popup = yes
		}
	}

	after = {
		ruler = {
			set_variable = is_married
			remove_variable = spouse_seeker
		}
	}
}

grefm.024 = { # Otto's Intellect Challenged
	type = country_event
	placement = root
	
	title = grefm.024.t
	desc = grefm.024.d
	flavor = grefm.024.f
	
	event_image = {
		video = "ep1_clandestine_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		ig:ig_landowners = {
			leader = {
				save_scope_as = armansperg_scope
			}
		}
		c:BAV = {
			ruler = {
				save_scope_as = ludwig_scope
			}
		}
	}
	
	option = {
		name = grefm.024.a
		default_option = yes
		scope:king_otto_scope = {
			add_modifier = modifier_grefm_feebleminded
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_minus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = -100
			}
		}
	}

}

grefm.025 = { # Discharging the Regency
	type = country_event
	placement = root
	
	title = grefm.025.t
	desc = grefm.025.d
	flavor = grefm.025.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		ig:ig_landowners = {
			leader = {
				save_scope_as = armansperg_scope
			}
		}
		create_character = {
			template = template_grefm_rudhart_ignaz
			on_created = {
				place_character_in_void = 12 # just for this event
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_rudhart_ignaz
			}
			save_scope_as = grefm_rudhart_scope
		}
		set_variable = grefm_regency_completed
	}
	
	option = { # Kick Armansperg Out
		name = grefm.025.a
		default_option = yes
		scope:king_otto_scope = {
			remove_modifier = modifier_grefm_feebleminded
		}
		scope:armansperg_scope = {
			hidden_effect = {
				disinherit_character = yes
			}
			exile_character = yes
		}
		scope:grefm_rudhart_scope = {
			set_as_interest_group_leader = yes
			free_character_from_void = yes
		}
	}
	
	option = { # Be a Beta
		name = grefm.025.b
		add_modifier = {
			name = modifier_grefm_impotent_monarch
			months = long_modifier_time
		}
		scope:armansperg_scope = {
			hidden_effect = {
				disinherit_character = yes
			}
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_minus_200
			change_variable = {
				name = grefm_bavarocracy_var
				add = -200
			}
		}
	}
	
	after = {
		hidden_effect = {
			trigger_event = {
				id = grefm.010 # adds je_grefm_greek_constitution
				days = 30
			}
			trigger_event = {
				id = grefm.011 # adds je_grefm_land_reform
				days = 45
			}
			trigger_event = {
				id = grefm.013 # je_grefm_brigandage
				days = 90
			}
			trigger_event = {
				id = grefm.015 # je_grefm_civic_tradition
				days = 120
			}
		}
		set_variable = grefm_bavarocracy
		remove_variable = eocfm_ruler_conversion_considered
	}
	
}

grefm.026 = { # The Philorthodox Conspiracy; this is a grefm-specific variant of eocfm.006
	type = country_event
	placement = root
	
	title = grefm.026.t
	desc = grefm.026.d
	flavor = grefm.026.f
	
	event_image = {
		video = "ep1_clandestine_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_orthodox.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			has_variable = eocfm_ruler_conversion_considered
		}
		var:grefm_bavarocracy_var <= 1500
		ruler = {
			NOT = {
				has_religion = orthodox
			}
		}
		heir ?= {
			NOT = {
				has_religion = orthodox
			}
		}
	}
	
	immediate = {
		set_variable = eocfm_ruler_conversion_considered
		ruler = {
			save_scope_as = eocfm_ruler_scope
		}
		heir = {
			save_scope_as = eocfm_heir_scope
		}
		ig:ig_devout = {
			leader = {
				save_scope_as = devout_leader_scope
			}
		}
	}	
	
	option = { # Both will convert
		name = grefm.026.a
		default_option = yes
		scope:eocfm_ruler_scope = {
			change_character_religion = rel:orthodox
			add_modifier = modifier_eocfm_accepted_conversion
		}
		scope:eocfm_heir_scope = {
			change_character_religion = rel:orthodox
			add_modifier = modifier_eocfm_accepted_conversion
		}
		add_modifier = {
			name = modifier_eocfm_ruler_accepted_conversion
			months = normal_modifier_time
		}
		add_loyalists = {
			religion = rel:orthodox
			value = medium_radicals
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
	}
	
	option = { # Heir will convert
		name = grefm.026.b
		scope:eocfm_ruler_scope = {
			add_modifier = {
				name = modifier_eocfm_refused_conversion
				months = very_long_modifier_time
			}
		}
		scope:eocfm_heir_scope = {
			change_character_religion = rel:orthodox
			add_modifier = modifier_eocfm_accepted_conversion
		}
		add_loyalists = {
			religion = rel:orthodox
			value = small_radicals
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_50
			change_variable = {
				name = grefm_bavarocracy_var
				add = 50
			}
		}
	}
	
	option = { # 99 THESES GO BRRRRRRRRR
		name = grefm.026.c
		scope:eocfm_ruler_scope = {
			add_modifier = {
				name = modifier_eocfm_refused_conversion
				months = very_long_modifier_time
			}
		}
		scope:eocfm_heir_scope = {
			add_modifier = {
				name = modifier_eocfm_refused_conversion
				months = very_long_modifier_time
			}
		}
		add_modifier = {
			name = modifier_eocfm_ruler_refused_conversion
			months = normal_modifier_time
		}
		add_radicals = {
			religion = rel:orthodox
			value = medium_radicals
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_minus_50
			change_variable = {
				name = grefm_bavarocracy_var
				add = -50
			}
		}
	}

}

grefm.029 = { # Absolutism in Greece
	type = country_event
	placement = root
	
	title = grefm.029.t
	desc = grefm.029.d
	flavor = grefm.029.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_bavarian_greece
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
	}
	option = {
		name = grefm.029.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_absolutist_rule
			months = long_modifier_time
		}
		add_loyalists = {
			strata = rich
			value = medium_radicals
		}
	}

}

#### CONSTITUTIONAL MONARCHY EVENTS ####

grefm.030 = { # 1862 head of state referendum
	type = country_event
	placement = root
	
	title = grefm.030.t
	desc = grefm.030.d
	flavor = grefm.030.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by JE
	}
	
	immediate = {
		random_scope_character = {
			limit = {
				has_template = garibaldi_character_template
			}
			save_scope_as = grefm_garibaldi_scope
		}
		if = {
			limit = {
				NOT = { has_variable = grefm_bavarocracy_completed }
			}
			set_variable = grefm_bavarocracy_completed
		}
		heir ?= {
			save_scope_as = grefm_heir_scope
		}
		remove_variable = grefm_bavarocracy
	}
	
	option = { # William of Denmark - the historical option
		name = grefm.030.1
		default_option = yes
		trigger = { # always available
		}
		custom_tooltip = {
			text = grefm.030.1.tt
			hidden_effect = {
				create_character = {
					first_name = George
					last_name = Glucksburg
					noble = yes
					historical = yes
					age = 17
					dna = mr_gre_george_i
					culture = cu:danish
					religion = rel:catholic
					interest_group = ig_landowners
					ideology = ideology_royalist
					traits = {
						direct
						charismatic
						basic_diplomat
					}
					on_created = {
						set_character_as_ruler = yes
#						set_variable = grefm_is_glucksburg
					}
				}
			}
		}
		trigger_event = {
			id = grefm.031 # the king of the hellenes
			days = 30
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
	}
	
	option = { # Philippe de Flandre - the Belgian option
		name = grefm.030.2
		trigger = {
			has_diplomatic_pact = {
				who = c:BEL
				type = alliance
			}
			NOT = {
				has_global_variable = grefm_the_belgian_option
			}
		}
		custom_tooltip = {
			text = grefm.030.2.tt
			hidden_effect = {
				create_character = {
					first_name = Philippe
					last_name = de_Flandre
					noble = yes
					historical = yes
					age = 25
					culture = cu:flemish
					religion = rel:catholic
					interest_group = ig_landowners
					ideology = ideology_royalist
					traits = {
						basic_political_operator
						arrogant
					}
					on_created = {
						set_character_as_ruler = yes
					}
				}
			}
		}
		trigger_event = {
			id = grefm.031 # the king of the hellenes
			days = 30
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
		set_global_variable = grefm_the_belgian_option # blocks this option on the balkfm side
	}
	
	option = { # Eynard the Philhellene - got a few votes and was a major financier in the Greek War of Independence
		name = grefm.030.3
		trigger = {
			has_technology_researched = mutual_funds
		}
		custom_tooltip = {
			text = grefm.030.3.tt
			hidden_effect = {
				create_character = {
					first_name = Jean_Gabriel
					last_name = Eynard
					historical = yes
					age = 87
					culture = cu:alemannic
					religion = rel:catholic
					interest_group = ig_petty_bourgeoisie
					ideology = ideology_moderate
					traits = {
						basic_political_operator
						arrogant
					}
					on_created = {
						set_character_as_ruler = yes
					}
				}
			}
		}
		trigger_event = {
			id = grefm.031 # the king of the hellenes
			days = 30
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
#		set_variable = grefm_dr_moneybags_in_the_house
	}
	
	option = { # Ypsilantis, the Phanariote option - votes were cast in favor of an unspecfied Ypsilantis noble
		name = grefm.030.4
		trigger = { # Always Available
		}
		custom_tooltip = {
			text = grefm.030.4.tt
			hidden_effect = {
				create_character = {
					last_name = Ypsilantis
					noble = yes
					age = 30
					culture = cu:hellene
					religion = rel:orthodox
					interest_group = ig_landowners
					ideology = ideology_moderate
					traits = {
						basic_political_operator
						arrogant
					}
					on_created = {
						set_variable = grefm_phanariot
						set_character_as_ruler = yes
					}
				}
			}
		}
		c:GBR ?= {
			change_relations = {
				country = root
				value = -25
			}
		}
		c:FRA ?= {
			change_relations = {
				country = root
				value = -25
			}
		}
		c:RUS ?= {
			change_relations = {
				country = root
				value = -25
			}
		}
		trigger_event = {
			id = grefm.031 # the king of the hellenes
			days = 30
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
	}
	
	option = { # Garbaldi, if he's in town - he literally has votes recorded in his name, I don't understand
		name = grefm.030.5
		trigger = {
			exists = scope:grefm_garibaldi_scope
		}
		scope:grefm_garibaldi_scope = {
			set_character_as_ruler = yes
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
	}

	option = { # Make it a republic - unsurprisingly some voters just wrote this option in
		name = grefm.030.6
		trigger = {
			has_technology_researched = egalitarianism
		}
		activate_law = law_type:law_parliamentary_republic
		trigger_event = {
			id = grefm.005 # convenient for cleanup, flavor, and damaging relations
			popup = yes
		}
	}
	
	option = { # Dredge up a Palaiologos descendant
		name = grefm.030.7
		trigger = {
			OR = {
				c:BYZ ?= this
				c:ERE ?= this
			}
		}
		custom_tooltip = {
			text = grefm.030.7.tt
			hidden_effect = {
				create_character = {
					last_name = Palaiologos
					noble = yes
					age = 30
					culture = cu:hellene
					religion = rel:orthodox
					interest_group = ig_landowners
					ideology = ideology_moderate
					traits = {
						trait_byzfm_porphyrogenitus
						ambitious
						charismatic
						basic_political_operator
					}
					on_created = {
						set_variable = grefm_phanariot
						set_character_as_ruler = yes
					}
				}
			}
		}
		trigger_event = {	
			id = grefm.810 # The Basileus Basileōn
			days = 10
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
		set_variable = byzfm_took_the_purple
	}
	
	after = {
		set_variable = grefm_1862_election_held
	}

}

grefm.031 = { # the king of the hellenes
	type = country_event
	placement = root
	
	title = grefm.031.t
	desc = {
		triggered_desc = {
			desc = grefm.031.d1
			trigger = {
				has_variable = grefm_1862_election_held
			}
		}
		triggered_desc = {
			desc = grefm.031.d2
			trigger = {
				has_variable = grefm_bavarocracy_secured
			}
		}
		triggered_desc = {
			desc = grefm.031.d3
			trigger = {
				NOR = {
					has_variable = grefm_1862_election_held
					has_variable = grefm_bavarocracy_secured
				}
			}
		}
	}
	flavor = grefm.031.f
	
	duration = 3
	
	dlc = dlc_grefm
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:king_of_the_hellenes_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	trigger = { # triggered by grefm.007 or grefm.030
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_of_the_hellenes_scope
		}
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = grefm_capital_scope
		}
		create_character = {
			template = template_grefm_trikoupis_charilaos
			on_created = {
				place_character_in_void = 12 # just for this event
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_trikoupis_charilaos
			}
			save_scope_as = grefm_trikoupis_scope
		}
		set_variable = grefm_glucksburg_era
	}
	
	option = { # standard option if you got here via grefm.030
		name = grefm.031.a
		default_option = yes
		trigger = {
			has_variable = grefm_1862_election_held
		}
		scope:grefm_trikoupis_scope = {
			free_character_from_void = yes
			set_as_interest_group_leader = yes
		}
	}
	
	option = { # alternate if you got here via je_grefm_the_tyranny_of_house_wittelsbach
		name = grefm.031.a
		trigger = {
			has_variable = grefm_bavarocracy_secured
		}
		set_variable = {
			name = grefm_absolutism_var
			value = 0
		}
		add_journal_entry = {
			type = je_grefm_bavarian_greece
		}
	}
	
	option = { # alternate if you got here via je_grefm_bavarocracy_main
		name = grefm.031.a
		default_option = yes
		trigger = {
			NOR = {
				has_variable = grefm_1862_election_held
				has_variable = grefm_bavarocracy_secured
			}
		}
		scope:grefm_trikoupis_scope = {
			free_character_from_void = yes
			set_as_interest_group_leader = yes
		}
	}
	
}

grefm.032 = { # who is to blame
	type = country_event
	placement = root
	
	title = grefm.032.t
	desc = grefm.032.d
	flavor = grefm.032.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_glucksburg.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_got_blamed }
		has_variable = grefm_1862_election_held
		has_technology_researched = egalitarianism
		has_law = law_type:law_monarchy
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = intelligentsia_leader_scope
			}
		}
		set_variable = grefm_got_blamed
	}
	
	option = {
		name = grefm.032.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_the_dedilomeni_principle
		}
	}

}

grefm.033 = { # a harmonious state
	type = country_event
	placement = root
	
	title = grefm.033.t
	desc = grefm.033.d
	flavor = grefm.033.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_glucksburg.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
	}	
	
	option = {
		name = grefm.033.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_harmonious_state
			months = long_modifier_time
		}
		add_loyalists = {
			culture = cu:hellene
			value = small_radicals
		}
	}

}

grefm.034 = { # unfortunately we are bankrupt
	type = country_event
	placement = root
	
	title = grefm.034.t
	desc = grefm.034.d
	flavor = grefm.034.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		has_variable = grefm_glucksburg_era
		NOT = { has_variable = grefm_player_sucks_at_money }
		has_modifier = declared_bankruptcy
	}
	
	immediate = {
		set_variable = grefm_player_sucks_at_money
	}
	
	option = { # repudiate foreign loans
		name = grefm.034.a
		default_option = yes
		remove_modifier = declared_bankruptcy
		add_modifier = {
			name = modifier_grefm_repudiated_loans
			months = long_modifier_time
		}
		change_infamy = {
			add = 20
		}
	}
	
	option = { # reorganize our finances
		name = grefm.034.b
		remove_modifier = declared_bankruptcy
		add_modifier = {
			name = modifier_grefm_reorganized_finances
			months = normal_modifier_time
		}
	}
	
}

grefm.035 = { # A Perennial Problem
	type = country_event
	placement = root
	
	title = grefm.035.t
	desc = grefm.035.d
	flavor = grefm.035.f
	
	event_image = {
		video = "votp_cops_march"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			has_variable = grefm_legacy_brigandage
		}
		OR = {
			has_journal_entry = je_grefm_the_dedilomeni_principle
			has_journal_entry = je_grefm_bavarian_greece
		}
		institution_investment_level = {
			institution = institution_police
			value < 5
		}
	}
	
	immediate = {
		ruler = {
			save_scope_as = grefm_king_george_scope
		}
		set_variable = grefm_legacy_brigandage
	}
	
	option = {
		name = grefm.035.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_legacy_brigandage
			months = short_modifier_time
			is_decaying = yes
		}
	}

}


#### THE RISE OF VENIZELOS EVENTS ####

grefm.040 = { # Nationalist Fervor
	type = country_event
	placement = root
	
	title = grefm.040.t
	desc = grefm.040.d
	flavor = grefm.040.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_military_league_happened }
		has_journal_entry = je_grefm_megali_idea
		has_technology_researched = pan-nationalism
		has_technology_researched = political_agitation
		OR = {
			has_variable = grefm_glucksburg_era
			has_variable = grefm_bavarocracy_secured
		}
	}
	
	immediate = {
		set_variable = grefm_military_league_happened
	}
	
	option = {
		name = grefm.040.a
		default_option = yes
		if = {
			limit = {
				has_law = law_type:law_monarchy
				ig:ig_armed_forces = {
					is_powerful = yes
					law_stance = {
						law = law_type:law_parliamentary_republic
						value > neutral
					}
					law_stance = {
						law = law_type:law_autocracy
						value > neutral
					}
					ig_approval < 5
				}
			}
			trigger_event = {
				id = grefm.041 # The Military League
				days = 120
			}
		}
		else = {
			trigger_event = {
				id = grefm.047 # A Cretan Champion (Alternate)
				days = 120
			}
		}
	}

}

grefm.041 = { # the military league
	type = country_event
	placement = root
	
	title = grefm.041.t
	desc = grefm.041.d
	flavor = grefm.041.f
	
	event_image = {
		video = "ep1_clandestine_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}
	
	immediate = {
		remove_variable = coup_aftermath_event_fired
		ig:ig_armed_forces = { # modified from vanilla coup event
			set_variable = coup_ig_var
			save_scope_as = coup_ig
			leader = {
				set_ideology = ideology:ideology_republican_leader
			}
		}
		set_variable = {
			name = coup_for_law
			value = 6
		}
		random_law = {
			limit = {
				type = law_type:law_parliamentary_republic
			}
			save_scope_as = coup_desired_law
		}
		scope:coup_ig = {
			leader = {
				save_scope_as = coup_leader
			}
		}
		set_variable = {
			name = coup_var
			value = 0
		}
		remove_variable = grefm_glucksburg_era
	}
	
	option = { # Advance the coup
		name = grefm.041.a 
		add_journal_entry = { type = je_grefm_the_military_league }
		custom_tooltip = {
			text = coup_advance_25_tt
			set_variable = {
				name = coup_var
				value = 25
			}
		}
		scope:coup_ig = {
			add_modifier = {
				name = coup_supported
				months = long_modifier_time
				is_decaying = yes
			}
		}
	}

	option = { # Resist the coup
		name = grefm.041.b
		default_option = yes
		add_journal_entry = { type = je_grefm_the_military_league }
		custom_tooltip = {
			text = coup_advance_10_tt
			set_variable = {
				name = coup_var
				value = 10
			}
		}
		scope:coup_ig = {
			add_modifier = {
				name = coup_resisted
				months = long_modifier_time
				is_decaying = yes
			}
		}
	}
}
	
grefm.045 = { # a cretan champion
	type = country_event
	placement = root
	
	title = grefm.045.t
	desc = grefm.045.d
	flavor = grefm.045.f
	
	duration = 3
	
	dlc = dlc_grefm
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:grefm_venizelos_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	trigger = {
		NOT = { has_variable = grefm_venizelos_considered }
		has_journal_entry = je_grefm_the_military_league
		has_variable = coup_var
		var:coup_var > 80
	}
	
	immediate = {
		create_character = {
			template = template_grefm_venizelos_eleftherios
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_venizelos_eleftherios
			}
			save_scope_as = grefm_venizelos_scope
		}
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = grefm_capital_scope
		}
		set_variable = grefm_venizelos_considered
	}
	
	option = { # accept the cretan
		name = grefm.045.a
		default_option = yes
		set_variable = grefm_venizelos_has_landed
		scope:grefm_venizelos_scope = {
			transfer_character = ROOT
			set_as_interest_group_leader = yes
			set_variable = grefm_is_venizelos
		}
	}
	
	option = { # honestly, just let it burn
		name = grefm.045.b
		add_radicals = {
			culture = cu:hellene
			value = medium_radicals
		}
		change_variable = {
			name = coup_var
			add = 15
		}
		custom_tooltip = coup_advance_15_tt
	}
}

grefm.046 = { # the goudi coup
	type = country_event
	placement = root
	
	title = grefm.046.t
	desc = grefm.046.d
	flavor = grefm.046.f
	
	event_image = {
		video = "votp_agitator_speaking"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		if = {
			limit = {
				AND = {
					ROOT = {
						has_variable = owes_sponsor_obligation
					}
					any_country = {
						has_variable = coup_sponsor
						var:coup_sponsor = root
					}
				}	
			}
			ROOT = {
				remove_variable = owes_sponsor_obligation
			}
			random_country = {
				limit = {
					AND = {
						has_variable = coup_sponsor
						this.var:coup_sponsor = root
					}
				}
				save_scope_as = coup_sponsor_obligation_target
			}
		}
		ig:ig_armed_forces = {
			save_scope_as = ig_armed_forces_scope
		}
		set_variable = government_couped
		activate_law = law_type:law_parliamentary_republic
		activate_law = law_type:law_autocracy
	}
	
	option = {
		name = grefm.046.a
		default_option = yes
		trigger = {
			scope:coup_desired_law = {
				type = law_type:law_parliamentary_republic
			}
		}
		default_option = yes
		scope:coup_ig = {
			hidden_effect = {
				if = {
					limit = {
						has_modifier = modifier_unrivaled_in_government
					}
					remove_modifier = modifier_unrivaled_in_government
				}

			}
			add_modifier = {
				name = modifier_unrivaled_in_government
				months = long_modifier_time
				is_decaying = yes
			}
		}
		if = {
			limit = {
				NOT = {
					has_law = law_type:law_monarchy
				}
			}
			scope:coup_ig = {
				leader = {
					set_character_as_ruler = yes
				}
			}
		}
		else_if = {
			limit = {
				has_law = law_type:law_monarchy
			}
			if = {
				limit = {
					ruler.interest_group = {
						is_same_interest_group_type = scope:coup_ig
					}
				}
				#Do nothing
			}
			else_if = {
				limit = {
					ruler.interest_group ?= {
						NOT = {
							is_same_interest_group_type = scope:coup_ig
						}
					}
					heir ?= {
						THIS.interest_group = {
							is_same_interest_group_type = scope:coup_ig
						}
					}
				}
				ruler = {
					kill_character = yes
				}
				#Do nothing
			}
			else = {
				hidden_effect = {
					heir ?= {
						kill_character = yes
					}
					ruler ?= {
						kill_character = yes
					}
				}
				create_character = {
					ruler = yes
					interest_group = scope:coup_ig
				}	
			}
		}
		if = {
			limit = {
				any_country = {
					has_variable = coup_sponsor
					this.var:coup_sponsor = root
				}
			}
			root = { set_owes_obligation_to = { country = scope:coup_sponsor_obligation_target setting = yes } }	
			scope:coup_sponsor_obligation_target = {
				remove_variable = coup_sponsor
			}
		}
	}

}

grefm.047 = { # A Cretan Champion Alternate
	type = country_event
	placement = root
	
	title = grefm.047.t
	desc = grefm.047.d
	flavor = grefm.047.f
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:grefm_venizelos_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	trigger = {
	}
	
	immediate = {
		create_character = {
			template = template_grefm_venizelos_eleftherios
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_venizelos_eleftherios
			}
			save_scope_as = grefm_venizelos_scope
		}
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = grefm_capital_scope
		}
		set_variable = grefm_military_league_happened
		set_variable = grefm_venizelos_considered
	}
	
	option = { # accept the cretan
		name = grefm.047.a
		default_option = yes
		set_variable = grefm_venizelos_has_landed
		scope:grefm_venizelos_scope = {
			transfer_character = ROOT
			set_as_interest_group_leader = yes
			set_variable = grefm_is_venizelos
		}
		trigger_event = {
			id = grefm.049 # The Rise of the Ethnarch (Alternate)
			days = 30
		}
	}
	
	option = { # reject his ass
		name = grefm.047.b
		if = {
			limit = {
				empty_agitator_slots <= 0
			}
			add_modifier = {
				name = modifier_grefm_agitator_slot
				months = long_modifier_time
			}
		}
		scope:grefm_venizelos_scope = {
			transfer_character = ROOT
			add_character_role = agitator
			add_trait = trait_grefm_ethnarch
		}
		add_radicals = {
			culture = cu:hellene
			value = medium_radicals
		}
	}
	
}

grefm.048 = { # venizelos has landed
	type = country_event
	placement = root
	
	title = grefm.048.t
	desc = grefm.048.d
	flavor = grefm.048.f
	
	duration = 3
	
	dlc = dlc_grefm
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:grefm_venizelos_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	trigger = { # triggered by JE
	}
	
	immediate = { 
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
		scope:coup_ig = {
			leader = {
				save_scope_as = coup_leader
			}
		}
		capital = {
			save_scope_as = capital_scope
		}
		if = {
			limit = {
				any_country = {
					has_variable = coup_sponsor
					this.var:coup_sponsor = root
				}
			}		
			random_country = {
				limit = {
					AND = {
						has_variable = coup_sponsor
						this.var:coup_sponsor = root
					}
				}
				remove_variable = coup_sponsor
			}
		}
		create_character = {
			template = template_grefm_metaxas_ioannis
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_metaxas_ioannis
			}
			save_scope_as = ioannis_metaxas_scope
		}
	}	
	
	option = {
		name = grefm.048.a
		default_option = yes
		scope:coup_ig = {
			add_modifier = {
				name = failed_coup
				months = normal_modifier_time
			}
			set_variable = { name = coup_guilty days = 3650 }
		}
		every_interest_group = {
			limit = {
				NOT = { THIS = scope:coup_ig }
				is_marginal = no
				law_stance = {
					law = scope:coup_desired_law.type
					value < approve
				}
			}
			add_modifier = {
				name = coup_prevented
				months = long_modifier_time
				is_decaying = yes
				# +2 approval
			}
		}
		if = {
			limit = {
				exists = scope:coup_leader
			}
			scope:coup_leader = {
				exile_character = yes
			}
		}
		scope:ioannis_metaxas_scope = {
			transfer_character = ROOT
			set_as_interest_group_leader = yes
		}
		trigger_event = {
			id = grefm.050 # The Nature of the National Assembly
			days = 90
		}
	}

}

grefm.049 = { #  Rise of the Ethnarch (Alternate)
	type = country_event
	placement = root
	
	title = grefm.049.t
	desc = grefm.049.d
	flavor = grefm.049.f
	
	duration = 3
	
	dlc = dlc_grefm
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:grefm_venizelos_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	trigger = { # triggered by JE
	}
	
	immediate = { 
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
		capital = {
			save_scope_as = capital_scope
		}
		create_character = {
			template = template_grefm_metaxas_ioannis
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_metaxas_ioannis
			}
			save_scope_as = ioannis_metaxas_scope
		}
	}
	
	option = {
		name = grefm.049.a
		default_option = yes
		scope:ioannis_metaxas_scope = {
			transfer_character = ROOT
			set_as_interest_group_leader = yes
		}
		trigger_event = {
			id = grefm.050 # The Nature of the National Assembly
			days = 90
		}
	}

}

#### THAT NONSENSE WITH VENIZELOS ####

grefm.050 = { # The Nature of the National Assembly
	type = country_event
	placement = root
	
	title = grefm.050.t
	desc = grefm.050.d
	flavor = grefm.050.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
	}
	
	option = {
		name = grefm.050.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_venizelism_main
		}
		show_as_tooltip = {
			add_modifier = modifier_grefm_venizelist_tilt
		}
		if = {
			limit = {
				in_election_campaign = no
			}
			call_election = {
				months = 1
			}
		}
	}
	
	option = {
		name = grefm.050.b
		trigger = {
			has_law = law_type:law_monarchy
		}
		add_journal_entry = {
			type = je_grefm_venizelism_main
		}
		show_as_tooltip = {
			add_modifier = modifier_grefm_venizelist_tilt
		}		
		add_journal_entry = {
			type = je_grefm_venizelism_constitution
		}
		if = {
			limit = {
				in_election_campaign = no
			}
			call_election = {
				months = 1
			}
		}
	}
	
	after = {
		hidden_effect = { # the National Assembly conlcuded its reforms much more quickly than this, but gameplay lol
			trigger_event = {
				id = grefm.051 # Rejuventating the State
				days = 60
			}
			trigger_event = {
				id = grefm.053 # Reorganzing the Military
				days = 90
			}
			trigger_event = {
				id = grefm.055 # Advancing Society
				days = 120
			}
			trigger_event = {
				id = grefm.057 # The Ignorant Masses
				days = 150
			}
		}
	}

}

grefm.051 = { # Rejuventating the State
	type = country_event
	placement = root
	
	title = grefm.051.t
	desc = grefm.051.d
	flavor = grefm.051.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
	}
	
	option = {
		name = grefm.051.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_venizelism_civics
		}
	}

}

grefm.052 = { # A Competent Bureaucracy
	type = country_event
	placement = root
	
	title = grefm.052.t
	desc = grefm.052.d
	flavor = grefm.052.f
	
	event_image = {
		video = "southamerica_election"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.052.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_competent_bureaucracy
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = bureaucrats
			value = medium_radicals
		}
		add_loyalists = {
			pop_type = peasants
			value = large_radicals
		}
		set_variable = grefm_venizelism_civics_completed
	}

}

grefm.053 = { # Reorganizing the Military
	type = country_event
	placement = root
	
	title = grefm.053.t
	desc = grefm.053.d
	flavor = grefm.053.f
	
	event_image = {
		video = "middleeast_battlefield_trenches"
	}
	
	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
	}
	
	option = {
		name = grefm.053.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_venizelism_military
		}
	}

}

grefm.054 = { # A Formidable Military
	type = country_event
	placement = root
	
	title = grefm.054.t
	desc = grefm.054.d
	flavor = grefm.054.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.054.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_military_reorganized
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = officers
			value = medium_radicals
		}
		add_loyalists = {
			pop_type = soldiers
			value = large_radicals
		}
		set_variable = grefm_venizelism_military_completed
	}

}

grefm.055 = { # Advancing Society
	type = country_event
	placement = root
	
	title = grefm.055.t
	desc = grefm.055.d
	flavor = grefm.055.f
	
	event_image = {
		video = "europenorthamerica_sufferage"
	}
	
	icon = "gfx/interface/icons/event_icons/event_election.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
	}
	
	option = {
		name = grefm.055.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_venizelism_society
		}
	}

}

grefm.056 = { # A Modern Society
	type = country_event
	placement = root
	
	title = grefm.056.t
	desc = grefm.056.d
	flavor = grefm.056.f
	
	event_image = {
		video = "europenorthamerica_london_center"
	}
	
	icon = "gfx/interface/icons/event_icons/event_election.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.056.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_society_modernized
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = shopkeepers
			value = medium_radicals
		}
		add_loyalists = {
			pop_type = laborers
			value = large_radicals
		}
		set_variable = grefm_venizelism_society_completed
	}

}


grefm.057 = { # The Ignorant Masses
	type = country_event
	placement = root
	
	title = grefm.057.t
	desc = grefm.057.d
	flavor = grefm.057.f
	
	event_image = {
		video = "europenorthamerica_rich_and_poor"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
	}
	
	option = {
		name = grefm.057.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_venizelism_education
		}
	}

}

grefm.058 = { # An Educated Populace
	type = country_event
	placement = root
	
	title = grefm.058.t
	desc = grefm.058.d
	flavor = grefm.058.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}	
	
	option = {
		name = grefm.058.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_populace_educated
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = academics
			value = medium_radicals
		}
		add_loyalists = {
			strata = poor
			value = large_radicals
		}
		set_variable = grefm_venizelism_education_completed
	}

}

grefm.059 = { # The Cretan Triumphant
	type = country_event
	placement = root
	
	title = grefm.059.t
	desc = grefm.059.d
	flavor = grefm.059.f
	
	event_image = {
		video = "unspecific_signed_contract"
	}
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.059.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_venizelist_triumph
			months = long_modifier_time
		}
		add_loyalists = {
			value = small_radicals
		}
	}

}

##########################################################
##	#GRE1	HISTORY/CULTURAL EVENTS		Events 100-199	##
##########################################################

#### INDUSTRY EVENTS ####
# events in this group trigger off of constructing buildings or activating PMs

grefm.100 = { # fix brewery
	type = country_event
	placement = root
	
	title = grefm.100.t
	desc = grefm.100.d
	flavor = grefm.100.f
	
	event_image = {
		video = "unspecific_gears_pistons"
	}
	
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = grefm_fix_brewery_considered }
		s:STATE_ATTICA = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_food_industry
					production_method = pm_patent_stills
				}
			}
		}
	}
	
	immediate = {
		set_global_variable = grefm_fix_brewery_considered 
	}
	
	option = {
		name = grefm.100.a
		default_option = yes
		s:STATE_ATTICA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_fix_brewery
					months = very_long_modifier_time
				}
			}
		}
	}

}

grefm.101 = { # Hellenic Railways event
	type = country_event
	placement = root
	
	title = grefm.101.t
	desc = grefm.101.d
	flavor = grefm.101.f
	
	event_image = {
		video = "unspecific_trains"
	}
	
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_hellenic_railways_event }
		c:GRE ?= this
		owns_entire_state_region = STATE_ATTICA
		owns_entire_state_region = STATE_THESSALIA
		any_scope_state = {
			has_building = building_motor_industry
		}
		s:STATE_ATTICA = {
			any_scope_state = {
				has_building = building_railway
			}
		}
		s:STATE_THESSALIA = {
			any_scope_state = {
				has_building = building_railway
			}
		}
	}
	
	immediate = {
		set_variable = grefm_hellenic_railways_event
	}
	
	option = {
		name = grefm.101.a
		default_option = yes
		s:STATE_ATTICA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_railway_production
					months = normal_modifier_time
				}
			}
		}
		s:STATE_THESSALIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_railway_production
					months = normal_modifier_time
				}
			}
		}
	}

}

grefm.102 = { # Greek Aviation Event
	type = country_event
	placement = root
	
	title = grefm.102.t
	desc = grefm.102.d
	flavor = grefm.102.f
	
	event_image = {
		video = "unspecific_airplane"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_greek_aviation }
		NOT = { has_variable = first_flight_achievement_check }
		any_scope_state = {
			is_production_method_active = {
				building_type = building_war_machine_industry
				production_method = pm_aeroplane_production
			}
		}
	}
	
	immediate = {
		set_variable = grefm_greek_aviation
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_scope
			}
		}
	}
	
	option = {
		name = grefm.102.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_aviation
			months = normal_modifier_time
		}
		scope:attica_scope = {
			add_loyalists_in_state = {
				value = small_radicals
			}
		}
	}		

}

grefm.103 = { # greek shipping event
	type = country_event
	placement = root
	
	title = grefm.103.t
	desc = grefm.103.d
	flavor = grefm.103.f
	
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		country_has_primary_culture = cu:hellene
		NOT = { has_modifier = modifier_grefm_greek_shipping }
	}
	
	immediate = {
		add_modifier = modifier_grefm_greek_shipping
	}
	
	option = {
		name = grefm.103.a
		default_option = yes
		show_as_tooltip = {
			add_modifier = modifier_grefm_greek_shipping
		}
	}

}

#### TECHNOLOGY EVENTS ####
# events in this group trigger from researching technologies

grefm.110 = { # The Decline of the Heptanese School
	type = country_event
	placement = root
	
	title = grefm.110.t
	desc = grefm.110.d
	flavor = grefm.110.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		year >= 1838
		NOT = { has_global_variable = grefm_heptanese_school_event }
		has_technology_researched = romanticism
		country_has_primary_culture = cu:hellene
		owns_entire_state_region = STATE_ATTICA
	}
	
	immediate = {
		set_global_variable = grefm_heptanese_school_event
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_scope
			}
		}
	}
	
	option = {
		name = grefm.110.a
		default_option = yes
		scope:attica_scope = {
			create_building = {
 				building="building_arts_academy"
 				level=1
 				reserves=1
 			}
		}
		add_modifier = {
			name = modifier_grefm_funding_royal_art_school
			months = normal_modifier_time
			multiplier = money_amount_multiplier_small
		}
	}
	
	option = { # just in case you don't feel like bankrupting the nation like Otto did
		name = grefm.110.b
	}

}

grefm.111 = { # OPEN; used to enable Lake Kopais decision
	orphan = yes
}

grefm.112 = { # lake kopais drained
	type = country_event
	placement = root
	
	title = grefm.112.t
	desc = grefm.112.d
	flavor = grefm.112.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	
		# triggered by je_grefm_land_reclaimation
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					has_global_variable = grefm_lake_kopais_var
				}
			}
			set_global_variable = grefm_gla_exposed
		}
	}
	
	option = {
		name = grefm.112.a
		default_option = yes
		add_modifier = {
			name = land_reclamation_complete
			months = long_modifier_time
		}
	}

}

grefm.113 = { # a citadel emerges
	type = country_event
	placement = root
	
	title = grefm.113.t
	desc = grefm.113.d
	flavor = grefm.113.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = grefm_gla_exposed }
		has_global_variable = grefm_lake_kopais_var
		global_var:grefm_lake_kopais_var = 2
	}
	
	immediate = {
		set_global_variable = grefm_gla_exposed
	}
	
	option = {
		name = grefm.113.a
		default_option = yes
		custom_tooltip = grefm_gla_exposed_tt2
	}

}

grefm.114 = { # Merchantile Rivalries
	type = country_event
	placement = root
	
	title = grefm.114.t
	desc = grefm.114.d
	flavor = grefm.114.f
	
	event_image = {
		video = "unspecific_steam_ship"
	}
	
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_national_port_considered }
		has_technology_researched = gantry_cranes
		owns_entire_state_region = STATE_ATTICA
		owns_entire_state_region = STATE_PELOPONNESE
		owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
	}
	
	immediate = {
		set_variable = grefm_national_port_considered
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_state_scope
			}
		}
		s:STATE_PELOPONNESE = {
			random_scope_state = {
				save_scope_as = peloponnese_state_scope
			}
		}
		s:STATE_WEST_AEGEAN_ISLANDS = {
			random_scope_state = {
				save_scope_as = west_aegean_state_scope
			}
		}
	}
	
	option = { # Side with Piraeus
		name = grefm.114.a
		default_option = yes
		scope:attica_state_scope = {	
			add_modifier = {
				name = modifier_grefm_national_port
			}
			add_loyalists_in_state = {
				strata = poor
				value = medium_radicals
			}
		}
		scope:peloponnese_state_scope = {
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
		scope:west_aegean_state_scope = {
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
	}
	
	option = { # Side with Patras
		name = grefm.114.b
		scope:attica_state_scope = {	
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
		scope:peloponnese_state_scope = {
			add_modifier = {
				name = modifier_grefm_national_port
			}
			add_loyalists_in_state = {
				strata = poor
				value = medium_radicals
			}
		}
		scope:west_aegean_state_scope = {
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
	}
	
	option = { # Side with Syra
		name = grefm.114.c
		scope:attica_state_scope = {	
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
		scope:peloponnese_state_scope = {
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
		scope:west_aegean_state_scope = {
			add_modifier = {
				name = modifier_grefm_national_port
			}
			add_loyalists_in_state = {
				strata = poor
				value = medium_radicals
			}
		}
	}

}

grefm.119 = { # Land Reclaimed in Kopaida
	type = country_event
	placement = scope:grefm_reclamation_state
	
	title = grefm.119.t
	desc = grefm.119.d
	flavor = grefm.119.f
	
	event_image = {
		video = "europenorthamerica_russian_serfs"
	}
	
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	
		# triggered by je_grefm_land_reclaimation
	}
	
	immediate = {
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = grefm_reclamation_state
			}
		}
	}
	
	option = {
		name = grefm.119.a
		default_option = yes
		scope:grefm_reclamation_state = {
			state_region = {
				add_arable_land = 1
			}
		}
		change_global_variable = {
			name = grefm_lake_kopais_var
			add = 1
		}		
	}

}

#### CULTURAL EVENTS ####
# events in this group center on Greek ethnogenesis

grefm.120 = { # olympics restarted
	type = country_event
	placement = root
	
	title = grefm.120.t
	desc = grefm.120.d
	flavor = grefm.120.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		morgenrote_is_active = no
		has_variable = revive_olympics_decision_taken
		has_modifier = modifier_olympic_games
	}
	
	immediate = {
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_state
			}
		}
		remove_modifier = modifier_olympic_games
		add_modifier = modifier_grefm_olympic_games
	}
	
	option = {
		name = grefm.120.a
		default_option = yes
		add_loyalists = {
			value = small_radicals
			culture = cu:hellene
		}
		custom_tooltip = grefm.120.tt
	}
	
	orphan = yes # Seriously, you people should be using Morgenröte
	
}

grefm.121 = { # The University of Athens
	type = country_event
	placement = scope:university_state
	
	title = grefm.121.t
	desc = grefm.121.d
	flavor = grefm.121.f
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:university_benefactor
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		morgenrote_is_active = no
		country_has_primary_culture = cu:hellene
		NOT = { has_variable = grefm_athens_university_considered }
		has_technology_researched = empiricism
		owns_entire_state_region = STATE_ATTICA
	}
	
	immediate = {
		ruler = { 
			save_scope_as = university_benefactor
		}
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = university_state
			}
		}
		set_variable = grefm_athens_university_considered
	}
	
	option = {
		name = grefm.121.a
		default_option = yes
		scope:university_state = {
			create_building = {
 				building = "building_university"
				level = 1
 			}
		}
		add_modifier = {
			name = modifier_grefm_funding_royal_university
			months = normal_modifier_time
			multiplier = money_amount_multiplier_small
		}
	}
	
	option = {
		name = grefm.121.b
		scope:university_benefactor = {
			add_modifier = {
				name = modifier_grefm_blocked_building_university
				months = normal_modifier_time
			}
		}
	}

}

grefm.122 = { # Patriarchal Academy of Constantinople
	type = country_event
	placement = scope:university_state

	title = grefm.122.t
	desc = grefm.122.d
	flavor = grefm.122.f

	duration = 3
	
	dlc = dlc_grefm

	gui_window = event_window_1char_tabloid

	left_icon = scope:university_benefactor

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		country_has_primary_culture = cu:hellene
		NOT = { has_variable = grefm_university_considered }
		has_technology_researched = romanticism
		owns_entire_state_region = STATE_EASTERN_THRACE
	}

	immediate = {
		ig:ig_intelligentsia = {
			leader = { 
				save_scope_as = university_benefactor
			}
		}
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = university_state
			}
		}
		set_variable = grefm_university_considered
	}

	option = {
		name = grefm.122.a
		default_option = yes
		trigger = {
			scope:university_state = {
				NOT = { has_building = building_university }
			}
		}
		scope:university_state = {
			create_building = {
 				building="building_university"
 				level=1
 				reserves=1
 			}
		}
		scope:university_benefactor.interest_group = {
			add_modifier = {
				name = modifier_university_built
				months = normal_modifier_time
			}
		}
	}
	
	option = {
		name = grefm.122.b
		trigger = {
			scope:university_state = {
				has_building = building_university
			}
		}
		scope:university_state = {
			add_modifier = {
 				name = modifier_byzfm_great_school_of_the_nation
 				months = normal_modifier_time
 			}
		}
	}

	option = {
		name = grefm.122.c
		scope:university_benefactor.interest_group = {
			add_modifier = {
				name = modifier_blocked_building_university
				months = normal_modifier_time
			}
		}
	}
}

grefm.123 = { # the women's council
	type = country_event
	placement = scope:grefm_capital_scope
	
	title = grefm.123.t
	desc = grefm.123.d
	flavor = grefm.123.f
	
	event_image = {
		video = "europenorthamerica_sufferage"
	}
	
	icon = "gfx/interface/icons/event_icons/event_election.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		capital = {
			save_scope_as = grefm_capital_scope
		}
		grefm_create_feminism_characters = yes
		random_character_in_void = {
			limit = {
				has_template = template_grefm_parren_kalliroi
			}
			save_scope_as = kalliroi_scope
		}
	}
	
	option = { # support the movement
		name = grefm.123.a
		default_option = yes
		custom_tooltip = {
			text= grefm.123.tt
		}
		if = {
			limit = {
				empty_agitator_slots < 1
			}
			add_modifier = {
				name = modifier_grefm_agitator_slot
				months = 60
			}
		}
		scope:kalliroi_scope = {
			add_character_role = agitator
			free_character_from_void = yes
		}
	}
	
	option = { # lol get back in the kitchen
		name = grefm.123.b
		add_radicals = {
			strata = low
			value = medium_radicals
		}
		set_variable = grefm_feminism_rejected
	}

}

grefm.124 = { # national council of greek women
	type = country_event
	placement = root
	
	title = grefm.124.t
	desc = grefm.124.d
	flavor = grefm.124.f
	
	event_image = {
		video = "europenorthamerica_sufferage"
	}
	
	icon = "gfx/interface/icons/event_icons/event_election.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		random_character_in_void = {
			limit = {
				has_template = template_grefm_parren_kalliroi
			}
			save_scope_as = kalliroi_scope
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_theodoropoulou_avra
			}
			save_scope_as = theodoropoulou_scope
		}
	}
	
	option = {
		name = grefm.124.a
		default_option = yes
		trigger = {
			empty_agitator_slots >= 1
		}
		if = {
			limit = {
				empty_agitator_slots < 1
			}
			add_modifier = {
				name = modifier_grefm_agitator_slot
				months = 60
			}
		}
		scope:theodoropoulou_scope = {
			free_character_from_void = yes
			add_character_role = agitator
		}
		add_modifier = {
			name = modifier_grefm_greek_feminism
			months = normal_modifier_time
		}
	}
	
	option = {
		name = grefm.124.b
		add_modifier = {
			name = modifier_grefm_greek_feminism
			months = normal_modifier_time
		}
	}
}


#### MONUMENT EVENTS ####
# events in this group will allow certain monuments to be constructed

grefm.130 = { # Corinth Canal Surveyed
	type = country_event
	placement = scope:corinth_canal_site
	
	title = grefm.130.t
	desc = grefm.130.d
	flavor = grefm.130.f

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered by je_grefm_corinth_canal_survey
	}
	
	immediate = {
		s:STATE_PELOPONNESE = {
			random_scope_state = {
				save_scope_as = corinth_canal_site
			}
		}
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = ig_intelligentsia_scope
			}
		}
		set_variable = grefm_corinth_survey_complete
	}
	
	option = {
		name = grefm.130.a
		default_option = yes
		custom_tooltip = grefm.130.tt
	}
	
}

grefm.131 = { # Corinth Canal Completed
	type = country_event
	placement = scope:corinth_canal_site
	
	title = grefm.131.t
	desc = grefm.131.d
	flavor = grefm.131.f

	event_image = {
		video = "unspecific_world_fair"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		NOT = { has_global_variable = grefm_corinth_canal_built }
		s:STATE_PELOPONNESE = {
			has_building = building_corinth_canal
		}
	}

	immediate = {
		s:STATE_PELOPONNESE = {
			random_scope_state = {
				save_scope_as = corinth_canal_site
			}
		}
		set_global_variable = grefm_corinth_canal_built
	}

	option = {
		name = grefm.131.a
		default_option = yes
		add_loyalists = {
			culture = cu:hellene
			value = medium_radicals
		}
		add_loyalists = {
			culture = cu:rhomaios
			value = medium_radicals
		}
	}

}

grefm.132 = { # The Royal Palace of Athens
	type = country_event
	placement = scope:palaia_anaktora_site
	
	title = grefm.132.t
	desc = grefm.132.d
	flavor = grefm.132.f

	event_image = {
		video = "unspecific_world_fair"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		NOT = { has_global_variable = grefm_palaia_built }
		s:STATE_ATTICA = {
			has_building = building_palaia_anaktora
		}
	}

	immediate = {
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = palaia_anaktora_site
			}
		}
		set_global_variable = grefm_palaia_built
	}
	
	option = { # 
		name = grefm.132.a
		default_option = yes
		if = {
			limit = {
				exists = c:BAV
			}
			change_relations = {
				country = c:BAV
				value = 25
			}
		}
	}

}

#### ARCHEAOLOGY EVENTS ####

grefm.140 = { # Archaeological Society of Athens
	type = country_event
	placement = root
	
	title = grefm.140.t
	desc = grefm.140.d
	flavor = grefm.140.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		set_variable = {
			name = grefm_archeaology_var
			value = 0
		}
		set_variable = {
			name = grefm_excavation_var
			value = 0
		}

	}
	
	option = {
		name = grefm.140.a
		default_option = yes
		custom_tooltip = {
			text = grefm.140.a.tt
		}
	}

}

grefm.141 = { # Excavation Team Departs
	type = country_event
	placement = root
	
	title = grefm.141.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = grefm.141.d1
				trigger = {
					NOT = { has_variable = grefm_gla_excavation }
				}
			}
			triggered_desc = {
				desc = grefm.141.d2
				trigger = {
					has_variable = grefm_gla_excavation
				}
			}
		}
	}
	flavor = grefm.141.f
	
	event_image = {
		video = "africa_construction_colony"
	}
	
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by scripted_buttons
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				has_variable = grefm_excavation_target
			}
			save_scope_as = grefm_excavation_site
		}
	}
	
	option = {
		name = grefm.141.a
		default_option = yes
		add_modifier = modifier_grefm_active_excavation
	}
	
	option = {
		name = grefm.141.b
		scope:grefm_excavation_site = {
			remove_variable = grefm_excavation_target
		}
		grefm_cancel_expedition_effect = yes
	}

}

grefm.142 = { # Alternative Dig Sites Considered
	type = country_event
	placement = root
	
	title = grefm.142.t
	desc = grefm.142.d
	flavor = grefm.142.f
	
	event_image = {
		video = "middleeast_middleclass_cafe"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm_archeaology_alternate_site_button
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_archaeology
		}
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.142.a
		default_option = yes
		if = {
			limit = {
				country_has_primary_culture = cu:hellene
			}
			custom_tooltip = {
				text = grefm_roman_sites_allowed_tt
				hidden_effect = {
					set_variable = grefm_roman_sites_allowed
				}
			}
		}
		if = {
			limit = {
				country_has_primary_culture = cu:rhomaios
			}
			custom_tooltip = {
				text = grefm_hellenic_sites_allowed_tt
				hidden_effect = {
					set_variable = grefm_hellenic_sites_allowed
				}
			}
		}
	}
	
}

grefm.143 = { # Hellenic Excavation Completed
	type = country_event
	placement = root
	
	title = grefm.143.t
	desc = grefm.143.d
	flavor = grefm.143.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		var:grefm_excavation_var >= 24
		grefm_has_hellenic_exacavation_trigger = yes
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_archaeology
		}
	}
	
	immediate = {
		grefm_excavation_completion_effect = yes
	}
	
	option = {
		name = grefm.143.a
		default_option = yes
		remove_modifier = modifier_grefm_active_excavation
		custom_tooltip = {
			text = grefm_hellenic_excavation_completed_tt
			hidden_effect = {
				change_variable = {
					name = grefm_hellenic_archeaology_var
					add = 1
				}
				grefm_update_artifact_modifier_effect = yes
			}
		}
		grefm_excavation_completion_effect = yes
	}
	
}

grefm.144 = { # Roman Excavation Completed
	type = country_event
	placement = root
	
	title = grefm.144.t
	desc = grefm.144.d
	flavor = grefm.144.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		var:grefm_excavation_var >= 24
		grefm_has_roman_exacavation_trigger = yes
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_archaeology
		}
	}
	
	immediate = {
		every_scope_state = {
			limit = {
				has_variable = grefm_excavation_target
			}
			remove_variable = grefm_excavation_target
		}
	}
	
	option = {
		name = grefm.144.a
		default_option = yes
		remove_modifier = modifier_grefm_active_excavation
		custom_tooltip = {
			text = grefm_roman_excavation_completed_tt
			hidden_effect = {
				change_variable = {
					name = grefm_roman_archeaology_var
					add = 1
				}
				grefm_update_artifact_modifier_effect = yes
			}
		}
		grefm_excavation_completion_effect = yes
	}
	
}


#### EXCAVATION EVENTS ####

grefm.150 = { # Excavation Positive Progress
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		has_variable = grefm_excavation_var
	}
	
	immediate = {
		post_notification = notification_grefm_steady_progress
		change_variable = {
			name = grefm_excavation_var
			add = 4
		}
	}

}

grefm.151 = { # Excavation Heavy Equipment Needed
	type = country_event
	placement = root
	
	title = grefm.151.t
	desc = grefm.151.d
	flavor = grefm.151.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		var:grefm_excavation_var > 6
		NOT = {
			has_modifier = modifier_grefm_provided_heavy_equipment
		}
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_active_excavation
		}
	}
	
	immediate = {
	}
	
	option = { # bulldozer go brrrrr
		name = grefm.151.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_provided_heavy_equipment
			months = short_modifier_time
			multiplier = money_amount_multiplier_small
		}
		custom_tooltip = {
			text = grefm.151.a.tt
			hidden_effect = {
				change_variable = {
					name = grefm_excavation_var
					add = 6
				}
			}
		}
	}
	
	option = { # idk work the plebs harder
		name = grefm.151.b
		custom_tooltip = {
			text = grefm.151.b.tt
			hidden_effect = {
				change_variable = {
					name = grefm_excavation_var
					subtract = 6
				}
			}
		}
	}

}

grefm.152 = { # Excavation Tomb Uncovered
	type = country_event
	placement = root
	
	title = grefm.152.t
	desc = grefm.152.d
	flavor = grefm.152.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		var:grefm_excavation_var > 6
		NOT = {
			has_modifier = modifier_grefm_discovered_ancient_palace
		}
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_active_excavation
		}
	}
	
	immediate = {
	}
	
	cooldown = {
		years = 10 # this fired way too much in testing
	}
	
	option = { # take your time
		name = grefm.152.a
		default_option = yes
		custom_tooltip = {
			text = grefm.152.a.tt
			hidden_effect = {
				change_variable = {
					name = grefm_excavation_var
					subtract = 6
				}
			}
		}
		add_modifier = {
			name = modifier_grefm_unearthed_tomb
			months = normal_modifier_time
		}
	}
	
	option = { # they're dead who gives a fuck
		name = grefm.152.b
		add_radicals = {
			pop_type = academics
			value = medium_radicals
		}
	}

}

grefm.153 = { # Excavation Minor Collapse
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		var:grefm_excavation_var > 4
	}
	
	immediate = {
		post_notification = notification_grefm_minor_collapse
		change_variable = {
			name = grefm_excavation_var
			subtract = 4
		}
	}

}

grefm.154 = { # Excavation Major Collapse
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		var:grefm_excavation_var > 12
		NOT = { has_variable = grefm_collapse_lessons_learned }
	}
	
	immediate = {
		set_variable = grefm_collapse_lessons_learned
		post_notification = notification_grefm_major_collapse
		change_variable = {
			name = grefm_excavation_var
			subtract = 12
		}
	}

}

grefm.155 = { # Excavation Popular Interest
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		var:grefm_excavation_var > 4
		NOT = {
			has_modifier = modifier_grefm_popular_excavation_project
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				has_variable = grefm_excavation_target
			}
			save_scope_as = grefm_excavation_site
		}
		post_notification = notification_grefm_popular_interest
		scope:grefm_excavation_site = {
			add_modifier = {
				name = modifier_grefm_popular_excavation_project
				months = normal_modifier_time
			}
		}
	}

}

grefm.156 = { # Excavation Palace Uncovered
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		var:grefm_excavation_var > 12
		NOT = {
			has_modifier = modifier_grefm_discovered_ancient_palace
		}
	}
	
	immediate = {
		post_notification = notification_grefm_palace_discovered
		add_modifier = {
			name = modifier_grefm_discovered_ancient_palace
			months = normal_modifier_time
		}
	}

}

grefm.157 = { # The Mask of Agammemnon
	type = country_event
	placement = root
	
	title = grefm.157.t
	desc = grefm.157.d
	flavor = grefm.157.f
	
	event_image = {
		video = "grefm_mask_of_agammemnon"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		morgenrote_is_active = no
		NOT = { has_global_variable = grefm_agammemnon_found }
		has_variable = grefm_archeaology_var
		var:grefm_archeaology_var > 4
	}
	
	immediate = {
		set_global_variable = grefm_agammemnon_found
		s:STATE_PELOPONNESE = {
			random_scope_state = {
				save_scope_as = peloponnese_scope
			}
		}
	}
	
	option = {
		name = grefm.157.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_found_agammemnon
			months = normal_modifier_time
		}
		scope:peloponnese_scope = {
			add_loyalists_in_state = {
				pop_type = academics
				value = medium_radicals
			}
		}	
	}

}

grefm.158 = { # Politician Offers Funding
	type = country_event
	placement = root
	
	title = grefm.158.t
	desc = grefm.158.d
	flavor = grefm.158.f
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:grefm_benefactor_scope
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			any_interest_group = {
				has_modifier = modifier_grefm_supported_excavation  # can't already be supporting a dig
			}
		}	
		any_interest_group = {
			law_stance = {
				law = law_type:law_no_schools # should favor some type of education
				value > neutral
			}
			is_marginal = no # because where will the money come from
		}
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_active_excavation
		}
	}
	
	immediate = {
		switch = {
			trigger = has_variable
			grefm_parthenon_1_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_parthenon_2_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_mycenae_1_excavation = {
				s:STATE_CRETE = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_mycenae_2_excavation = {
				s:STATE_CRETE = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_gla_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_delos_excavation = {
				s:STATE_WEST_AEGEAN_ISLANDS = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_larissa_excavation = {
				s:STATE_THESSALIA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_rhodes_excavation = {
				s:STATE_EAST_AEGEAN_ISLANDS = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
		}		
		random_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_no_schools
					value > neutral
				}
				NOT = {
					has_modifier = modifier_grefm_supported_excavation
				}
				is_marginal = no
			}
			save_scope_as = grefm_benefactor_scope
		}
	}
	
	option = {
		name = grefm.158.a
		default_option = yes
		scope:grefm_benefactor_scope = {
			add_modifier = {
				name = modifier_grefm_supported_excavation
				months = normal_modifier_time
			}
		}
		custom_tooltip = {
			text = grefm.158.tt
			hidden_effect = {
				change_variable = {
					name = grefm_excavation_var
					add = 6
				}
			}
		}
			
	}
	
	option = {
		name = grefm.158.b
		scope:grefm_benefactor_scope = {
			add_modifier = {
				name = modifier_grefm_support_rejected
				months = normal_modifier_time
			}
		}
		add_radicals = {
			pop_type = academics
			value = small_radicals
		}
	}

}

grefm.159 = { # Reconstruction Garners Criticism
	type = country_event
	placement = root
	
	title = grefm.159.t
	desc = grefm.159.d
	flavor = grefm.159.f
	
	event_image = {
		video = "europenorthamerica_art_gallery"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		var:grefm_excavation_var > 12
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_active_excavation
		}
	}
	
	cooldown = {
		years = 10
	}	
	
	immediate = {
		switch = {
			trigger = has_variable
			grefm_parthenon_1_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_parthenon_2_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_mycenae_1_excavation = {
				s:STATE_CRETE = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_mycenae_2_excavation = {
				s:STATE_CRETE = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_gla_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_delos_excavation = {
				s:STATE_WEST_AEGEAN_ISLANDS = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_larissa_excavation = {
				s:STATE_THESSALIA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_rhodes_excavation = {
				s:STATE_EAST_AEGEAN_ISLANDS = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
		}
	}
	
	option = { # Meh, it's good enough
		name = grefm.159.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_bad_reconstruction
			months = normal_modifier_time
		}
		add_radicals = {
			pop_type = academics
			value = small_radicals
		}
	}
	
	option = { # Rebuilt it right, or don't rebuild it at all
		name = grefm.159.b
		custom_tooltip = {
			text = grefm.159.b.tt
			hidden_effect = {
				change_variable = {
					name = grefm_excavation_var
					subtract = 6
				}
			}
		}
		add_loyalists = {
			pop_type = academics
			value = medium_radicals
		}
	}

}

#### MINOR INTERATIONAL EVENTS ####

grefm.160 = { # A Bulgarian Visitor
	type = country_event
	placement = root
	
	title = grefm.160.t
	desc = grefm.160.d
	flavor = grefm.160.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by balkfm.515
	}
	
	immediate = {
		c:BUL = {
			save_scope_as = bulgaria_scope
			ruler = {
				save_scope_as = bulgaria_ruler_scope
			}
		}
		capital = {
			save_scope_as = greece_capital_scope
		}
	}
	
	option = {
		name = grefm.160.a
		default_option = yes
		c:BUL = {
			set_variable = grefm_warm_reception
		}
		change_relations = {
			country = c:BUL
			value = 15
		}
		ai_chance = {
			base = 5
			modifier = {
				trigger = {
					c:BUL = {
						relations:root > relations_threshold:neutral
					}
				}
				add = 50
			}
		}
	}
	
	option = {
		name = grefm.160.b
		c:BUL = {
			set_variable = grefm_cold_reception
		}
		change_relations = {
			country = c:TUR
			value = 15
		}
		ai_chance = {
			base = 5
			modifier = {
				trigger = {
					c:BUL = {
						relations:root <= relations_threshold:neutral
					}
				}
				add = 20
			}
		}
	}

}

grefm.161 = { # The Don Pacifico Affair
	type = country_event
	placement = scope:attica_state_scope
	
	title = grefm.161.t
	desc = {
		triggered_desc = {
			desc = grefm.161.d1
			trigger = {
				c:POR = this
			}
		}
		triggered_desc = {
			desc = grefm.161.d2
			trigger = {
				c:GBR = this
			}
		}
		triggered_desc = {
			desc = grefm.161.d3
			trigger = {
				c:GRE = this
			}
		}
	}
	flavor = grefm.161.f
	
	event_image = {
		video = "unspecific_vandalized_storefront"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_state_scope
			}
		}
		c:GRE = {
			save_scope_as = greece_scope
		}
		c:GBR = {
			save_scope_as = uk_scope
		}
		c:POR = {
			save_scope_as = portugal_scope
		}
	}
	
	option = { # Seek Redress (POR)
		name = grefm.161.por1
		default_option = yes
		trigger = {
			c:POR = this
		}
		c:GBR = {
			trigger_event = {
				id = grefm.161 # this event for GBR to consider
				days = 15
			}
		}
		change_relations = {
			country = c:GBR
			value = -15
		}
		ai_chance = {
			base = 1000 # should almost always happen
		}
	}
	
	option = { # Let it Slide (POR)
		name = grefm.161.por2
		trigger = {
			c:POR = this
		}
		add_modifier = {
			name = modifier_grefm_abandoned_don_pacifico
			months = normal_modifier_time
		}
		ai_chance = {
			base = 1 # should almost never happen
		}
	}
	
	option = { # Support Portugal (GBR)
		name = grefm.161.gbr1
		trigger = {
			c:GBR = this
		}
		c:GRE = {
			trigger_event = {
				id = grefm.161 # this event for GRE to consider
				days = 15
			}
		}
		change_relations = {
			country = c:GRE
			value = -15
		}
		change_relations = {
			country = c:POR
			value = 25
		}
		c:POR = {
			c:GBR = {
				save_scope_as = uk_scope
			}
			post_notification = notification_don_pacifico_gbr1
		}
	}
	
	option = { # Simp for Greece (GBR)
		name = grefm.161.gbr2
		trigger = {
			c:GBR = this
		}
		change_relations = {
			country = c:POR
			value = -15
		}
		change_relations = {
			country = c:GRE
			value = 25
		}
		c:POR = {
			c:GBR = {
				save_scope_as = uk_scope
			}
			post_notification = notification_don_pacifico_gbr2
		}
	}
	
	option = { # Offer Reparations (GRE)
		name = grefm.161.gre1
		trigger = {
			c:GRE = this
		}
		c:GBR = {
			c:GRE = {
				save_scope_as = greece_scope
			}
			post_notification = notification_don_pacifico_gre1
		}
		c:POR = {
			c:GRE = {
				save_scope_as = greece_scope
			}
			post_notification = notification_don_pacifico_gre1
		}
		add_modifier = {
			name = modifier_grefm_chastized_mob
			months = normal_modifier_time
		}
		add_treasury = -35700 # Don Pacifico demanded £32,000 plus 10% interest for his property plus an additional £500 for physical mistreatment
		add_radicals = {
			strata = poor
			value = small_radicals
		}
		change_relations = {
			country = c:POR
			value = 20
		}
		change_relations = {
			country = c:GBR
			value = 20
		}
	}
	
	option = { # Reject Any Compromise (GRE)
		name = grefm.161.gre2
		trigger = {
			c:GRE = this
		}
		c:GBR = {
			c:GRE = {
				save_scope_as = greece_scope
			}
			post_notification = notification_don_pacifico_gre2
		}
		c:POR = {
			c:GRE = {
				save_scope_as = greece_scope
			}
			post_notification = notification_don_pacifico_gre2
		}
		add_modifier = {
			name = modifier_grefm_rejected_compromise
			months = normal_modifier_time
		}
		add_loyalists = {
			strata = poor
			value = small_radicals
		}
		change_relations = {
			country = c:POR
			value = -20
		}
		change_relations = {
			country = c:GBR
			value = -25
		}
	}

}


#### GREEK PIRACY EVENTS ####
grefm.170 = { # The Pirates of the Aegean
	orphan = yes
}


#### GREEK ORTHODOX CHURCH EVENTS ####
grefm.180 = { #  The Defence of Jonas King
	type = country_event
	placement = root
	
	title = grefm.180.t
	desc = grefm.180.d
	flavor = grefm.180.f
	
	event_image = {
		video = "africa_leader_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_orthodox.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = jonas_king_started }
		country_has_state_religion = rel:orthodox
		owns_entire_state_region = STATE_ATTICA
		OR = {
			has_variable = grefm_1843_revolution_happened
			has_variable = grefm_bavarocracy_completed
		}
	}
	
	immediate = {
		set_global_variable = jonas_king_started
		create_character = {
			template = template_grefm_king_jonas
			on_created = {
				place_character_in_void = 300
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_king_jonas
			}
			save_scope_as = grefm_jonas_scope
		}
		c:USA = {
			save_scope_as = usa_scope
		}
		ig:ig_devout = {
			save_scope_as = devout_scope
		}
	}	
	
	option = { # Prosecute Jonas
		name = grefm.180.a
		default_option = yes
		trigger_event = {
			id = grefm.181 # Speech before the Areopagus
			days = 240
		}
		add_radicals = {
			religion = rel:protestant
			value = small_radicals
		}
	}
	
	option = { # Let Jonas Go
		name = grefm.180.b
		add_loyalists = {
			religion = rel:protestant
			value = medium_radicals
		}		
		add_radicals = {
			pop_type = clergymen
			value = medium_radicals
		}
	}

}

grefm.181 = { # Speech before the Areopagus
	type = country_event
	placement = root
	
	title = grefm.181.t
	desc = grefm.181.d
	flavor = grefm.181.f
	
	event_image = {
		video = "votp_hostile_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		random_character_in_void = {
			limit = {
				has_template = template_grefm_king_jonas
			}
			save_scope_as = grefm_jonas_scope
		}
		c:USA = {
			save_scope_as = usa_scope
		}
		ig:ig_devout = {
			save_scope_as = devout_scope
		}
	}	
	
	option = {
		name = grefm.181.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_ejected_jonas
			months = normal_modifier_time
		}
		add_radicals = {
			religion = rel:protestant
			value = small_radicals
		}
		set_variable = grefm_jonas_yeeted
	}

}

grefm.182 = { # Jonas King Returns
	type = country_event
	placement = root
	
	title = grefm.182.t
	desc = grefm.182.d
	flavor = grefm.182.f
	
	event_image = {
		video = "unspecific_steam_ship"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_modifier = modifier_grefm_ejected_jonas }
		has_variable = grefm_jonas_yeeted
		country_has_state_religion = rel:orthodox
		any_character_in_void = {
			has_template = template_grefm_king_jonas
		}
	}
	
	immediate = {
		remove_variable = grefm_jonas_yeeted
		random_character_in_void = {
			limit = {
				has_template = template_grefm_king_jonas
			}
			save_scope_as = grefm_jonas_scope
		}
		c:USA = {
			save_scope_as = usa_scope
		}
		ig:ig_devout = {
			save_scope_as = devout_scope
		}
	}	
	
	option = { # Arrest Him!
		name = grefm.182.a
		default_option = yes
		trigger_event = {
			id = grefm.183 # Foreign Intercession for Jonas King
			days = 45
		}
	}
	
	option = { # Leave Him Be
		name = grefm.182.b
		custom_tooltip = grefm.182.tt
		every_country = {
			limit = {
				country_has_state_religion = rel:protestant
				country_rank >= rank_value:major_power
			}
			change_relations = {
				country = c:GRE
				value = 10
			}
		}
		add_modifier = {
			name = modifier_grefm_religious_deconfliction
			months = normal_modifier_time
		}		
	}

}

grefm.183 = { # Foreign Intercession for Jonas King
	type = country_event
	placement = root
	
	title = grefm.183.t
	desc = grefm.183.d
	flavor = grefm.183.f
	
	event_image = {
		video = "unspecific_signed_contract"
	}
	
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		random_character_in_void = {
			limit = {
				has_template = template_grefm_king_jonas
			}
			save_scope_as = grefm_jonas_scope
		}
		c:USA = {
			save_scope_as = usa_scope
		}
		ig:ig_devout = {
			save_scope_as = devout_scope
		}
	}	
	
	option = { # Reconcile with King
		name = grefm.183.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_religious_deconfliction
			months = normal_modifier_time
		}
		add_radicals = {
			pop_type = clergymen
			value = small_radicals
		}
	}
	
	option = { # We are the law
		name = grefm.183.b
		add_modifier = {
			name = modifier_grefm_religious_witchhunt
			months = normal_modifier_time
		}
		create_incident = {
			country = c:USA
			value = 10
		}
	}

}


##################################################
##	#GRE2	GREEK NATIONALISM	Events 200-299	##
##################################################

####  THE GREEK ETHNOGENSIS EVENTS ####
grefm.200 = { # What is a Greek
	type = country_event
	placement = root
	
	title = grefm.200.t
	desc = grefm.200.d
	flavor = grefm.200.f
	
	event_image = {
		video = "ep1_printing_press"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_hellenic_nationalism
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.200.a
		default_option = yes
		custom_tooltip = grefm.200.tt
	}
	
}

grefm.201 = { # Paparrigopoulos's History of the Greek Nation
	type = country_event
	placement = root
	
	title = grefm.201.t
	desc = grefm.201.d
	flavor = grefm.201.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = paparrigopoulos_var }
		country_has_primary_culture = cu:hellene
		owns_entire_state_region = STATE_ATTICA
		NOT = { has_technology_researched = nationalism }
		has_technology_researched = mass_communication
		has_technology_researched = international_relations
	}
	
	immediate = {
		set_global_variable = paparrigopoulos_var
		random_scope_state = {
			limit = {
				has_building = building_university
			}
			save_scope_as = paparrigopoulos_state
		}
	}
	
	cancellation_trigger = {
		has_technology_researched = nationalism
	}
	
	option = { # a little push to get the Megali Idea started
		name = grefm.201.a
		default_option = yes
		trigger = {
			NOT = { has_technology_researched = nationalism }
		}
		add_technology_progress = {
			progress = 5000 
			technology = nationalism
		}
	}
	
	option = { # or if you're a little patient
		name = grefm.201.b
		add_modifier = {
			name = modifier_grefm_nationalist_movement
			months = long_modifier_time
		}
		add_technology_progress = {
			progress = 1000 
			technology = nationalism
		}
	}

}

grefm.202 = { # option to switch capital to Constantinople
	type = country_event
	placement = root
	
	title = grefm.202.t
	desc = grefm.202.d
	flavor = grefm.202.f

	event_image = {
		video = "unspecific_world_fair"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_EASTERN_THRACE
		OR = {
			has_journal_entry = je_grefm_megali_idea
			has_variable = grefm_tzatzikisauce
		}
		s:STATE_EASTERN_THRACE = {
			any_scope_state = {
				is_capital = no
			}
		}
		NOT = { has_variable = grefm_capital_considered }		
	}

	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = eastern_thrace_scope
			}
		}
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_scope
			}
		}
		set_variable = grefm_capital_considered
	}
	
	cancellation_trigger = {
		s:STATE_EASTERN_THRACE = {
			any_scope_state = {
				is_capital = yes
			}
		}
	}
	
	option = { # yes please
		name = grefm.202.a
		default_option = yes
		set_capital = STATE_EASTERN_THRACE
		scope:eastern_thrace_scope = {
			add_loyalists_in_state = {
				value = medium_radicals
				culture = cu:hellene
			}
		}
	}
		
	option = { # no I'm a poor boy
		name = grefm.202.b
		scope:attica_scope = {
			add_modifier = {
				name = modifier_grefm_development_focus
				months = normal_modifier_time
			}
			add_loyalists_in_state = {
				value = small_radicals
				culture = cu:hellene
			}		
		}
	}

}

grefm.203 = {
	orphan = yes
}

grefm.204 = {
	orphan = yes
}

grefm.205 = {
	orphan = yes
}

grefm.206 = { # The Language Question
	type = country_event
	placement = root
	
	title = grefm.206.t
	desc = grefm.206.d
	flavor = grefm.206.f
	
	event_image = {
		video = "middleeast_middleclass_cafe"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_national_language
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = ig_intelligentsia_scope
		}
		ig:ig_devout = {
			save_scope_as = ig_devout_scope
		}
	}
	
	option = {
		name = grefm.206.a
		default_option = yes
		custom_tooltip = grefm.206.tt
	}
	
}

grefm.207 = { # A National Language
	type = country_event
	placement = root
	
	title = grefm.207.t
	desc = grefm.207.d
	flavor = grefm.207.f
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm_declare_national_language_button
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_national_language
		}
	}
	
	immediate = {
	}
	
	option = { # listen to the people, go Demotic
		name = grefm.207.a
		default_option = yes
		trigger = {
			je:je_grefm_national_language = {
				"scripted_bar_progress(grefm_dimotiki_progress_bar)" >= 100
			}
		}
		add_loyalists = {
			strata = poor
			value = medium_radicals
		}
		add_radicals = {
			strata = rich
			value = medium_radicals
		}
		add_modifier = {
			name = modifier_grefm_embraced_demotic_greek
			months = very_long_modifier_time
		}
		set_variable = grefm_greek_language_demotic
		remove_variable = grefm_language_var
	}

	option = { # keep it classy with Katharevousa
		name = grefm.207.b
		trigger = {
			je:je_grefm_national_language = {
				"scripted_bar_progress(grefm_katharevousa_progress_bar)" >= 100
			}
		}
		add_loyalists = {
			strata = rich
			value = medium_radicals
		}
		add_radicals = {
			strata = poor
			value = medium_radicals
		}
		add_modifier = {
			name = modifier_grefm_enforced_katharevousa
			months = very_long_modifier_time
		}
		set_variable = grefm_greek_language_katharevousa
		remove_variable = grefm_language_var
	}
	
	option = { # the Khoine choice for the Orthodox boys
		name = grefm.207.c
		trigger = {
			je:je_grefm_national_language = {
				"scripted_bar_progress(grefm_khoine_progress_bar)" >= 100
			}
		}
		add_loyalists = {
			religion = rel:orthodox
			value = medium_radicals
		}
		add_modifier = {
			name = modifier_grefm_enshrined_khoine
			months = very_long_modifier_time
		}
		set_variable = grefm_greek_language_khoine
		remove_variable = grefm_language_var
	}
	
	option = { # Fallback option
		name = grefm.207.e
		trigger = {
			je:je_grefm_national_language = {
				NOR = {
					"scripted_bar_progress(grefm_dimotiki_progress_bar)" >= 100
					"scripted_bar_progress(grefm_katharevousa_progress_bar)" >= 100
					"scripted_bar_progress(grefm_khoine_progress_bar)" >= 100
				}
			}
		}
		remove_variable = grefm_language_var
	}
	
}

grefm.208 = { # Defining Greek Roots
	type = country_event
	placement = root
	
	title = grefm.208.t
	desc = grefm.208.d
	flavor = grefm.208.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_greek_identity_resolved }
		has_variable = grefm_archeaology_var
		var:grefm_archeaology_var > 3
	}
	
	immediate = {
		set_variable = grefm_greek_identity_resolved
	}
	
	option = {
		name = grefm.208.a
		default_option = yes
		add_loyalists = {
			culture = cu:hellene
			value = small_radicals
		}
	}

}

grefm.209 = { # greek ethnogenesis
	type = country_event
	placement = root
	
	title = grefm.209.t
	desc = grefm.209.d
	flavor = grefm.209.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		set_variable = grefm_greek_nationalism_completed
	}
	
	option = {
		name = grefm.209.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_greek_nationalism
			months = long_modifier_time
		}
	}
	
}


#### HELLENIC REVANCHISM EVENTS ####
grefm.270 = { # The Lands of Thessaly
	type = country_event
	placement = root
	
	title = grefm.270.t
	desc = grefm.270.d
	flavor = grefm.270.f
	
	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = grefm_thessaly_reminded }
		c:GRE ?= this
		NOT = { has_truce_with = c:TUR }
		NOT = { owns_entire_state_region = STATE_THESSALIA }
	}
	
	immediate = {
		set_global_variable = grefm_thessaly_reminded
		s:STATE_THESSALIA = {
			random_scope_state = {
				save_scope_as = grefm_thessaly_scope
			}
		}
	}	
	
	option = {
		name = grefm.270.a
		default_option = yes
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_THESSALIA
					owns_entire_state_region = STATE_THESSALIA
				}
			}
			s:STATE_THESSALIA = {
				add_claim = ROOT
			}
		}
	}
}


grefm.271 = { # The Megali Idea
	type = country_event
	placement = root

	title = grefm.271.t
	desc = grefm.271.d
	flavor = grefm.271.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { 
		# triggered by je_megali_idea
	}

	immediate = {
	}

	option = { # Vanilla Claims Option, merged into one event
		name = grefm.271.a
		default_option = yes
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_EASTERN_THRACE
					has_claim = s:STATE_EASTERN_THRACE
				}
			}
			s:STATE_EASTERN_THRACE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					owns_entire_state_region = STATE_MACEDONIA
					has_claim = s:STATE_MACEDONIA
				}
			}
			s:STATE_MACEDONIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_SKOPIA
					has_claim = s:STATE_SKOPIA
				}
			}
			s:STATE_SKOPIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_WESTERN_THRACE
					has_claim = s:STATE_WESTERN_THRACE
				}
			}
			s:STATE_WESTERN_THRACE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					owns_entire_state_region = STATE_NORTHERN_THRACE
					has_claim = s:STATE_NORTHERN_THRACE
				}
			}
			s:STATE_NORTHERN_THRACE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_HUDAVENDIGAR
					has_claim = s:STATE_HUDAVENDIGAR
				}
			}
			s:STATE_HUDAVENDIGAR = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_AYDIN
					has_claim = s:STATE_AYDIN
				}
			}
			s:STATE_AYDIN = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
					has_claim = s:STATE_WEST_AEGEAN_ISLANDS
				}
			}
			s:STATE_WEST_AEGEAN_ISLANDS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_EAST_AEGEAN_ISLANDS
					has_claim = s:STATE_EAST_AEGEAN_ISLANDS
				}
			}
			s:STATE_EAST_AEGEAN_ISLANDS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_ALBANIA }
			}
			s:STATE_ALBANIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_CRETE
					has_claim = s:STATE_CRETE
				}
			}
			s:STATE_CRETE = {
				add_claim = ROOT
			}
		}
		trigger_event = {
			id = grefm.590 # Greek Separatism
			days = 30
		}
		if = {
			limit = {
				c:ION ?= this
				has_dlc_feature = lobbies
			}
			trigger_event = {
				id = grefm.420
				days = 30
			}
		}
	}
	
	option = { # vanilla option 2
		name = grefm.271.b
		custom_tooltip = {
			text = grefm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
			}
		}
		add_radicals = {
			culture = cu:hellene
			value = large_radicals
		}
	}
	
}

grefm.272 = { # The Future of Greece
	type = country_event
	placement = root
	
	title = grefm.272.t
	desc = grefm.272.d
	flavor = grefm.272.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by JE
	}
	
	immediate = {
		set_global_variable = grefm_megali_idea_complete
	}
	
	option = { # Become the Hellenic Empire
		name = grefm.272.a
		default_option = yes
		custom_tooltip = grefm_hemp_possible_tt
		add_modifier = {
			name = greek_nationalism
			months = long_modifier_time
		}
	}

	option = { # Remain Greece
		name = grefm.272.b
		custom_tooltip = grefm_tzatzikisauce_tt
		add_modifier = {
			name = greek_nationalism
			months = long_modifier_time
		}
		set_variable = grefm_empire_rejected
	}
	
}

grefm.273 = { # Greater Greece
	type = country_event
	placement = root
	
	title = grefm.273.t
	desc = grefm.273.d
	flavor = grefm.273.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		#	triggered by grefm.272
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.273.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_greater_greece
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_CRETE }
			}
			s:STATE_CRETE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_CYPRUS }
			}
			s:STATE_CYPRUS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_KASTAMONU }
			}
			s:STATE_KASTAMONU = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_TRABZON }
			}
			s:STATE_TRABZON = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_ADANA }
			}
			s:STATE_ADANA = {
				add_claim = ROOT
			}
		}
	}
	
	option = {
		name = grefm.273.b
		add_modifier = {
			name = modifier_grefm_rebirth
			months = very_long_modifier_time
		}
		custom_tooltip = {
			text = grefm_weaksauce_tt
			hidden_effect = {
				set_variable = grefm_weaksauce
			}
		}
	}

}

grefm.274 = { # A Greek Domain
	type = country_event
	placement = root
	
	title = grefm.274.t
	desc = grefm.274.d
	flavor = grefm.274.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.274.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_greek_resurgence
			months = long_modifier_time
		}
	}

}


#### RHOMANIAN REVANCHISM EVENTS ####
grefm.280 = { # The Legacy of Romanía
	type = country_event
	placement = root
	
	title = grefm.280.t
	desc = grefm.280.d
	flavor = grefm.280.f
	
	event_image = {
		video = "unspecific_signed_contract"
	}
	
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by 
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.280.a
		default_option = yes
		if = {
			limit = {
				c:THE ?= this
			}
			if = {
				limit = {
					NOR = {
						has_claim = s:STATE_CRIMEA
						owns_entire_state_region = STATE_CRIMEA
					}
				}
				s:STATE_CRIMEA = {
					add_claim = ROOT
				}
			}
		}
		if = {
			limit = {
				c:TRB ?= this
			}
			if = {
				limit = {
					NOR = {
						has_claim = s:STATE_TRABZON
						owns_entire_state_region = STATE_TRABZON
					}
				}
				s:STATE_TRABZON = {
					add_claim = ROOT
				}
			}
		}
		##TODO Add Cappadoccia effect one tag is ready
	}

}

grefm.281 = { # The Themata of Anatolia
	orphan = yes
}


#### GREEK CULTURAL SYNCRETISM EVENTS ####
grefm.290 = { # The Fate of the Turks
	type = country_event
	placement = root
	
	title = grefm.290.t
	desc = grefm.290.d
	flavor = grefm.290.f

	event_image = {
		video = "europenorthamerica_russian_serfs"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		NOT = {	has_variable = grefm_greek_homelands_event }
		has_global_variable = grefm_megali_idea_complete
		any_scope_state = {
			state_region = {
				OR = {
					AND = {
						is_homeland = cu:turkish
						is_homeland = cu:hellene
					}
					AND = {
						is_homeland = cu:turkish
						is_homeland = cu:rhomaios
					}
				}
			}
		}
		has_technology_researched = civilizing_mission
	}
	
	immediate = {
		set_variable = grefm_greek_homelands_event
	}
	
	option = { # Integrate the Turks
		name = grefm.290.a
		add_radicals = {
			culture = cu:hellene
			value = large_radicals
		}
		add_loyalists = {
			culture = cu:turkish
			value = medium_radicals
		}
	}
		
	option = { # Return the Favor
		name = grefm.290.b
		default_option = yes
		if = {
			limit = {
				exists = c:TUR
			}
			change_relations = {
				country = c:TUR
				value = -20
			}
		}
		else = {
			change_infamy = 5
		}
		set_variable = grefm_rejected_grecoturkism # enables turkish homelands event
	}

}

grefm.291 = { # A Question of Homelands
	type = country_event
	placement = scope:turkish_homeland_state
	
	title = grefm.291.t
	desc = grefm.291.d
	flavor = grefm.291.f
	
	event_image = {
		video = "europenorthamerica_russian_serfs"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # will trigger for any state that shares Greek and Turkish homelands
		has_variable = grefm_rejected_grecoturkism
		any_scope_state = {
			AND = {
				NOT = { has_variable = grefm_turkish_reserve }
				state_region = {
					AND = {
						is_homeland = cu:turkish
						is_homeland = cu:hellene
					}
				}
			}
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				AND = {
					NOT = { has_variable = grefm_turkish_reserve }
					state_region = {
						AND = {
							is_homeland = cu:turkish
							is_homeland = cu:hellene
						}
					}
				}
			}
			save_scope_as = turkish_homeland_state
		}
		random_scope_state = {
			limit = {
				has_variable = grefm_turkish_reserve
			}
			save_scope_as = turkish_reserve_state
		}
	}
	
	cooldown = {
		months = 18 # This should be slower than Greek homeland expansion
	}
	
	option = { # kick them out
		name = grefm.291.a
		default_option = yes
		trigger = {
			any_scope_state = {
				NOT = { has_variable = grefm_turkish_reserve }
			}
		}
		scope:turkish_homeland_state = {
			show_as_tooltip = {
				remove_homeland = cu:turkish # This strange bit of janky ensures a tooltip is presented to the player
			}
			add_culture_standard_of_living_modifier = {
				culture = cu:turkish
				months = very_long_modifier_time
				multiplier = -2
			}
			state_region = {
				hidden_effect = {
					remove_homeland = cu:turkish # having this in the state_region executes the effect, but doesn't show a tooltip
				}
			}
		}
		add_radicals = { # They will NOT take this lying down
			culture = cu:turkish
			value = medium_radicals
		}
	}
	
	option = { # set up a reserve
		name = grefm.291.b
		trigger = {
			any_scope_state = {
				NOT = { has_variable = grefm_turkish_reserve }
			}
		}
		scope:turkish_homeland_state = {
			add_culture_standard_of_living_modifier = {
				culture = cu:turkish
				months = very_long_modifier_time
				multiplier = 2
			}
			add_loyalists_in_state = {
				culture = cu:turkish
				value = large_radicals
			}
			set_variable = grefm_turkish_reserve
		}
		add_radicals = {
			culture = cu:hellene
			value = small_radicals
		}
	}
	
	option = { # Send them to the Reserve
		name = grefm.291.c
		default_option = yes
		trigger = {
			any_scope_state = {
				has_variable = grefm_turkish_reserve
			}
		}
		scope:turkish_homeland_state = {
			show_as_tooltip = {
				remove_homeland = cu:turkish
			}
			add_culture_standard_of_living_modifier = {
				culture = cu:turkish
				months = very_long_modifier_time
				multiplier = -2
			}
			state_region = {
				hidden_effect = {
					remove_homeland = cu:turkish
				}
			}
		}
		add_radicals = { # You treat them like animals, they'll view you like an animal. You deserve this.
			culture = cu:turkish
			value = medium_radicals
		}
	}

}

grefm.292 = { # Greek Expansion in X
	type = country_event
	placement = root
	
	title = grefm.292.t
	desc = grefm.292.d
	flavor = grefm.292.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		has_variable = grefm_megali_idea_complete # homelands will expand regardless of turkish homeland outcome
		any_scope_state = {
			AND = {
				is_incorporated = yes
				state_region = {
					AND = {
						state_in_anatolia = yes
						NOT = { is_homeland = cu:hellene }
					}
				}
			}
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				AND = {
					is_incorporated = yes
					state_region = {
						AND = {
							state_in_anatolia = yes
							NOT = { is_homeland = cu:hellene }
						}
					}
				}
			}
			save_scope_as = grefm_expansion_state
		}
	}
	
	cooldown = {
		months = 12
	}
	
	
	option = {
		name = grefm.292.a
		default_option = yes
		scope:grefm_expansion_state = {
			state_region = {
				add_homeland = cu:hellene
			}
		}
	}

}


######################################################
##	#GRE3	REVENGE OF THE GREEKS	Events 300-399	##
######################################################

#### REVENGE OF THE GREEKS EVENTS ####

grefm.300 = { # Resurrection of the Byzantine Empire
	type = country_event
	placement = ROOT

	title = grefm.300.t
	desc = grefm.300.d
	flavor = grefm.300.f

	gui_window = event_window_fullscreen

	event_image = {
		video = "votp_monarch_holding_court"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by grefm.202
	}
	
	immediate = {
		random_scope_building = {
			limit = {
				is_building_type = building_hagia_sophia
			}
			save_scope_as = hagia_sofia_scope
		}
		save_scope_as = formation_country
		every_country = {
			limit = {
				has_diplomatic_relevance = ROOT
			}
			post_notification = unification_notification_byz
		}
		set_global_variable = has_formed_byz
	}
	
	option = {
		name = grefm.300.a
		default_option = yes
		trigger_event = {
			id = grefm.301 # The Revenge of the Greeks
			days = 30
		}
		add_modifier = {
			name = modifier_byzfm_rebirth
			months = very_long_modifier_time
		}
		if = {
			limit = {
				NOT = {
					country_has_primary_culture = cu:hellene
				}
			}
			add_primary_culture = cu:hellene
		}
	}
	
}

grefm.301 = { # The Revenge of the Greeks
	type = country_event
	
	title = grefm.301.t
	desc = grefm.301.d
	flavor = grefm.301.f
	
	event_image = {
		video = "byzfm_georgios_averof"
	}
	
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = byzantium_capital_state
		}
	}
	
	option = {
		name = grefm.301.a
		default_option = yes
		set_capital = STATE_EASTERN_THRACE
		every_state_region = {
			limit = {
				OR = {
					region = sr:region_anatolia
					region = sr:region_balkans
				}
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
	}
	
	option = {
		name = grefm.301.b
		every_state_region = {
			limit = {
				region = sr:region_anatolia
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
		change_infamy = -10
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
				set_variable = grefm_tzatzikisauce
			}
		}
	}
	
	option = {
		name = grefm.301.c
		every_state_region = {
			limit = {
				region = sr:region_balkans
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
		change_infamy = -10
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
				set_variable = grefm_tzatzikisauce
			}
		}
	}

}

grefm.302 = { # Nova Roma Constantinopolitana
	type = country_event
	
	title = grefm.302.t
	desc = grefm.302.d
	flavor = grefm.302.f
	
	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_aquila.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# Triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = byzantium_emperor
		}
	}
	
	option = {
		name = grefm.302.a
		default_option = yes
		scope:byzantium_emperor = {
			add_modifier = {
				name = modifier_byzfm_popular_emperor
			}
		}
		add_modifier = {
			name = modifier_byzfm_legitmacy_boost
			months = normal_modifier_time
		}
		hidden_effect = {
			trigger_event = {
				id = grefm.303 # The Shores of Phoenicia
				days = 20
			}
		}
	}
}

grefm.303 = { # The Shores of Phoenicia
	type = country_event
	
	title = grefm.303.t
	desc = grefm.303.d
	flavor = grefm.303.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by grefm.302
	}
	
	immediate = {
		capital = {
			save_scope_as = byzantium_capital
		}
	}

	option = { # reclaim the east
		name = grefm.303.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_shores_of_phoenicia
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_ALEPPO }
			}
			s:STATE_ALEPPO = {
				add_claim = ROOT
			}
		}		
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_SYRIA }
			}
			s:STATE_SYRIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_LEBANON }
			}
			s:STATE_LEBANON = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_TRANSJORDAN }
			}
			s:STATE_TRANSJORDAN = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_PALESTINE }
			}
			s:STATE_PALESTINE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_SINAI }
			}
			s:STATE_SINAI = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_LOWER_EGYPT }
			}
			s:STATE_LOWER_EGYPT = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_MIDDLE_EGYPT }
			}
			s:STATE_MIDDLE_EGYPT = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_UPPER_EGYPT }
			}
			s:STATE_UPPER_EGYPT = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_MATRUH }
			}
			s:STATE_MATRUH = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_LIBYA }
			}
			s:STATE_LIBYA = {
				add_claim = ROOT
			}
		}
		default_option = yes
	}
	
	option = { # nah bro, shits for the birds
		name = grefm.303.b
		change_infamy = -20
		scope:byzantium_capital = {
			add_modifier = {
				name = modifier_byzfm_capital_assimiliation_boost
				months = normal_modifier_time
			}
			add_modifier = {
				name = modifier_byzfm_heartland_reclaimed
				months = normal_modifier_time
			}
		}
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
				set_variable = grefm_tzatzikisauce
			}
		}
	}

}

grefm.304 = { # The Legacy of Alexander
	## former byzfm.5 used to allow conversion to ERE, now an off-ramp for no goddamn reason
	type = country_event
	
	title = grefm.304.t
	desc = grefm.304.d
	flavor = grefm.304.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_aquila.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {	# Triggered by JE
	}
	
	immediate = {
		set_variable = byzfm_byzantium_restored
	}

	option = {
		name = grefm.304.a
		default_option = yes
		add_modifier = {
			name = modifier_byzfm_restored
			months = long_modifier_time
		}
		if = {
			limit = {
				has_variable = byzfm_revenge_of_the_greeks
			}
			trigger_event = {
				id = grefm.305 # The Lands of Arianōn
				days = 30
			}
		}
	}
	
	option = {
		name = grefm.304.b
		trigger = {
			has_variable = byzfm_revenge_of_the_greeks
		}
		add_modifier = {
			name = modifier_byzfm_restored
			months = long_modifier_time
		}
		change_infamy = -25
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
				remove_variable = byzfm_revenge_of_the_greeks
			}
		}
	}
	
}

grefm.305 = { # The Lands of Arianōn
	type = country_event
	
	title = grefm.305.t
	desc = grefm.305.d
	flavor = grefm.305.f
	
	event_image = {
		video = "ep1_persian_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by grefm.304
	}
	
	immediate = {
	}

	option = {
		name = grefm.305.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_lands_of_arianon
		}
		every_state_region = {
			limit = {
				OR = {
					region = sr:region_persia
				}
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
	}
	
}

grefm.306 = { # The Graveyard of Empires
	type = country_event
	
	title = grefm.306.t
	desc = grefm.306.d
	flavor = grefm.306.f
	
	event_image = {
		video = "ep1_ca_mountain_pass_military"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# Triggered by JE
	}
	
	option = {
		name = grefm.306.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_the_graveyard_of_empires
		}
		every_state_region = {
			limit = {
				OR = {
					region = sr:region_persia
				}
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
	}
}

grefm.307 = { # Hellenistic Empire choice
	type = country_event
	
	title = grefm.307.t
	desc = grefm.307.d
	flavor = grefm.307.f
	
	event_image = {
		video = "europenorthamerica_before_the_battle"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# Triggered by JE
	}
	
	option = {
		name = grefm.307.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_imperial_glory
		}
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				add_modifier = {
					name = modifier_byzfm_the_queen_of_cities
					months = long_modifier_time
				}
			}
		}
		trigger_event = {
			id = grefm.314 # The Foundings of Alexander
			days = 90
		}
	}
	
}

#### Hellenistic Imperial Ambition Events ####

grefm.310 = { # The Shores of the Hospitable Sea
	type = country_event
	placement = root
	
	title = grefm.310.t
	desc = grefm.310.d
	flavor = grefm.310.f
	
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_black_sea
	}	
	
	immediate = {
	}
	
	option = {
		name = grefm.310.a
		default_option = yes
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_DOBRUDJA
					owns_entire_state_region = STATE_DOBRUDJA
				}
			}
			s:STATE_DOBRUDJA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_KARS
					owns_entire_state_region = STATE_KARS
				}
			}
			s:STATE_KARS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_GREATER_CAUCASUS
					owns_entire_state_region = STATE_GREATER_CAUCASUS
				}
			}
			s:STATE_GREATER_CAUCASUS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_CRIMEA
					owns_entire_state_region = STATE_CRIMEA
				}
			}
			s:STATE_CRIMEA = {
				add_claim = ROOT
			}
		}
	}

}

grefm.311 = { # The Black Sea Secured
	type = country_event
	placement = root
	
	title = grefm.311.t
	desc = grefm.311.d
	flavor = grefm.311.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_black_sea
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.311.a
		default_option = yes
		s:STATE_KARS = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_bosporan_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_GREATER_CAUCASUS = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_bosporan_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_CRIMEA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_bosporan_legacy
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.312 = { # The Lands of Magna Graecia
	type = country_event
	placement = root
	
	title = grefm.312.t
	desc = grefm.312.d
	flavor = grefm.312.f
	
	event_image = {
		video = "europenorthamerica_before_the_battle"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_magna_graecia
	}	
	
	immediate = {
	}
	
	option = {
		name = grefm.312.a
		default_option = yes
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_APULIA
					owns_entire_state_region = STATE_APULIA
				}
			}
			s:STATE_APULIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_CALABRIA
					owns_entire_state_region = STATE_CALABRIA
				}
			}
			s:STATE_CALABRIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_CAMPANIA
					owns_entire_state_region = STATE_CAMPANIA
				}
			}
			s:STATE_CAMPANIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_SICILY
					owns_entire_state_region = STATE_SICILY
				}
			}
			s:STATE_SICILY = {
				add_claim = ROOT
			}
		}
	}

}

grefm.313 = { # Magna Graecia Secured
	type = country_event
	placement = root
	
	title = grefm.313.t
	desc = grefm.313.d
	flavor = grefm.313.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_black_sea
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.313.a
		default_option = yes
		s:STATE_APULIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_CALABRIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_CAMPANIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_SICILY = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.314 = { # The Foundings of Alexander
	type = country_event
	placement = root
	
	title = grefm.314.t
	desc = grefm.314.d
	flavor = grefm.314.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm.307
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.314.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_alexandria_oxus
		}
		add_journal_entry = {
			type = je_grefm_alexandria_merv
		}
		add_journal_entry = {
			type = je_grefm_alexandria_indus
		}
		add_journal_entry = {
			type = je_grefm_alexandria_susiana
		}
	}

}

grefm.315 = { # Alexandria on the Oxus
	type = country_event
	placement = root
	
	title = grefm.315.t
	desc = grefm.315.d
	flavor = grefm.315.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_alexandria_oxus
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.315.a
		default_option = yes
		s:STATE_MERZ = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_UZBEKIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.316 = { # Alexandria in Margiana
	type = country_event
	placement = root
	
	title = grefm.316.t
	desc = grefm.316.d
	flavor = grefm.316.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_alexandria_merv
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.316.a
		default_option = yes
		s:STATE_FERGANA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_KIRGHIZIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_TAJIKISTAN = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.317 = { # Alexandria on the Indus
	type = country_event
	placement = root
	
	title = grefm.317.t
	desc = grefm.317.d
	flavor = grefm.317.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_alexandria_indus
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.317.a
		default_option = yes
		s:STATE_PUNJAB = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_SINDH = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_KASHMIR = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.318 = { # Alexandria in Susiana
	type = country_event
	placement = root
	
	title = grefm.318.t
	desc = grefm.318.d
	flavor = grefm.318.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_alexandria_susiana
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.318.a
		default_option = yes
		s:STATE_KHUZESTAN = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_BASRA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_BAGHDAD = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}

}


#####################################################
##  #GRE4  IONIAN ISLANDS FLAVOR  Events  400-499  ##
#####################################################

#### XENOCRACY EVENTS ####

grefm.400 = { # The Republic of the Seven Islands
	type = country_event
	placement = root
	
	title = grefm.400.t
	desc = grefm.400.d
	flavor = grefm.400.f
	
	event_image = {
		video = "grefm_ion_intro"
	}
	
	icon = "gfx/interface/icons/event_icons/event_heptanese.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 1
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.400.a
		default_option = yes
		show_as_tooltip = {
			add_modifier = modifier_grefm_xenocracy
			add_modifier = modifier_grefm_hepantese_administration
			add_modifier = modifier_grefm_venetian_legacy
		}
		trigger_event = {
			id = grefm.410 # The Romaniote Jews
			days = 30
		}
	}

}

grefm.401 = { # The Ionian Jewel
	type = country_event
	placement = root
	
	title = grefm.401.t
	desc = grefm.401.d
	flavor = grefm.401.f
	
	event_image = {
		video = "ep1_power_blocs"
	}
	
	icon = "gfx/interface/icons/event_icons/event_heptanese.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_ion_xenocracy
	}
	
	immediate = {
		c:GBR = {
			save_scope_as = uk_scope
		}
	}
	
	option = {
		name = grefm.401.a
		default_option = yes
		c:GBR = {
			change_relations = {
				country = root
				value = 25
			}
			set_secret_goal = {
				country = root
				secret_goal = protect
			}
		}
		add_modifier = {
			name = modifier_grefm_ionian_jewel
			months = long_modifier_time
		}
	}

}

grefm.402 = { # Modernized Agriculture
	type = country_event
	placement = root
	
	title = grefm.402.t
	desc = grefm.402.d
	flavor = grefm.402.f
	
	event_image = {
		video = "southamerica_factory_opening"
	}
	
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_ion_venetian_legacy
	}	
	
	immediate = {
	}
	
	option = {
		name = grefm.402.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_modernized_agriculture
			months = long_modifier_time
			is_decaying = yes
		}
		add_loyalists = {
			culture = cu:hellene
			value = medium_radicals
		}
	}

}

grefm.403 = { # A Civilized State
	type = country_event
	placement = root
	
	title = grefm.403.t
	desc = grefm.403.d
	flavor = grefm.403.f
	
	event_image = {
		video = "europenorthamerica_london_center"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_ion_poverty
	}
	
	immediate = {
		add_modifier = { # this is to avoid a snap bureaucracy shortage from the journal closing
			name = modifier_grefm_civilized_state
			months = long_modifier_time
			is_decaying = yes
		}
	}
	
	option = {
		name = grefm.403.a
		default_option = yes
		show_as_tooltip = {
			add_modifier = {
				name = modifier_grefm_civilized_state
				months = long_modifier_time
				is_decaying = yes
			}
		}
		add_loyalists = {
			strata = poor
			value = large_radicals
		}
	}
	
}

grefm.404 = { # The Ionian Academy
	type = country_event
	placement = scope:university_state
	
	title = grefm.404.t
	desc = grefm.404.d
	flavor = grefm.404.f
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:university_benefactor
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		morgenrote_is_active = no
		NOT = { has_variable = grefm_ion_university_considered }
		has_technology_researched = academia
		owns_entire_state_region = STATE_IONIAN_ISLANDS
	}
	
	immediate = {
		ruler = { 
			save_scope_as = university_benefactor
		}
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = university_state
			}
		}
		set_variable = grefm_ion_university_considered
	}
	
	option = {
		name = grefm.404.a
		default_option = yes
		scope:university_state = {
			create_building = {
 				building = "building_university"
				level = 1
 			}
		}
		add_modifier = {
			name = modifier_grefm_funding_royal_university
			months = normal_modifier_time
			multiplier = money_amount_multiplier_small
		}
	}
	
	option = {
		name = grefm.404.b
		scope:university_benefactor = {
			add_modifier = {
				name = modifier_grefm_blocked_building_university
				months = normal_modifier_time
			}
		}
	}

}

#### THE IONIAN JEWS EVENTS ####

grefm.410 = { # The Romanyotim of the Heptanese
	type = country_event
	placement = root
	
	title = grefm.410.t
	desc = grefm.410.d
	flavor = grefm.410.f
	
	event_image = {
		video = "europenorthamerica_judaism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_jewish.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm.400
	}
	
	immediate = {
		set_variable = {
			name = grefm_samos_loyalist_jews_var
			value = 0
		}
		set_variable = {
			name = grefm_samos_radical_jews_var
			value = 0
		}
	}
	
	option = {
		name = grefm.410.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_ion_jewry
		}
		show_as_tooltip = {
			add_modifier = modifier_grefm_jewish_exclusion
		}
	}

}

grefm.411 = { # Jews Request former Rights
	type = country_event
	placement = root
	
	title = grefm.411.t
	desc = grefm.411.d
	flavor = grefm.411.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_jewish.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			has_variable = grefm_jews_requested_rights
		}
		has_technology_researched = mass_communication
	}
	
	immediate = {
		set_variable = grefm_jews_requested_rights
	}
	
	option = { # Let them rights
		name = grefm.411.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_jewish_legal_concessions
			months = very_long_modifier_time
		}
		add_radicals = {
			culture = cu:hellene
			value = small_radicals
		}
	}
	
	option = { # Be a chode
		name = grefm.411.b
		add_modifier = {
			name = modifier_grefm_denied_jewish_rights
			months = very_long_modifier_time
		}
		add_radicals = {
			culture = cu:romaniote
			value = medium_radicals
		}
	}

}

grefm.412 = { # Nacamulli's Press House
	type = country_event
	placement = root
	
	title = grefm.412.t
	desc = grefm.412.d
	flavor = grefm.412.f
	
	event_image = {
		video = "ep1_printing_press"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			has_variable = grefm_nacamullis_press
		}
		has_technology_researched = human_rights # this might be too late
	}
	
	immediate = {
		set_variable = grefm_nacamullis_press
	}
	
	option = { # Circulate the articles
		name = grefm.412.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_chronica_israelitika
			months = very_long_modifier_time
		}
		add_radicals = {
			culture = cu:hellene
			value = small_radicals
		}
	}
	
	option = { # Supress the articles
		name = grefm.412.b
		add_modifier = {
			name = modifier_grefm_closed_presshouse
			months = very_long_modifier_time
		}
		add_radicals = {
			culture = cu:romaniote
			value = small_radicals
		}
	}

}

grefm.413 = { # Blood Libel
	type = country_event
	placement = root
	
	title = grefm.413.t
	desc = grefm.413.d
	flavor = grefm.413.f
	
	event_image = {
		video = "dlc_grefm"
	}
	
	icon = "gfx/interface/icons/event_icons/event_jewish.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			has_variable = grefm_blood_libel_happened
		}
		has_technology_researched = nationalism # technically, this event didn't happen until 1891, but it should be plausible any time after nationalism has gripped the country
	}
	
	immediate = {
		set_variable = grefm_blood_libel_happened
	}
	
	option = { # Break up the Mob
		name = grefm.413.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_suppressed_blood_libel
			months = very_long_modifier_time
		}
		add_radicals = {
			strata = poor
			value = medium_radicals
		}
	}
	
	option = { # What could go wrong?
		name = grefm.413.b
		add_radicals = {
			culture = cu:romaniote
			value = medium_radicals
		}
		hidden_effect = {
			trigger_event = {
				id = grefm.414 # Unrest in Corfu
			}
		}
	}

}

grefm.414 = { # Unrest in Corfu
	type = country_event
	placement = root
	
	title = grefm.414.t
	desc = grefm.414.d
	flavor = grefm.414.f
	
	event_image = {
		video = "votp_cops_march"
	}
	
	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm.413
	}
	
	immediate = {
	}
	
	option = { # Make Arrests (too late tho bro)
		name = grefm.414.a
		default_option = yes
		add_radicals = {
			culture = cu:hellene
			value = medium_radicals
		}
		add_radicals = {
			culture = cu:romaniote
			value = large_radicals
		}
		kill_population = { # the incident began because of a single Jewish girl found dead
			culture = cu:romaniote
			value = 1
		}
		kill_population = { # 3 "christians" were shot by soldiers
			religion = rel:orthodox
			value = 3
		}
		if = {
			limit = {
				any_scope_pop = {
					is_pop_type = soldiers
				}
			}
			kill_population = { # one soldier was killed defending the Jewish families
				pop_type = soldiers
				value = 1
			}
		}
		add_modifier = {
			name = modifier_grefm_blood_libel
			months = very_long_modifier_time
		}
	}
	
	option = { # OPE
		name = grefm.414.b
		add_radicals = {
			culture = cu:hellene
			value = small_radicals
		}
		add_radicals = {
			culture = cu:romaniote
			value = very_large_radicals
		}
		kill_population = { # the incident began because of a single Jewish girl found dead
			culture = cu:romaniote
			value = 1
		}
		kill_population = { # 3 "christians" were shot by soldiers
			religion = rel:orthodox
			value = 3
		}
		if = {
			limit = {
				any_scope_pop = {
					is_pop_type = soldiers
				}
			}
			kill_population = { # one soldier was killed defending the Jewish families
				pop_type = soldiers
				value = 1
			}
		}
		add_modifier = {
			name = modifier_grefm_blood_libel
			months = very_long_modifier_time
		}
	}

}

grefm.418 = { # Jewish Exclusion
	type = country_event
	placement = root
	
	title = grefm.418.t
	desc = grefm.418.d
	flavor = grefm.418.f
	
	event_image = {
		video = "europenorthamerica_rich_and_poor"
	}
	
	icon = "gfx/interface/icons/event_icons/event_jewish.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_ion_jewry
	}	
	
	immediate = {
		grefm_clean_up_ionian_jew_modifiers = yes
	}
	
	option = {
		name = grefm.418.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_jewish_neglect
			months = very_long_modifier_time
			is_decaying = yes
		}
		add_loyalists = {
			religion = rel:orthodox
			value = medium_radicals
		}
	}

}

grefm.419 = { # A Judaeo-Greek Nation
	type = country_event
	placement = root
	
	title = grefm.419.t
	desc = grefm.419.d
	flavor = grefm.419.f
	
	event_image = {
		video = "europenorthamerica_judaism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_jewish.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_ion_jewry
	}
	
	immediate = {
		grefm_clean_up_ionian_jew_modifiers = yes
#		set_global_variable = grefm_romaniote_jews_integrated
	}
	
	option = {
		name = grefm.419.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_jewish_integration
			months = long_modifier_time
			is_decaying = yes
		}
		add_loyalists = {
			culture = cu:romaniote
			value = medium_radicals
		}
		add_primary_culture = cu:romaniote
	}

}

#### GREEK UNION EVENTS ####

grefm.420 = { # The Dream of Enosis
	type = country_event
	placement = root
	
	title = grefm.420.t
	desc = grefm.420.d
	flavor = grefm.420.f
	
	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm.201
	}	
	
	immediate = {
		c:GRE = {
			save_scope_as = greece_scope
			set_secret_goal = { # Greece was not secretive about its desires for union with the Islands
				country = c:ION
				secret_goal = befriend
			}
		}
	}
	
	option = {
		name = grefm.420.a
		default_option = yes
		if = {
			limit = {
				has_dlc_feature = lobbies
				
			}
			create_political_lobby = {  # The majority of Ionian politics was unified on the idea of seeking union with Greece at all costs
				type = lobby_pro_country  
				target = c:GRE
				add_interest_group = ig:ig_petty_bourgeoisie
				add_interest_group = ig:ig_intelligentsia
				add_interest_group = ig:ig_armed_forces
				add_interest_group = ig:ig_rural_folk
				add_interest_group = ig:ig_industrialists
			}
		}
	}

}

grefm.421 = { # Ionian Union with the Greek State
	type = country_event
	placement = scope:ionian_islands_state_scope
	
	title = grefm.421.t
	desc = grefm.421.d
	flavor = grefm.421.f
	
	event_image = {
		video = "ep1_transfer_of_authority"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm_ionian_enosis_button
	}	
	
	immediate = {
		s:STATE_IONIAN_ISLANDS = {
			random_scope_state = {
				save_scope_as = ionian_islands_state_scope
			}
		}
		c:GBR = {
			save_scope_as = uk_scope
		}
	}
	
	option = {
		name = grefm.421.a
		default_option = yes
		annex = c:ION
		add_modifier = {
			name = modifier_grefm_hepantese_union
			months = normal_modifier_time
		}
	}

}


##################################################
##	#GRE5  MINOR GREEK STATES  Events  500-599  ##
##################################################

#### PRINCIPALITY OF SAMOS EVENTS ####

grefm.500 = { # Samos Defiant
	type = country_event
	placement = root
	
	title = grefm.500.t
	desc = grefm.500.d
	flavor = grefm.500.f
	
	event_image = {
		video = "grefm_ion_intro"
	}
	
	icon = "gfx/interface/icons/event_icons/event_samos.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 1
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
		set_variable = grefm_stefanos_var
	}
	
	option = {
		name = grefm.500.a
		default_option = yes
		show_as_tooltip = {
			add_modifier = modifier_grefm_submission
		}
		trigger_event = {
			id = grefm.501 # An Imposed Ruler
			days = 30
		}
	}
	
}

grefm.501 = { # An Imposed Ruler
	type = country_event
	placement = root
	
	title = grefm.501.t
	desc = grefm.501.d
	flavor = grefm.501.f
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered ny grefm.500
	}
	
	immediate = {
		set_variable = {
			name = grefm_samos_support_var
			value = 100
		}
		set_variable = {
			name = grefm_samos_ruler_counter
			value = 1
		}
		set_variable = {
			name = grefm_samos_ruler_duration_var
			value = 60
		}
	}
	
	option = {
		name = grefm.500.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_samos_organic_law
		}
		show_as_tooltip = {
			add_modifier = modifier_grefm_westernized_thought
			add_modifier = modifier_grefm_hegemonic_ruler
		}
	}
	
}

grefm.502 = { # The Organic Charter
	type = country_event
	placement = root
	
	title = grefm.502.t
	desc = grefm.502.d
	flavor = grefm.502.f
	
	event_image = {
		video = "africa_leader_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.502.a
		default_option = yes
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value > neutral
				}
			}
			add_modifier = {
				name = modifier_grefm_constitution_enforced
				months = normal_modifier_time
				is_decaying = yes
			}
		}		
		add_modifier = {
			name = modifier_grefm_organic_charter
			months = long_modifier_time
		}
		add_loyalists = {
			culture = cu:hellene
			value = medium_radicals
		}
	}

}

grefm.503 = { # The Tyranny of Lord Stefanos
	type = country_event
	placement = root
	
	title = grefm.503.t
	desc = grefm.503.d
	flavor = grefm.503.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}	
	
	immediate = {
	}
	
	option = {
		name = grefm.503.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_tyrannical_ruler
			months = normal_modifier_time
		}
		add_radicals = {
			culture = cu:hellene
			value = large_radicals
		}
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value < neutral
				}
			}
			leader = {
				set_ideology = ideology:ideology_republican_leader
			}
		}
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value < neutral
				}
			}
			add_modifier = {
				name = modifier_grefm_constitution_refused
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}

}

grefm.504 = { # Stefanos Desposed
	type = country_event
	placement = root
	
	title = grefm.504.t
	desc = grefm.504.d
	flavor = grefm.504.f
	
	event_image = {
		video = "europenorthamerica_political_extremism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 1
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			has_variable = grefm_stefanos_var
		}
		var:grefm_samos_support_var <= 0
		has_law = law_type:law_monarchy
	}
	
	immediate = {
		grefm_generate_samos_ruler_effect = yes
		random_character_in_void = {
			limit = {
				has_variable = grefm_samos_ruler_var
			}
			save_scope_as = samos_next_ruler_scope
		}
	}
	
	option = {
		name = grefm.504.a
		default_option = yes
		ruler = {
			exile_character = yes
		}
		heir ?= {
			disinherit_character = yes
		}
		scope:samos_next_ruler_scope = {
			set_character_as_ruler = yes
			remove_variable = grefm_samos_ruler_var
		}
		add_modifier = {
			name = modifier_grefm_ruler_ejected
			months = short_modifier_time
			is_decaying = yes
		}
	}

}

grefm.505 = { # New Governor Appointed
	type = country_event
	placement = root
	
	title = grefm.505.t
	desc = grefm.505.d
	flavor = grefm.505.f
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 1
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			has_variable = grefm_stefanos_var
		}
		var:grefm_samos_ruler_duration_var <= 0
		has_law = law_type:law_monarchy
	}
	
	immediate = {
		grefm_generate_samos_ruler_effect = yes
		random_character_in_void = {
			limit = {
				has_variable = grefm_samos_ruler_var
			}
			save_scope_as = samos_next_ruler_scope
		}
	}
	
	option = {
		name = grefm.505.a
		default_option = yes
		ruler = {
			exile_character = yes
		}
		heir ?= {
			disinherit_character = yes
		}
		scope:samos_next_ruler_scope = {
			set_character_as_ruler = yes
			remove_variable = grefm_samos_ruler_var
		}
	}

}

grefm.506 = { # Ruler Desposed
	type = country_event
	placement = root
	
	title = grefm.506.t
	desc = grefm.506.d
	flavor = grefm.506.f
	
	event_image = {
		video = "europenorthamerica_political_extremism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_protest.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 1
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			has_variable = grefm_stefanos_var
		}
		var:grefm_samos_support_var <= 0
		has_law = law_type:law_monarchy
	}
	
	immediate = {
		grefm_generate_samos_ruler_effect = yes
		random_character_in_void = {
			limit = {
				has_variable = grefm_samos_ruler_var
			}
			save_scope_as = samos_next_ruler_scope
		}
	}
	
	option = {
		name = grefm.506.a
		default_option = yes
		ruler = {
			exile_character = yes
		}
		heir ?= {
			disinherit_character = yes
		}
		scope:samos_next_ruler_scope = {
			set_character_as_ruler = yes
			remove_variable = grefm_samos_ruler_var
		}
		add_modifier = {
			name = modifier_grefm_ruler_ejected
			months = short_modifier_time
			is_decaying = yes
		}
	}

}

grefm.507 = { # OPEN
	orphan = yes
}

grefm.508 = { # Samos Liberated
	type = country_event
	placement = root
	
	title = grefm.508.t
	desc = grefm.508.d
	flavor = grefm.508.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_samos.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_samos_main
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.508.a
		default_option = yes
		add_loyalists = {
			culture = cu:hellene
			value = large_radicals
		}
	}

}

grefm.509 = { # Samian Union with the Greek State
	type = country_event
	placement = root
	
	title = grefm.509.t
	desc = grefm.509.d
	flavor = grefm.509.f
	
	event_image = {
		video = "unspecific_signed_contract"
	}
	
	icon = "gfx/interface/icons/event_icons/event_samos.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm_samos_enosis_button
	}
	
	immediate = {
		c:SAMO = {
			save_scope_as = samos_scope
		}
	}
	
	option = {
		name = grefm.509.a
		default_option = yes
		annex = c:SAMO
		add_modifier = {
			name = modifier_grefm_samian_union
			months = normal_modifier_time
		}
	}

}


#### PRINCIPALITY OF CRETE EVENTS ####
grefm.510 = { # OPEN
	orphan = yes
}


#### CRETAN REVOLT EVENTS ####
grefm.520 = { # Priest Martyred in Crete
	type = country_event
	placement = scope:crete_state_scope
	
	title = grefm.520.t
	desc = {
		desc = grefm.520.d
		triggered_desc = {
			desc = grefm.520.d1
			trigger = {
				owns_entire_state_region = STATE_CRETE
			}
		}
		triggered_desc = {
			desc = grefm.520.d2
			trigger = {
				has_variable = grefm_250_A
			}
		}
		triggered_desc = {
			desc = grefm.520.d3
			trigger = {
				has_variable = grefm_250_B
			}
		}
	}
			
	flavor = grefm.520.f
	
	event_image = {
		video = "middleeast_police_breaking_door"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		s:STATE_CRETE = {
			random_scope_state = {
				save_scope_as = crete_state_scope
				owner = {
					save_scope_as = crete_owner_scope
				}
			}
		}
		
	}
	
	cooldown = { 
		months = 120
	}	
	
	option = {
		name = grefm.520.a
		default_option = yes
		trigger = {
			owns_entire_state_region = STATE_CRETE
		}
		custom_tooltip = {
			text = grefm_crete_momentum_plus_20
			hidden_effect = {	
				change_global_variable = {
					name = grefm_crete_revolt_var
					add = 20
				}
			}
		}
		c:GRE = {
			trigger_event = {
				id = grefm.520
			}
			set_variable = grefm_250_A
		}
	}
	
	option = {
		name = grefm.520.b
		trigger = {
			owns_entire_state_region = STATE_CRETE
		}
		custom_tooltip = {
			text = grefm_crete_momentum_plus_5
			hidden_effect = {	
				change_global_variable = {
					name = grefm_crete_revolt_var
					add = 5
				}
			}
		}
		s:STATE_CRETE = {
			random_scope_state = {
				add_radicals_in_state = {
					culture = cu:turkish
					value = small_radicals
				}
			}
		}
		c:GRE = {
			trigger_event = {
				id = grefm.520
			}
			set_variable = grefm_250_B
		}
	}
	
	option = {
		name = grefm.520.c
		trigger = {
			NOT = {
				owns_entire_state_region = STATE_CRETE
			}
		}
		if = {
			limit = {
				has_variable = grefm_250_A
			}
			custom_tooltip = grefm_crete_momentum_plus_20
		}
		if = {
			limit = {
				has_variable = grefm_250_B
			}
			custom_tooltip = grefm_crete_momentum_plus_5
		}
	}
	
	after = {
		remove_variable = grefm_250_A
		remove_variable = grefm_250_B	
	}
	
}

grefm.521 = { # Wali of Crete Oversteps Authority
	type = country_event
	placement = scope:crete_state_scope
	
	title = grefm.521.t
	desc = {
		desc = grefm.521.d
		triggered_desc = {
			desc = grefm.521.d1
			trigger = { has_variable = grefm_251_A }
		}
		triggered_desc = {
			desc = grefm.521.d2
			trigger = { has_variable = grefm_251_B }
		}
	}
	flavor = grefm.521.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		s:STATE_CRETE = {
			random_scope_state = {
				save_scope_as = crete_state_scope
				owner = {
					save_scope_as = crete_owner_scope
				}
			}
		}
		
	}
	
	cooldown = { 
		months = 120
	}	
	
	option = {
		name = grefm.521.a
		default_option = yes
		trigger = {
			owns_entire_state_region = STATE_CRETE
		}
		custom_tooltip = {
			text = grefm_crete_momentum_plus_10
			hidden_effect = {	
				change_global_variable = {
					name = grefm_crete_revolt_var
					add = 10
				}
			}
		}
		c:GRE = {
			trigger_event = {
				id = grefm.521
			}
			set_variable = grefm_251_A
		}
	}
	
	option = {
		name = grefm.521.b
		trigger = {
			owns_entire_state_region = STATE_CRETE
		}
		add_modifier = {
			name = modifier_grefm_recalled_wali
			months = normal_modifier_time
		}
		s:STATE_CRETE = {
			random_scope_state = {
				add_radicals_in_state = {
					culture = cu:turkish
					value = small_radicals
				}
			}
		}
		c:GRE = {
			trigger_event = {
				id = grefm.521
			}
			set_variable = grefm_251_B
		}
	}
	
	option = {
		name = grefm.521.c
		trigger = {
			NOT = {
				owns_entire_state_region = STATE_CRETE
			}
		}
		if = {
			limit = {
				has_variable = grefm_251_A
			}
			custom_tooltip = grefm_crete_momentum_plus_10
		}
		if = {
			limit = {
				has_variable = grefm_251_B
			}
			show_as_tooltip = {
				s:STATE_CRETE = {
					random_scope_state = {
						add_radicals_in_state = {
							culture = cu:turkish
							value = small_radicals
						}
					}
				}
			}
		}
	}
	
	after = {
		remove_variable = grefm_251_A
		remove_variable = grefm_251_B	
	}
	
}

grefm.522 = { # Greek Agitation in Crete
	type = country_event
	placement = scope:crete_state_scope
	
	title = grefm.522.t
	desc = grefm.522.d
	flavor = grefm.522.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		s:STATE_CRETE = {
			random_scope_state = {
				save_scope_as = crete_state_scope
				owner = {
					save_scope_as = crete_owner_scope
				}
			}
		}
	}
	
	option = {
		name = grefm.522.a
		trigger = {
			NOT = { owns_entire_state_region = STATE_CRETE }
		}
		custom_tooltip = grefm_crete_momentum_plus_20
		hidden_effect = {
			scope:crete_owner_scope ?= {
				trigger_event = {
					id = grefm.522
				}
			}
		}
	}
	
	option = {
		name = grefm.522.b
		default_option = yes
		trigger = {
			owns_entire_state_region = STATE_CRETE
		}
		custom_tooltip = {
			text = grefm_crete_momentum_plus_20
			hidden_effect = {	
				change_global_variable = {
					name = grefm_crete_revolt_var
					add = 20
				}
			}
		}
	}

}

grefm.523 = { # Language Bans in Crete
	orphan = yes
}

grefm.528 = { # Crete Seeks Greater Autonomy
	type = country_event
	placement = root
	
	title = grefm.529.t
	desc = grefm.529.d
	flavor = grefm.529.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		global_var:grefm_crete_revolt_var >= 200
		c:CRE ?= {
			is_subject_of = root
			NOR = {
				is_subject_type = subject_type_protectorate
				is_subject_type = subject_type_tributary
			}
		}
	}
	
	immediate = {
		set_global_variable = {
			name = grefm_crete_revolt_var
			value = 0
		}
		c:CRE = {
			save_scope_as = crete_scope
		}
	}
	
	option = { # Give In
		name = grefm.528.a
		default_option = yes
		c:CRE = {
			increase_autonomy = yes
		}
		add_modifier = {
			name = modifier_grefm_autonomy_denied
			months = normal_modifier_time
		}
	}
	
	option = {
		name = grefm.528.b
		c:CRE = {
			add_modifier = {
				name = modifier_grefm_autonomy_granted
				months = normal_modifier_time
			}
		}
	}
	
}	

grefm.529 = { # Crete Revolts Again (TUR/EGY)
	type = country_event
	placement = root
	
	title = grefm.529.t
	desc = grefm.529.d
	flavor = grefm.529.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		global_var:grefm_crete_revolt_var >= 200
		owns_entire_state_region = STATE_CRETE
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
	}
	
	immediate = {
		set_global_variable = {
			name = grefm_crete_revolt_var
			value = 0
		}
		s:STATE_CRETE = {
			random_scope_state = {
				save_scope_as = crete_state_scope
				owner = {
					save_scope_as = crete_owner_scope
				}
			}
		}
		create_country = {
			tag = CRE
			origin = this
			state = scope:crete_state_scope
		}
		c:CRE = {
			save_scope_as = crete_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:CRE
			type = dominion
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
	
	option = { # Drop the Hammer
		name = grefm.529.a
		default_option = yes
		c:CRE = {
			make_independent = yes
		}
		create_diplomatic_play = {
			name = grefm_crete_rebellion
			target_country = c:CRE
			type = dp_return_state
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					scope:crete_owner_scope = {
						is_diplomatic_play_initiator = yes
					}
					c:CRE = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_CRETE.region_state:CRE
				}
				add_war_goal = {
					holder = c:CRE
					type = independence
				}
				add_diplomatic_play_war_support = { 
					target = c:CRE 
					value = 100
				}
			}
			change_infamy = -5
		}
	}
	
	option = { # Everything is Fine
		name = grefm.529.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		show_as_tooltip = {
			create_diplomatic_pact = {
				country = c:CRE
				type = protectorate
			}
		}
	}
	
	after = {
		every_country = {
			limit = {
				country_has_primary_culture = cu:hellene
			}
			trigger_event = {
				id = grefm.592 # Greek Uprising in State (GRE)
			}
		}
		remove_variable = grefm_owner_tracker
	}
}

#### EPIROTE STATE EVENTS ####
grefm.530 = { # OPEN
	orphan = yes
}


#### TREBIZONDAN STATE EVENTS ####
grefm.540 = { # OPEN
	orphan = yes
}


#### THEODORAN STATE EVENTS ####
grefm.550 = { # OPEN
	orphan = yes
}


#### ANNEXATION EVENTS ####
grefm.580 = { # ION annexation
	type = country_event
	placement = scope:ionian_overlord_capital

	title = grefm.580.t
	desc = grefm.580.d
	flavor = grefm.580.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by decision
	}

	immediate = {
		c:ION = {
			save_scope_as = ionian_country
			top_overlord = {
				save_scope_as = ionian_overlord
				capital = {
					save_scope_as = ionian_overlord_capital
				}
			}
		}
	}

	option = {
		name = grefm.580.a
		default_option = yes
		annex = c:ION
		add_loyalists = {
			culture = cu:hellene
			value = small_radicals
		}
	}
}


grefm.581 = { # EPI annexation
	type = country_event
	placement = scope:epirus_capital
	
	title = grefm.581.t
	desc = grefm.581.d
	flavor = grefm.581.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:EPI = {
			save_scope_as = epirus_scope
			capital = {
				save_scope_as = epirus_capital
			}
		}
	}

	option = {
		name = grefm.581.a
		default_option = yes
		annex = c:EPI
		add_loyalists = {
			culture = cu:hellene
			value = small_radicals
		}
		if = {
			limit = {
				NOT = { has_claim = s:STATE_ALBANIA }
			}
			s:STATE_ALBANIA = {
				add_claim = ROOT
			}
		}
	}
}

grefm.582 = { # CYP annexation
	type = country_event
	placement = scope:cyprus_capital
	
	title = grefm.582.t
	desc = grefm.582.d
	flavor = grefm.582.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:CYP = {
			save_scope_as = cyprus_scope
			capital = {
				save_scope_as = cyprus_capital
			}
		}
	}

	option = {
		name = grefm.582.a
		default_option = yes
		annex = c:CYP
		add_loyalists = {
			culture = cu:hellene
			value = small_radicals
		}
	}
}

grefm.583 = { # CRE annexation
	type = country_event
	placement = scope:crete_capital
	
	title = grefm.583.t
	desc = grefm.583.d
	flavor = grefm.583.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:CRE = {
			save_scope_as = crete_scope
			capital = {
				save_scope_as = crete_capital
			}
		}
	}

	option = {
		name = grefm.583.a
		default_option = yes
		annex = c:CRE
		add_loyalists = {
			culture = cu:hellene
			value = small_radicals
		}
	}
}

grefm.584 = { # MAC annexation
	type = country_event
	placement = scope:macedonia_capital
	
	title = grefm.584.t
	desc = grefm.584.d
	flavor = grefm.584.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:MAC = {
			save_scope_as = macedonia_scope
			capital = {
				save_scope_as = macedonia_capital
			}
		}
	}

	option = {
		name = grefm.584.a
		default_option = yes
		annex = c:MAC
		add_loyalists = {
			culture = cu:hellene
			value = small_radicals
		}
	}
}

grefm.585 = { # OPEN
	orphan = yes
}

grefm.586 = { # SAMO Annexation
	type = country_event

	title = grefm.586.t
	desc = grefm.586.d
	flavor = grefm.586.f

	placement = scope:theodoro_capital

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:THE = {
			save_scope_as = theodoro_scope
			capital = {
				save_scope_as = theodoro_capital
			}
		}
	}

	option = {
		name = grefm.586.a
		default_option = yes
		annex = c:SAMO
		add_loyalists = {
			culture = cu:hellene
			value = small_radicals
		}
	}
	
}

grefm.587 = { # theodoro annexation
	type = country_event

	title = grefm.587.t
	desc = grefm.587.d
	flavor = grefm.587.f

	placement = scope:theodoro_capital

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:THE = {
			save_scope_as = theodoro_scope
			capital = {
				save_scope_as = theodoro_capital
			}
		}
	}

	option = {
		name = grefm.587.a
		default_option = yes
		annex = c:THE
	}
}

grefm.588 = { # trabzon annexation
	type = country_event

	title = grefm.588.t
	desc = grefm.588.d
	flavor = grefm.588.f

	placement = scope:trabzon_capital

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:TRB = {
			save_scope_as = trabzon_scope
			capital = {
				save_scope_as = trabzon_capital
			}
		}
	}

	option = {
		name = grefm.588.a
		default_option = yes
		annex = c:TRB
	}
}

#### GREEK SEPARATISM EVENTS ####
grefm.590 = { # Greek Separatism
	type = country_event
	placement = root
	
	title = grefm.590.t
	desc = grefm.590.d
	flavor = grefm.590.f
	
	event_image = {
		video = "votp_agitator_speaking"
	}
	
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_greek_separatism_main / je_grefm_greek_separatism_main / grefm.599
	}
	
	immediate = {
		random_country = {
			limit = {
				has_journal_entry = je_grefm_greek_separatism_main
			}
			save_scope_as = grefm_greece_scope
		}
	}
	
	option = {
		name = grefm.590.a
		default_option = yes
		trigger = {
			country_has_primary_culture = cu:hellene
		}
		if = {	
			limit = {
				NOT = {
					has_journal_entry = je_grefm_greek_separatism_main
				}
			}
			add_journal_entry = {
				type = je_grefm_greek_separatism_main
			}
		}
		custom_tooltip = grefm.590.tt1
		custom_tooltip = grefm.590.tt2
	}

	option = {
		name = grefm.590.b
		trigger = {
			grefm_is_muslim_trigger = yes
		}
		add_journal_entry = {
			type = je_grefm_greek_separatism_sub
		}
		custom_tooltip = grefm.590.tt2
		custom_tooltip = grefm.590.tt3
	}
	
}

grefm.591 = { # Greek Provocations in State (GRE)
	type = country_event
	placement = scope:grefm_provocation_state_scope
	
	title = grefm.591.t
	desc = grefm.591.d
	flavor = grefm.591.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_greek_separatism_main
	}
	
	immediate = {
		random_state = {
			limit = {
				has_variable = grefm_provocation_state_target
			}
			save_scope_as = grefm_provocation_state_scope
			owner = {
				save_scope_as = grefm_provocation_owner_scope
			}
		}
	}
	
	option = {
		name = grefm.591.a
		default_option = yes
		create_incident = {
			country = scope:grefm_provocation_owner_scope
			value = 5
		}
		scope:grefm_provocation_state_scope = {
			remove_variable = grefm_provocation_state_target
		}
	}
	
}

grefm.592 = { # Greek Uprising in State (GRE)
	type = country_event
	placement = scope:grefm_revolt_scope
	
	title = grefm.592.t
	desc = grefm.592.d
	flavor = grefm.592.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm.595/216/217/259
	}
	
	immediate = {
		random_country = {
			limit = {
				has_variable = grefm_owner_tracker
			}
			save_scope_as = grefm_owner_scope
		}
		random_country = {
			limit = {
				has_variable = grefm_revolt_tracker
			}
			save_scope_as = grefm_revolt_scope
		}
		random_diplomatic_play = {
			limit = {
				scope:grefm_owner_scope = {
					is_diplomatic_play_initiator = yes
				}
				scope:grefm_revolt_scope = {
					is_diplomatic_play_target = yes
				}
			}
			save_scope_as = grefm_greek_revolt_play_scope
		}
	}
	
	option = { # Send Thoughts and Prayers
		name = grefm.592.a
		default_option = yes
	}
	
	option = { # Jump in to Help
		name = grefm.592.b
		trigger = {
			exists = scope:grefm_greek_revolt_play_scope
		}
		if = {
			limit = {
				has_truce_with = scope:grefm_owner_scope
			}
			end_truce = scope:grefm_owner_scope
		}
		scope:grefm_greek_revolt_play_scope = {
			add_target_backers = root
		}
	} 
	} # This extra closing bracket makes the file work. Please don't question this.
	
	after = {
		scope:grefm_revolt_scope = {
			remove_variable = grefm_revolt_tracker
		}
	}

}

grefm.593 = { # OPEN
	orphan = yes
}

grefm.594 = { # The Makedonijan Revolt (TUR/EGY)
	type = country_event
	placement = scope:skopia_state_scope
	
	title = grefm.594.t
	desc = grefm.594.d
	flavor = grefm.594.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_SKOPIA
		any_country = { has_modifier = modifier_grefm_supporting_skopia }
		NOT = { has_global_variable = grefm_revolt_cooldown }
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
		OR = {
			s:STATE_SKOPIA = {
				any_scope_state = {
					radical_fraction = {
						value >= 0.40
						culture = cu:hellene
					}
				}
			}
			AND = {
				s:STATE_SKOPIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:hellene
						}
					}
				}
				is_at_war = yes
			}
		}
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_SKOPIA = {
			random_scope_state = {
				save_scope_as = skopia_state_scope
			}
		}
		create_country = {
			tag = NMAC
			origin = this
			state = scope:skopia_state_scope
		}
		c:NMAC = {
			save_scope_as = makedonija_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:NMAC
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:NMAC
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.594.a
		default_option = yes
		c:NMAC = {
			make_independent = yes
		}
		end_truce = c:NMAC
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:NMAC
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:NMAC = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_SKOPIA.region_state:NMAC
				}
				add_war_goal = {
					holder = c:NMAC
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:NMAC
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:hellene
			}
			trigger_event = {
				id = grefm.592 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.594.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:NMAC
			type = protectorate
		}
	}
	
}

grefm.595 = { # The Epirote Revolt (TUR/EGY)
	type = country_event
	placement = scope:albania_state_scope
	
	title = grefm.595.t
	desc = grefm.595.d
	flavor = grefm.595.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_ALBANIA
		owns_entire_state_region = STATE_THESSALIA
		any_country = { has_modifier = modifier_grefm_supporting_epirus }
		NOT = { has_global_variable = grefm_revolt_cooldown }
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
		OR = {
			AND = {
				s:STATE_ALBANIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.40
							culture = cu:hellene
						}
					}
				}
				s:STATE_THESSALIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.40
							culture = cu:hellene
						}
					}
				}		
			}
			AND = {
				s:STATE_ALBANIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:hellene
						}
					}
				}
				s:STATE_THESSALIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:hellene
						}
					}
				}
				is_at_war = yes
			}
		}
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_ALBANIA = {
			random_scope_state = {
				save_scope_as = albania_state_scope
			}
		}
		create_country = {
			tag = EPI
			origin = this
			province = p:xC42EC6
			province = p:x7BE071
			province = p:x18C9AD
			province = p:x01D0E0
			province = p:x8050E0
			on_created = {
			}
		}
		c:EPI = {
			save_scope_as = epirus_scope
			create_epirus_characters = yes
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:EPI
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:EPI
			months = 60
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_ALBANIA
			}
			every_scope_pop = {
				limit = {
					culture = cu:hellene
				}
				move_pop = s:STATE_ALBANIA.region_state:EPI
			}
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
	
	option = { # Get the Whip
		name = grefm.595.a
		default_option = yes
		c:EPI = {
			make_independent = yes
		}
		end_truce = c:EPI
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:EPI
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:EPI = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_ALBANIA.region_state:EPI
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_THESSALIA.region_state:EPI
				}
				add_war_goal = {
					holder = c:EPI
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:EPI
					value = 100
				}
			}
			change_infamy = -10
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:hellene
			}
			trigger_event = {
				id = grefm.592 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.595.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:EPI
			type = protectorate
		}
	}
	
}

grefm.596 = { # The Cypriot Revolt (TUR/EGY)
	type = country_event
	placement = scope:cyprus_state_scope
	
	title = grefm.596.t
	desc = grefm.596.d
	flavor = grefm.596.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_CYPRUS
		any_country = { has_modifier = modifier_grefm_supporting_cyprus }
		NOT = { has_global_variable = grefm_revolt_cooldown }
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
		OR = {
			s:STATE_CYPRUS = {
				any_scope_state = {
					radical_fraction = {
						value >= 0.40
						culture = cu:hellene
					}
				}
			}
			AND = {
				s:STATE_CYPRUS = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:hellene
						}
					}
				}
				is_at_war = yes
			}
		}
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_CYPRUS = {
			random_scope_state = {
				save_scope_as = cyprus_state_scope
			}
		}
		create_country = {
			tag = CYP
			origin = this
			state = scope:cyprus_state_scope
		}
		c:CYP = {
			save_scope_as = cyprus_scope
			create_cyprus_characters = yes
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:CYP
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:CYP
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker		
	}	
		
	option = { # Get the Whip
		name = grefm.596.a
		default_option = yes
		c:CYP = {
			make_independent = yes
		}
		end_truce = c:CYP
		create_diplomatic_play = {
			name = grefm_cyprus_rebellion
			target_country = c:CYP
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:CYP = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_CYPRUS.region_state:CYP
				}
				add_war_goal = {
					holder = c:CYP
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:CYP
					value = 100
				}
			}
			change_infamy = -5
		}
		hidden_effect = {
			every_country = {
				limit = {
					country_has_primary_culture = cu:hellene
				}
				trigger_event = {
					id = grefm.592 # Greek Uprising in State (GRE)
				}
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.596.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:CYP
			type = protectorate
		}
	}
	
}

grefm.597 = { # The Macedonian Revolt (TUR/EGY)
	type = country_event
	placement = scope:macedonia_state_scope
	
	title = grefm.597.t
	desc = grefm.597.d
	flavor = grefm.597.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_MACEDONIA
		any_country = { has_modifier = modifier_grefm_supporting_macedonia }
		NOT = { has_global_variable = grefm_revolt_cooldown }
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
		OR = {
			s:STATE_MACEDONIA = {
				any_scope_state = {
					radical_fraction = {
						value >= 0.40
						culture = cu:hellene
					}
				}
			}
			AND = {
				s:STATE_MACEDONIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:hellene
						}
					}
				}
				is_at_war = yes
			}
		}
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_MACEDONIA = {
			random_scope_state = {
				save_scope_as = macedonia_state_scope
			}
		}
		create_country = {
			tag = MAC
			origin = this
			state = scope:macedonia_state_scope
		}
		c:MAC = {
			save_scope_as = macedonia_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:MAC
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:MAC
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.597.a
		default_option = yes
		c:MAC = {
			make_independent = yes
		}
		end_truce = c:MAC
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:MAC
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:MAC = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_MACEDONIA.region_state:MAC
				}
				add_war_goal = {
					holder = c:MAC
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:MAC
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:hellene
			}
			trigger_event = {
				id = grefm.592 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.597.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:MAC
			type = protectorate
		}
	}
	
}

grefm.598 = { # The Smyrna Revolt (TUR/EGY)
	type = country_event
	placement = scope:aydin_state_scope
	
	title = grefm.598.t
	desc = grefm.598.d
	flavor = grefm.598.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_AYDIN
		any_country = { has_modifier = modifier_grefm_supporting_smyrna }
		NOT = { has_global_variable = grefm_revolt_cooldown }
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
		OR = {
			s:STATE_AYDIN = {
				any_scope_state = {
					radical_fraction = {
						value >= 0.40
						culture = cu:hellene
					}
				}
			}
			AND = {
				s:STATE_AYDIN = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:hellene
						}
					}
				}
				is_at_war = yes
			}
		}
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_AYDIN = {
			random_scope_state = {
				save_scope_as = aydin_state_scope
			}
		}
		create_country = {
			tag = SMYR
			origin = this
			state = scope:aydin_state_scope
		}
		c:SMYR = {
			save_scope_as = smyrna_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:SMYR
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:SMYR
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.598.a
		default_option = yes
		c:SMYR = {
			make_independent = yes
		}
		end_truce = c:SMYR
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:SMYR
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:SMYR = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_AYDIN.region_state:SMYR
				}
				add_war_goal = {
					holder = c:SMYR
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:SMYR
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:hellene
			}
			trigger_event = {
				id = grefm.592 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.598.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:SMYR
			type = protectorate
		}
	}
	
}

grefm.599 = { # Reassigns the Revolt Journals
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		grefm_is_muslim_trigger = yes
		NOR = { 
			has_journal_entry = je_grefm_greek_separatism_sub
			has_law = law_type:law_multicultural
		}
		any_country = {
			has_journal_entry = je_grefm_greek_separatism_main
		}
		OR = {
			owns_entire_state_region = STATE_MACEDONIA
			owns_entire_state_region = STATE_SKOPIA
			owns_entire_state_region = STATE_ALBANIA
			owns_entire_state_region = STATE_AYDIN
			owns_entire_state_region = STATE_CRETE
			owns_entire_state_region = STATE_CYPRUS
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					has_variable = grefm_separatism_received
				}
			}
			trigger_event = {
				id = grefm.590 # Greek Separatism
			}
			set_variable = grefm_separatism_received
		}
		else = {
			add_journal_entry = {
				type = je_grefm_greek_separatism_sub
			}
			post_notification = notitification_grefm_separatism_received
		}
	}

}


######################################################
##  #GRE8  BYZANTINE EMPIRE FLAVOR  Events 800-899  ##
######################################################

grefm.800 = { # The Pheonix Rises
	type = country_event
	placement = root
	
	title = grefm.800.t
	desc = grefm.800.d
	flavor = grefm.800.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_rome_of_the_east
	}
	
	immediate = {
		random_scope_building = {
			limit = {
				is_building_type = building_hagia_sophia
			}
			save_scope_as = hagia_sofia_scope
		}
		save_scope_as = formation_country
		every_country = {
			limit = {
				has_diplomatic_relevance = ROOT
			}
			post_notification = unification_notification_byz
		}
		set_global_variable = has_formed_byz
	}
	
	option = {
		name = grefm.800.a
		default_option = yes
		trigger_event = {
			id = byzfm.301 # The Byzantine Restoration
			days = 30
		}
		add_modifier = {
			name = modifier_grefm_byzantine_rebirth
			months = very_long_modifier_time
		}
		if = {
			limit = {
				NOT = {
					country_has_primary_culture = cu:rhomaios
				}
			}
			add_primary_culture = cu:rhomaios
		}
	}

}

grefm.801 = { # Nova Roma Constantinopolitana
	type = country_event
	placement = root
	
	title = grefm.801.t
	desc = grefm.801.d
	flavor = grefm.801.f
	
	event_image = {
		video = "grefm_georgios_averof"
	}
	
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm.800
	}
	
	option = {
		name = grefm.301.a
		default_option = yes
		set_capital = STATE_EASTERN_THRACE
		every_state_region = {
			limit = {
				OR = {
					region = sr:region_anatolia
					region = sr:region_balkans
				}
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
	}
	
	option = {
		name = grefm.301.b
		every_state_region = {
			limit = {
				region = sr:region_anatolia
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
		change_infamy = -10
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
			}
		}
	}
	
	option = {
		name = grefm.301.c
		every_state_region = {
			limit = {
				region = sr:region_balkans
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
		change_infamy = -10
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
			}
		}
	}

}

grefm.802 = { # The Rome of the East
	type = country_event
	
	title = grefm.802.t
	desc = grefm.802.d
	flavor = grefm.802.f
	
	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_aquila.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered by je_grefm_purple_pheonix
	}
	
	immediate = {
	}
	
	option = { # reclaim the east
		name = grefm.803.a
		default_option = yes
		ruler = {
			add_modifier = {
				name = modifier_grefm_popular_emperor
			}
		}
		add_modifier = {
			name = modifier_grefm_legitmacy_boost
			months = normal_modifier_time
		}
		add_journal_entry = {
			type = je_grefm_rome_of_the_east
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_ALEPPO }
			}
			s:STATE_ALEPPO = {
				add_claim = ROOT
			}
		}		
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_SYRIA }
			}
			s:STATE_SYRIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_LEBANON }
			}
			s:STATE_LEBANON = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_TRANSJORDAN }
			}
			s:STATE_TRANSJORDAN = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_PALESTINE }
			}
			s:STATE_PALESTINE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_SINAI }
			}
			s:STATE_SINAI = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_LOWER_EGYPT }
			}
			s:STATE_LOWER_EGYPT = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_MIDDLE_EGYPT }
			}
			s:STATE_MIDDLE_EGYPT = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_UPPER_EGYPT }
			}
			s:STATE_UPPER_EGYPT = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_MATRUH }
			}
			s:STATE_MATRUH = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_LIBYA }
			}
			s:STATE_LIBYA = {
				add_claim = ROOT
			}
		}
	}
	
	option = { # nah bro, shits for the birds
		name = grefm.803.b
		change_infamy = -20
		ruler = {
			add_modifier = {
				name = modifier_grefm_popular_emperor
			}
		}
		add_modifier = {
			name = modifier_grefm_legitmacy_boost
			months = normal_modifier_time
		}
		capital = {
			add_modifier = {
				name = modifier_grefm_capital_assimiliation_boost
				months = long_modifier_time
			}
			add_modifier = {
				name = modifier_grefm_heartland_reclaimed
				months = normal_modifier_time
			}
		}
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
			}
		}
	}
	
}

grefm.803 = { # The Basileia Rhōmaiōn
	type = country_event
	
	title = grefm.803.t
	desc = grefm.803.d
	flavor = grefm.803.f
	
	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_aquila.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {	# Triggered by JE
	}
	
	immediate = {
		set_variable = byzfm_byzantium_restored
	}

	option = { # W Finna Spank the Pope
		name = grefm.803.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_rhomania_restored
			months = very_long_modifier_time
		}
		add_journal_entry = {
			type = je_grefm_the_purple_phoenix
		}
		add_journal_entry = {
			type = je_grefm_the_purple_phoenix_dalmatia
		}
		add_journal_entry = {
			type = je_grefm_the_purple_phoenix_northern_italy
		}
		add_journal_entry = {
			type = je_grefm_the_purple_phoenix_southern_italy
		}
		add_journal_entry = {
			type = je_grefm_the_purple_phoenix_central_italy
		}
	}

	option = { # Whimpy Whimpy Whimpy
		name = grefm.803.b
		add_modifier = {
			name = modifier_grefm_rhomania_restored
			months = very_long_modifier_time
		}
		change_infamy = -25
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
				remove_variable = byzfm_purple_phoenix
			}
		}
	}
}

grefm.804 = { # Dalmatia Secured
	type = country_event
	
	title = grefm.804.t
	desc = grefm.804.d
	flavor = grefm.804.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	placement = ROOT
	
	trigger = {
		# Triggered by JE
	}
	
	immediate = {
	}

	option = {
		name = grefm.804.a
		default_option = yes
		s:STATE_VENETIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_ISTRIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_CROATIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_DALMATIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.805 = { # Northern Italy Secured
	type = country_event
	
	title = grefm.805.t
	desc = grefm.805.d
	flavor = grefm.805.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	placement = ROOT
	
	trigger = {
		# Triggered by JE
	}
	
	immediate = {
	}

	option = {
		name = grefm.805.a
		default_option = yes
		s:STATE_SAVOY = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_LOMBARDY = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_PIEDMONT = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_SOUTH_TYROL = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.806 = { # Southern Italy Secured
	type = country_event
	
	title = grefm.806.t
	desc = grefm.806.d
	flavor = grefm.806.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	placement = ROOT
	
	trigger = {
		# Triggered by JE
	}
	
	immediate = {
	}

	option = {
		name = grefm.806.a
		default_option = yes
		s:STATE_ABRUZZO = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_APULIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_CALABRIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_CAMPANIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.807 = { # Central Italy Secured
	type = country_event
	
	title = grefm.807.t
	desc = grefm.807.d
	flavor = grefm.807.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	placement = ROOT
	
	trigger = {
		# Triggered by JE
	}
	
	immediate = {
	}

	option = {
		name = grefm.807.a
		default_option = yes
		s:STATE_EMILIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_ROMAGNA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_TUSCANY = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
		s:STATE_UMBRIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.808 = { # open
	orphan = yes
}

grefm.809 = { # Renovatio Imperii Romanorum
	type = country_event
	
	title = grefm.809.t
	desc = grefm.809.d
	flavor = grefm.809.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	placement = ROOT
	
	trigger = {
		# Triggered by JE
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.809.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_imperial_glory
		}
		set_capital = STATE_LAZIO
		s:STATE_LAZIO = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_the_eternal_city
					months = long_modifier_time
				}
			}
		}
		s:STATE_LAZIO = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}	
	}
	
	option = {
		name = grefm.809.b
		add_modifier = {
			name = modifier_grefm_imperial_glory
		}
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_the_queen_of_cities
					months = long_modifier_time
				}
			}
		}
		s:STATE_LAZIO = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_reintegrated_province
					months = long_modifier_time
				}
			}
		}
	}
}

#### GENERAL BYZANTINE EVENTS ####

grefm.810 = { # The Basileus Basileōn
	type = country_event
	placement = root
	
	title = grefm.810.t
	desc = grefm.810.d
	flavor = grefm.810.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_palaiologos.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { 
		# triggered by grefm.009
	}
	
	immediate = {
		ruler = {
			save_scope_as = byzfm_ruler_scope
		}
		ig:ig_devout = {
			leader = {
				save_scope_as = devout_leader_scope
			}
		}
	}
	
	option = {
		name = grefm.810.a
		default_option = yes
		trigger = {
			has_variable = byzfm_took_the_purple
		}
		scope:byzfm_ruler_scope = {
			add_trait = trait_grefm_porphyrogenitus
		}
	}
	
}

#### BYZANTINE MONUMENT EVENTS ####

grefm.820 = { # The 14 Regions of Constantinople
	type = country_event
	placement = scope:eastern_thrace_state_scope
	
	title = grefm.820.t
	desc = grefm.820.d
	flavor = grefm.820.f
	
	event_image = {
		video = "byzfm_ruins"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_constantinople
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = eastern_thrace_state_scope
			}
		}
	}
	
	option = {
		name = grefm.820.a
		default_option = yes
		scope:eastern_thrace_state_scope = {
			add_modifier = {
				name = modifier_grefm_imperial_industry
				months = long_modifier_time
			}
		}
	}
}

grefm.821 = { # Imperial Palace Ruins Identified
	type = country_event
	
	title = grefm.821.t
	desc = grefm.821.d
	flavor = grefm.821.f

	placement = scope:eastern_thrace_state_scope

	event_image = {
		video = "middleeast_engineer_blueprint"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { 
		# triggered by je_grefm_mega_palation_survey
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = eastern_thrace_state_scope
			}
		}
	}
	
	option = {
		name = grefm.821.a
		default_option = yes
		scope:eastern_thrace_state_scope = {
			add_loyalists_in_state = {
				culture = cu:greek
				value = medium_radicals
			}
		}
		set_variable = grefm_mega_palation_surveyed
	}

}

grefm.822 = { # Great Palace of Constantinople
	type = country_event
	
	title = grefm.822.t
	desc = grefm.822.d
	flavor = grefm.822.f
	
	placement = scope:eastern_thrace_state_scope
	
	event_image = {
		video = "unspecific_world_fair"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		NOT = { has_variable = grefm_mega_palation_complete }
		s:STATE_EASTERN_THRACE = {
			has_building = building_mega_palation
		}
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = eastern_thrace_state_scope
			}
		}
	}
	
	option = {
		name = grefm.822.a
		default_option = yes
		if = {
			limit = {
				morgenrote_is_active = no
			}
			custom_tooltip = {
				text = grefm.822.tt
				hidden_effect = {
					grefm_artifact_modifier_effect = yes
				}
			}
		}
		set_variable = grefm_mega_palation_complete
	}
}

grefm.823 = { # The Hippodrome of Constantinople
	type = country_event
	
	title = grefm.823.t
	desc = grefm.823.d
	flavor = grefm.823.f
	
	placement = scope:eastern_thrace_state_scope
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		NOT = { has_variable = grefm_hippodrome_complete }
		s:STATE_EASTERN_THRACE = {
			has_building = building_hippodrome
		}
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = eastern_thrace_state_scope
			}
		}
	}
	
	option = {
		name = grefm.823.a
		default_option = yes
		if = {
			limit = {
				morgenrote_is_active = no
			}
			hidden_effect = {
				grefm_artifact_modifier_effect = yes
			}
		}
		custom_tooltip = grefm.823.tt
		set_variable = grefm_hippodrome_complete
	}
	
}

grefm.824 = { # Notitia Urbis Constantinopolitanae
	type = country_event
	
	title = grefm.824.t
	desc = grefm.824.d
	flavor = grefm.824.f
	
	placement = scope:eastern_thrace_state_scope
	
	event_image = {
		video = "byzfm_chariot_race"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered bu je_grefm_constantinople
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = eastern_thrace_state_scope
			}
		}
	}
	
	option = {
		name = grefm.824.a
		default_option = yes
		scope:eastern_thrace_state_scope = {
			add_modifier = {
				name = modifier_grefm_jewel_of_the_east
				months = very_long_modifier_time
			}
		}
	}

}

#### CHARIOT RACING EVENTS ####

grefm.830 = { # Chariot Racing Re-established
	type = country_event
	
	title = grefm.830.t
	desc = grefm.830.d
	flavor = grefm.830.f
	
	placement = scope:byzantium_capital_state
	
	event_image = {
		video = "byzfm_chariot_race"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { 
		# triggered by grefm_chariot_racing_decision
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = byzantium_capital_state
			}
		}
	}
	
	option = {
		name = grefm.830.a
		default_option = yes
		set_variable = byzfm_chariot_racing
		if = {
			limit = {
				has_modifier = modifier_olympic_games
			}
			remove_modifier = modifier_olympic_games
		}
		if = {
			limit = {
				has_modifier = modifier_grefm_olympic_games
			}
			remove_modifier = modifier_grefm_olympic_games
		}
		add_modifier = {
			name = modifier_grefm_chariot_racing
		}
		scope:byzantium_capital_state = {
			add_modifier = {
				name = modifier_grefm_held_chariot_races
				months = 48
			}
		}
		set_variable = {
			name = grefm_held_chariot_races
			months = 40
		}
		remove_variable = grefm_chariot_var
	}

}

grefm.831 = { # Chariot Racing Expanded
	type = country_event
	
	title = grefm.831.t
	desc = grefm.831.d
	flavor = grefm.831.f
	
	placement = scope:byzantium_capital_state
	
	event_image = {
		video = "byzfm_chariot_race"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by decision
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = byzantium_capital_state
			}
		}
	}
	
	option = {
		name = grefm.831.a
		default_option = yes
		if = {
			limit = {
				has_modifier = modifier_olympic_games
			}
			remove_modifier = modifier_olympic_games
		}
		if = {
			limit = {
				has_modifier = modifier_grefm_olympic_games
			}
			remove_modifier = modifier_grefm_olympic_games
		}
		if = {
			limit = {
				has_modifier = modifier_grefm_chariot_racing
			}
			remove_modifier = modifier_grefm_chariot_racing
		}
		if = {
			limit = {
				NOT = {
					has_modifier = modifier_grefm_expanded_chariot_racing
				}
			}
			add_modifier = {
				name = modifier_grefm_expanded_chariot_racing
			}
		}
		remove_variable = grefm_chariot_var
	}
	
}

grefm.832 = { # Chariot Racing Technical Event
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		OR = {
			has_modifier = modifier_byzfm_chariot_racing
			has_modifier = modifier_byzfm_expanded_chariot_racing
		}
		NOT = {
			has_variable = grefm_held_chariot_races
		}
		month = 7
	}

	immediate = {
		if = {
			limit = {
				has_modifier = modifier_grefm_chariot_racing
			}
			random_list = {
				40 = {
					set_variable = grefm_chariot_reds
					trigger_event = { id = grefm.833 } # A Day at the Races
				}
				40 = {
					set_variable = grefm_chariot_whites
					trigger_event = { id = grefm.833 } # A Day at the Races
				}
				40 = {
					set_variable = grefm_chariot_greens
					trigger_event = { id = grefm.833 } # A Day at the Races
				}
				40 = {
					set_variable = grefm_chariot_blues
					trigger_event = { id = grefm.833 } # A Day at the Races
				}
				1 = {
					trigger_event = { id = grefm.834 } # Inconclusive Race Results
				}
				1 = {
					trigger_event = { id = grefm.835 } # Sporting Riot
				}
				1 = {
					trigger_event = { id = grefm.836 } # Ruler Attempts to Join Race
				}
				1 = {
					trigger_event = { id = grefm.837 } # Team Caught Cheating
				}
			}
		}
		if = {
			limit = {
				has_modifier = modifier_grefm_expanded_chariot_racing
			}
			random_list = {
				25 = {
					set_variable = grefm_chariot_reds
					trigger_event = { id = grefm.833 } # A Day at the Races
				}
				25 = {
					set_variable = grefm_chariot_whites
					trigger_event = { id = grefm.833 } # A Day at the Races
				}
				25 = {
					set_variable = grefm_chariot_greens
					trigger_event = { id = grefm.833 } # A Day at the Races
				}
				25 = {
					set_variable = grefm_chariot_blues
					trigger_event = { id = grefm.833 } # A Day at the Races
				}
				25 = {
					set_variable = grefm_chariot_purples
					trigger_event = { id = grefm.833 } # A Day at the Races
				}
				25 = {
					set_variable = grefm_chariot_golds
					trigger_event = { id = grefm.833 } # A Day at the Races
				}
				1 = {
					trigger_event = { id = grefm.834 } # Inconclusive Race Results
				}
				1 = {
					trigger_event = { id = grefm.835 } # Sporting Riot
				}
				1 = {
					trigger_event = { id = grefm.836 } # Ruler Attempts to Join Race
				}
				1 = {
					trigger_event = { id = grefm.837 } # Team Caught Cheating
				}
			}
		}
		if = {
			limit = {
				NOT = {
					has_variable = grefm_held_chariot_races
				}
			}
			set_variable = {
				name = grefm_held_chariot_races
				months = 40
			}
		}
	}
	
}

grefm.833 = { # A Day at the Races
	type = country_event
	
	title = grefm.833.t
	desc = grefm.833.d
	flavor = grefm.833.f
	
	placement = scope:byzantium_capital_state
	
	event_image = {
		video = "byzfm_chariot_race"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered by grefm.832
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = byzantium_capital_state
			}
		}
		if = {
			limit = {
				has_variable = grefm_chariot_reds
			}
			ig:ig_industrialists = {
				save_scope_as = grefm_chariot_winner_scope
			}
		}
		if = {
			limit = {
				has_variable = grefm_chariot_whites
			}
			ig:ig_intelligentsia = {
				save_scope_as = grefm_chariot_winner_scope
			}
		}
		if = {
			limit = {
				has_variable = grefm_chariot_greens
			}
			ig:ig_rural_folk = {
				save_scope_as = grefm_chariot_winner_scope
			}
		}
		if = {
			limit = {
				has_variable = grefm_chariot_blues
			}
			ig:ig_petty_bourgeoisie = {
				save_scope_as = grefm_chariot_winner_scope
			}
		}
		if = {
			limit = {
				has_variable = grefm_chariot_purples
			}
			ig:ig_landowners = {
				save_scope_as = grefm_chariot_winner_scope
			}
		}
		if = {
			limit = {
				has_variable = grefm_chariot_golds
			}
			ig:ig_trade_unions = {
				save_scope_as = grefm_chariot_winner_scope
			}
		}
	}
	
	option = {
		name = grefm.833.a
		default_option = yes
		scope:byzantium_capital_state = {
			add_modifier = {
				name = modifier_grefm_held_chariot_races
				months = 48
			}
		}
		scope:grefm_chariot_winner_scope = {
			add_modifier = {
				name = modifier_grefm_ig_won_races
				months = 48
			}
		}
		grefm_cleanup_quadrennial_race_variables_effect = yes
	}
	
}

grefm.834 = { # Inconclusive Race Results
	type = country_event
	
	title = grefm.834.t
	desc = grefm.834.d
	flavor = grefm.834.f
	
	placement = scope:byzantium_capital_state
	
	event_image = {
		video = "byzfm_chariot_race"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { 
		# triggered by grefm.832
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = byzantium_capital_state
			}
		}
	}	
	
	option = { # hold the second round
		name = grefm.834.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_tiebreaker_race
			months = 12
		}
		custom_tooltip = {
			text = grefm_call_races_tt
			hidden_effect = {
				trigger_event = {
					id = grefm.832 # Chariot Racing Technical Event
					days = 15
				}
			}
		}
	}
	
	option = { # we'll call it a draw
		name = grefm.834.b
		scope:byzantium_capital_state = {
			add_modifier = {
				name = modifier_grefm_refused_diversum
				months = 24
			}
		}
	}
		
}

grefm.835 = { # Sporting Riot
	type = country_event
	
	title = grefm.835.t
	desc = grefm.835.d
	flavor = grefm.835.f
	
	placement = scope:byzantium_capital_state
	
	event_image = {
		video = "byzfm_chariot_race"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { 
		# triggered by grefm.832
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = byzantium_capital_state
			}
		}
	}	
	
	option = { # Cancel the Whole Thing
		name = grefm.835.b
		default_option = yes
		scope:byzantium_capital_state = {
			add_devastation = 10
			add_modifier = {
				name = modifier_grefm_cancelled_races
				months = 24
			}
		}
	}
	
}

grefm.836 = { # Ruler Tries to Join in the Races
	type = country_event
	
	title = grefm.836.t
	desc = grefm.836.d
	flavor = grefm.836.f
	
	placement = scope:byzantium_capital_state
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered by grefm.832
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = byzantium_capital_state
			}
		}
		ruler = {
			save_scope_as = byzfm_ruler_scope
		}
	}	
	
	option = { # let him join in
		name = grefm.836.a
		default_option = yes
		scope:byzfm_ruler_scope = {
			add_modifier = {
				name = modifier_byzfm_redneck_emperor
				months = normal_modifier_time
			}
		}
		custom_tooltip = {
			text = grefm_call_races_tt
			hidden_effect = {
				trigger_event = {
					id = grefm.832 # Chariot Racing Technical Event
					days = 15
				}
			}
		}
	}
	
	option = { # bro thats like, really redneck...
		name = grefm.836.b
		default_option = yes
		add_modifier = {
			name = modifier_byzfm_legitmacy_boost
			months = normal_modifier_time
		}
		custom_tooltip = {
			text = grefm_call_races_tt
			hidden_effect = {
				trigger_event = {
					id = grefm.832 # Chariot Racing Technical Event
					days = 15
				}
			}
		}
	}	
	
}

grefm.837 = { # team gets caught cheating
	type = country_event
	
	title = grefm.837.t
	desc = grefm.837.d
	flavor = grefm.837.f
	
	placement = scope:byzantium_capital_state
	
	event_image = {
		video = "votp_conspiring"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { 
		# triggered by grefm.832
	}
	
	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = byzantium_capital_state
			}
		}
		ruler = {
			save_scope_as = byzfm_ruler_scope
		}
	}

	option = { # root out the corruption
		name = grefm.837.a
		default_option = yes
		scope:byzantium_capital_state = {
			add_modifier = {
				name = modifier_grefm_cancelled_races
				months = 24
			}
		}
		set_variable = {
			name = grefm_held_chariot_races
			value = 40
		}
	}
	
	option = { # let them race
		name = grefm.837.b
		default_option = yes
		add_modifier = {
			name = modifier_byzfm_ignored_corruption
			months = normal_modifier_time
		}
		custom_tooltip = {
			text = grefm_call_races_tt
			hidden_effect = {
				trigger_event = {
					id = grefm.832 # Chariot Racing Technical Event
					days = 15
				}
			}
		}
	}
	
}

grefm.838 = { # drag racing in the hippodrome
	type = country_event
	placement = root
	
	title = grefm.838.t
	desc = grefm.838.d
	flavor = grefm.838.f
	
	event_image = {
		video = "byzfm_drag_race"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_drag_racing_considered }
		any_scope_state = {
			is_production_method_active = {
				building_type = building_motor_industry
				production_method = pm_automobile_production
			}
		}
	}
	
	immediate = {
		set_variable = grefm_drag_racing_considered
	}
	
	option = {
		name = grefm.838.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_sanctioned_motorsport
		}
		add_loyalists = {
			strata = poor
			value = small_radicals
		}
		add_radicals = {
			pop_type = academics
			value = medium_radicals
		}
	}
	
	option = {
		name = grefm.838.b
		add_modifier = {
			name = modifier_grefm_rejected_motorsport
			months = normal_modifier_time
		}
		add_loyalists = {
			strata = rich
			value = medium_radicals
		}
		add_radicals = {
			strata = poor
			value = small_radicals
		}
	}

}

##################################################
##	#GRE9	TECHNICAL EVENTS	Events 900-999	##
##################################################

#### HIDDEN EVENTS ####

grefm.900 = { # OPEN
	orphan = yes
}


grefm.901 = { # adds claims to greek countries if they go independent
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		country_has_primary_culture = cu:hellene
		NOT = { has_variable = grefm_mainland_claims_added }
		is_subject = no
		NOR = {
			exists = c:GRE
			exists = c:BYZ
			exists = c:ERE
			exists = c:SPQR
			exists = c:HEMP
			exists = c:ODXY
		}
	}
	
	immediate = {
		set_variable = grefm_mainland_claims_added
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_ATTICA
					owns_entire_state_region = STATE_ATTICA
				}
			}
			s:STATE_ATTICA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_PELOPONNESE
					owns_entire_state_region = STATE_PELOPONNESE
				}
			}
			s:STATE_PELOPONNESE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_WEST_AEGEAN_ISLANDS
					owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
				}
			}
			s:STATE_WEST_AEGEAN_ISLANDS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_THESSALIA
					owns_entire_state_region = STATE_THESSALIA
				}
			}
			s:STATE_THESSALIA = {
				add_claim = ROOT
			}
		}
		post_notification = notification_grefm_claims_added
	}
	
}

grefm.902 = { # hidden event triggering the Don Pacifico Affair
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		has_variable = grefm_don_pacifico_var
		has_diplomatic_relevance = c:POR
		has_diplomatic_relevance = c:GBR
	}
	
	immediate = {
		if = {
			limit = {
				AND = {
					exists = c:GRE
					exists = c:GBR
					exists = c:POR
				}
			}
			c:POR = {
				trigger_event = {
					id = grefm.161 # The Don Pacifico Affair
				}
			}
		}
		remove_variable = grefm_don_pacifico_var
	}
	
}

#### TECHNICAL EVENTS ####

grefm.910 = { # The Makedonijan Revolt (No Triggers)
	type = country_event
	placement = scope:skopia_state_scope
	
	title = grefm.594.t
	desc = grefm.594.d
	flavor = grefm.594.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered by grefm_skopia_provoke_button
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_SKOPIA = {
			random_scope_state = {
				save_scope_as = skopia_state_scope
			}
		}
		create_country = {
			tag = NMAC
			origin = this
			state = scope:skopia_state_scope
		}
		c:NMAC = {
			save_scope_as = makedonija_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:NMAC
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:NMAC
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.594.a
		default_option = yes
		c:NMAC = {
			make_independent = yes
		}
		end_truce = c:NMAC
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:NMAC
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:NMAC = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_SKOPIA.region_state:NMAC
				}
				add_war_goal = {
					holder = c:NMAC
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:NMAC
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:hellene
			}
			trigger_event = {
				id = grefm.592 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.594.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:NMAC
			type = protectorate
		}
	}
	
}

grefm.911 = { # The Epirote Revolt (No Triggers)
	type = country_event
	placement = scope:albania_state_scope
	
	title = grefm.595.t
	desc = grefm.595.d
	flavor = grefm.595.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered from grefm_epirus_provoke_button
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_ALBANIA = {
			random_scope_state = {
				save_scope_as = albania_state_scope
			}
		}
		create_country = {
			tag = EPI
			origin = this
			province = p:xC42EC6
			province = p:x7BE071
			province = p:x18C9AD
			province = p:x01D0E0
			province = p:x8050E0
			on_created = {
			}
		}
		c:EPI = {
			save_scope_as = epirus_scope
			create_epirus_characters = yes
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:EPI
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:EPI
			months = 60
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_ALBANIA
			}
			every_scope_pop = {
				limit = {
					culture = cu:hellene
				}
				move_pop = s:STATE_ALBANIA.region_state:EPI
			}
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
	
	option = { # Get the Whip
		name = grefm.595.a
		default_option = yes
		c:EPI = {
			make_independent = yes
		}
		end_truce = c:EPI
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:EPI
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:EPI = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_ALBANIA.region_state:EPI
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_THESSALIA.region_state:EPI
				}
				add_war_goal = {
					holder = c:EPI
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:EPI
					value = 100
				}
			}
			change_infamy = -10
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:hellene
			}
			trigger_event = {
				id = grefm.592 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.595.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:EPI
			type = protectorate
		}
	}
	
}

grefm.912 = { # The Cypriot Revolt (No Triggers)
	type = country_event
	placement = scope:cyprus_state_scope
	
	title = grefm.596.t
	desc = grefm.596.d
	flavor = grefm.596.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered from grefm_cyprus_provoke_button
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_CYPRUS = {
			random_scope_state = {
				save_scope_as = cyprus_state_scope
			}
		}
		create_country = {
			tag = CYP
			origin = this
			state = scope:cyprus_state_scope
		}
		c:CYP = {
			save_scope_as = cyprus_scope
			create_cyprus_characters = yes
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:CYP
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:CYP
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker		
	}	
		
	option = { # Get the Whip
		name = grefm.596.a
		default_option = yes
		c:CYP = {
			make_independent = yes
		}
		end_truce = c:CYP
		create_diplomatic_play = {
			name = grefm_cyprus_rebellion
			target_country = c:CYP
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:CYP = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_CYPRUS.region_state:CYP
				}
				add_war_goal = {
					holder = c:CYP
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:CYP
					value = 100
				}
			}
			change_infamy = -5
		}
		hidden_effect = {
			every_country = {
				limit = {
					country_has_primary_culture = cu:hellene
				}
				trigger_event = {
					id = grefm.592 # Greek Uprising in State (GRE)
				}
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.596.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:CYP
			type = protectorate
		}
	}
	
}

grefm.913 = { # The Macedonian Revolt (No Triggers)
	type = country_event
	placement = scope:macedonia_state_scope
	
	title = grefm.597.t
	desc = grefm.597.d
	flavor = grefm.597.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered from grefm_macedonia_provoke_button
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_MACEDONIA = {
			random_scope_state = {
				save_scope_as = macedonia_state_scope
			}
		}
		create_country = {
			tag = MAC
			origin = this
			state = scope:macedonia_state_scope
		}
		c:MAC = {
			save_scope_as = macedonia_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:MAC
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:MAC
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.597.a
		default_option = yes
		c:MAC = {
			make_independent = yes
		}
		end_truce = c:MAC
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:MAC
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:MAC = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_MACEDONIA.region_state:MAC
				}
				add_war_goal = {
					holder = c:MAC
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:MAC
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:hellene
			}
			trigger_event = {
				id = grefm.592 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.597.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:MAC
			type = protectorate
		}
	}
	
}

grefm.914 = { # The Smyrna Revolt (No Triggers)
	type = country_event
	placement = scope:aydin_state_scope
	
	title = grefm.598.t
	desc = grefm.598.d
	flavor = grefm.598.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered from grefm_smyrna_provoke_button
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_AYDIN = {
			random_scope_state = {
				save_scope_as = aydin_state_scope
			}
		}
		create_country = {
			tag = SMYR
			origin = this
			state = scope:aydin_state_scope
		}
		c:SMYR = {
			save_scope_as = smyrna_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:SMYR
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:SMYR
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.598.a
		default_option = yes
		c:SMYR = {
			make_independent = yes
		}
		end_truce = c:SMYR
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:SMYR
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:SMYR = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_AYDIN.region_state:SMYR
				}
				add_war_goal = {
					holder = c:SMYR
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:SMYR
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:hellene
			}
			trigger_event = {
				id = grefm.592 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.598.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:SMYR
			type = protectorate
		}
	}
	
}