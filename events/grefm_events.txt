########################
# GREECE FLAVOR EVENTS #
########################
# Events contained here pertain to the Greek state and its derivative Empires; this mod is GREECE-FIRST and the majority of nations will likely not receive content at this depth and level of detail. This is not to say I won't strive to keep all content high-quality.
# The Greek Empires are split between grefm, byzfm, and eocfm. This decision was made to limit the size of this file back when this mod's scope was much smaller. balkfm has since eclipsed this module in scope, but I won't be merging them back together. That would just be a lot of work for no gains.

####################

# For Greece content, see the "grefm" module
# For Byzantium content, see the "byzfm" module
# For Balkan Nations content, see the "balkfm" module
# For Ottoman/Turkish content, see the "turkfm" module
# For Orthodox Church content, see the "eocfm" module
# For Eastern Question content, see the "eqfm" module

####################

namespace = grefm

####################

####	TABLE OF CONTENTS	####	#TOC

# You can use the #GRE_ comments to ctrl+F your way through the event list
# The ## before an event indicates content not yet implemented; the >> indicates an event being moved in from another event module

##	#GRE0	THE HELLENIC STATE	Events 001-099	##

#001-009 - Bavarocracy Main Events
#	001 - The Regency Council
#	002 - A Crisis Averted
#	003 - The September Revolution
#	004 - Long Live the Constitution
#	005 - The Bavarocracy Abolished
#	006 - The October Revolution
#	007 - Mandate Secured
#	008 - The Overthrow of the Bavarocracy
#	009 - A Disgraced Tyrant

#010-019 - Bavarocracy Reform Events
#	010 - Constitutional Promises
#	011 - An Ottoman Legacy
#	012 - The Great Land Reformation
#	013 - Tribunal Justice
#	014 - The End of the Brigands
#	015 - Rampant Corruption
#	016 - An Honorable Regime
#	017 - The Bavarian Auxiliary Corps
#	018 - Bavarian Auxiliaries Dismissed
#	019 - The Return of the "Turk-Eater"

#020-029 - Bavarocracy Support Events
#	020 - The Brigands Raid Again
#	021 - King Ludwig Visits Greece
#	022 - Otto Departs for Bavaria
#	023 - A Consort Fit for a Bavarian
#	024 - The King's Intellect Challenged
#	025 - Discharging the Regency
#	026 - The Philorthodox Conspiracy
#	027 -
#	028 -
#	029 - Absolutism in Greece

#030-039 - Constitutional Monarchy Events
#	030 - An Elected Monarch --end of 1.0 content
# 	031 - The King of the Hellenes
#	032 - "Who is to Blame?"
#	033 - A Harmonious State
#	034 - "Unfortunately, We are Bankrupt" event
#	035 - A Perennial Problem
#	036 - OPEN
#	037 - ##The Bulgarian Détente (students visit Athens)
#	038 - ##A King of Valour (Assassination Attempt)
#	039 - ##Silver Jubilee

#040-049 - Rise of Venizelos Events
#	040 - Nationalist Fervor
#	041 - The Military League
#	045 - A Cretan Champion
#	046 - The Goudi Coup
#	047 - A Cretan Chamption (Alternate)
#	048 - The Rise of the Ethnarch
#	049 - The Rise of the Ethnarch (Alternate)

#050-059 - That Nonsense with Venizelos
#	050 - The Nature of the National Assembly
#	051 - Rejuventating the State
#	052 - A Competent Bureaucracy
#	053 - Reorganzing the Military
#	054 - A Formdiable Military
#	055 - Advancing Society
#	056 - A Modern Society
#	057 - The Ignorant Masses
#	058 - An Educated Populace
#	059 - The Greek State Resurgent

#060-069 - The National Schism
#	060 - ##The Great Division


##	#GRE1	HISTORY/CULTURAL EVENTS		Events 100-199	##

#100-109 - Industry Events (PM-based)
#	100 - Fix Brewery
#	101 - Hellenic Railways
#	102 - Greek Aviation
#	103 - Merchantile Traditions

#110-119 - Technology Events
#	110 - The Decline of the Heptanese School
#	111 - Lake Kopais Event
#	112 - Lake Kopais Drained
#	113 - A Citadel Emerges
#	114 - Merchantile Rivalries
#	119 - Land Reclaimed in Kopaida

#120-129 - Cultural Events
#	120 - The Rebirth of the Olympics
#	121 - University of Athens
#	122 - The Great School of the Nation
#	123 - The Women's Journal
#	124 - National Council of Greek Women

#130-139 - Monument Events
#	130 - Corinth Canal Surveyed
#	131 - Corinth Canal Completed
#	132 - The Royal Palace of Athens

#140-149 - Archeaology Events
#	140 - Archaeological Society of Athens
#	141 - OPEN
#	142 - Gla Complete
#	143 - Parthenon I Complete
#	144 - Parthenon II Complete
#	145 - Mycenae I Complete
#	146 - Mycenae II Complete
#	147 - Delos Complete
#	148 - Larissa Complete
#	149 - Rhodes Complete

#150-159 - Excavation Events
#	150 - Excavation Proceeding Smoothly
#	151 - Industrial Equipment Requested
#	152 - Ancient Tomb Uncovered
#	153 - Mudslide at the Excavation Site
#	154 - Disaster at the Excavation Site!
#	155 - Popular Interest in Excavation
#	156 - Palace Uncovered
#	157 - The Mask of Agammemnon
#	158 - Politician Offers Funding
#	159 - Reconstruction Garners Criticism

#160-169 - Minor International Events
#	160 - A Bulgarian Visitor
#	161 - The Don Pacifico Affair
#	162 - 

#190-199 - Historical Content Not Otherwise Specified

##	#GRE2	GREEK NATIONALISM	Events 200-299	##
	
#200-209 - The Megali Idea Events
#	200 - The Lands of Thessaly
#	201 - The Megali Idea
#	202 - The Future of Greece
#	203 - Greater Greece
#	204 - A Greek Dominion

#210-219 - Greek Separatism Events
#	210 - Greek Separatism
#	211 - Greek Provocations in State (GRE)
#	212 - Greek Uprising in State (GRE)
#	213 - OPEN
#	214 - The Makedonijan Revolt (TUR/EGY)
#   215 - The Epirote Revolt (TUR/EGY)
#	216 - The Cypriot Revolt (TUR/EGY)
#	217 - The Macedonian Revolt (TUR/EGY)
#	218 - The Smyrna Revolt (TUR/EGY)
#	219 - Reassigns the Separatism JE [TECH]

#220-229 - Annexation Events
#	220 - ION Annexation
#	221 - EPI Annexation
#	222 - CYP Annexation
#	223 - CRE Annexation
#	224 - MAC Annexation
#	225 - ##TRB Annexation

#230-239 - Greek Church Events
#	230 - The Defence of Jonas King
#	231 - Speech before the Areopagus
#	232 - Jonas King Returns
#	233 - Foreign Intercession for Jonas King

#240-249 - Greek Ethnogenesis
#	240 - What is a "Greek?"
#	241 - The Language Question
#	242 - A National Language
#	243 - Defining Greek Roots
#	244 - Paparrigopoulos's History of the Greek Nation
#	249 - The Greek Ethnogenesis

#250-259 - Cretan Revolt Events
#	250 - Priest Martyred in Crete
#	251 - Wali of Crete Oversteps Authority
#	252 - Greek Agitation in Crete
#	253 - ##Language Bans in Crete <--1890
#	259 - Crete Revolts Again (TUR/EGY)

#260-269 - Homeland Events
#	260 - The Fate of the Turks
#	261 - A Question of Homelands
#	262 - Greek Expansion in X
#	263 - The Greek Capital
#	264 - Greco-Roman Relations

##	#GRE3	REVENGE OF THE GREEKS	Events 300-399	##

#300-309 - Hellenistic Empire Restoration Events
#	300 - The Vergina Sun Rises (path event)
#	301 - The Revenge of the Greeks
#	302 - Nova Roma Constantinopolitana
#	303 - The Shores of Phoenicia
#	304 - The Legacy of Alexander ----commit event
#	305 - The Lands of Arianōn
#	306 - The Graveyard of Empires
#	307 - The Empire of the Greeks

#310-319 - Hellenistic Imperial Ambition Events
#	310 - ##The Shores of the Hospitable Sea
#	311 - ##The Black Sea Secured
#	312 - ##The Lands of Magna Graecia
#	313 - ##Magna Graecia Secured
#	314 - ##The Foundings of Alexander
#	315 - ##Alexandria on the Oxus
#	316 - ##Alexandria in Margiana
#	317 - ##Alexandria on the Indus
#	318 - ##Alexandria in the Caucasus

#  320-329 - OPEN


##  #GRE4  IONIAN ISLANDS FLAVOR  Events  400-499  ##

#400-409 - The Xenocracy Events
#	400 - The Republic of the Seven Islands
#	401 - The Ionian Jewel
#	402 - Modernized Agriculture
#	403 - A Civilized State

#410-419 - The Ionian Jews Events
#	410 - ##Romaniotes and Sephardim
#	411 - ##Jews Request former Rights
#	412 - ##Nacamulli's Press House

#420-429 - Greek Union Events
#	420 - ##The Dream of Enosis
#	421 - ##Union with the Greek State


##	#GRE5	OPEN	Events 500-599	##


##	#GRE6	OPEN	Events 600-699	##


##	#GRE7	OPEN	Events 700-799	##

	
##  #GRE8  OPEN  Events 800-899  ##


##	#GRE9	TECHNICAL EVENTS	Events 900-999	##

#900-909 - Hidden Events
#	900 - Re-adds Turkish Culture if lost through tag switch
#	901 - Adds Mainland Greece claims to non-GRE Greek nations
#	902 - Reassigns Revolt Journals

#910-910 - Technical Events
#	910 - The Makedonijan Revolt (No Triggers)
#   911 - The Epirote Revolt (No Triggers)
#	912 - The Cypriot Revolt (No Triggers)
#	913 - The Macedonian Revolt (No Triggers)
#	914 - The Smyrnite Revolt (No Triggers)

############################


##################################################
##	#GRE0	THE HELLENIC STATE	Events 001-099	##
##################################################

#### THE BAVAROCRACY ####

grefm.001 = { # Bavarocracy notification
	type = country_event
	placement = root
	
	title = grefm.001.t
	desc = grefm.001.d
	flavor = grefm.001.f
	
	event_image = {
		video = "grefm_ottos_landing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 1
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
		trigger_event = {
			id = grefm.021 # King Ludwig Visits Greece
			days = 40 # Mid-February
		}
		trigger_event = {
			id = grefm.017 # bavarian auxiliary corps
			days = 90
		}
		trigger_event = {
			id = grefm.022 # Otto Leaves for Bavaria
			days = 130 # Mid-May
		}
		trigger_event = {
			id = grefm.023 # A Consort Fit for a Bavarian
			days = 270
		}
		trigger_event = {
			id = grefm.024 # Otto's Intellect Challenged
			days = 270
		}
		trigger_event = {
			id = grefm.025 # Discharging the Regency
			days = 390 # February 1837
		}
	}
	
	option = { 
		name = grefm.001.a
		default_option = yes
		show_as_tooltip = {
			add_modifier = modifier_grefm_armansperg_regency
		}
		show_as_tooltip = {
			add_modifier = modifier_grefm_bavarocracy
		}
	}

}

grefm.002 = { # Revolution averted, Otto remains in power
	type = country_event
	placement = root
	
	title = grefm.002.t
	desc = grefm.002.d
	flavor = grefm.002.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		ig:ig_landowners = {
			save_scope_as = ig_landowners_scope
		}
		set_variable = grefm_1843_revolution_happened
	}
	
	option = {
		name = grefm.002.a
		default_option = yes
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
		set_variable = grefm_constitution_completed
	}
	
}

grefm.003 = { # 3 September 1843 Revolution
	type = country_event
	placement = root
	
	title = grefm.003.t
	desc = grefm.003.d
	flavor = grefm.003.f
	
	event_image = {
		video = "europenorthamerica_political_extremism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		ig:ig_armed_forces = {
			leader = {
				save_scope_as = ig_armed_forces_scope
			}
		}
		set_variable = grefm_1843_revolution_happened
	}
	
	option = { # Accept the New Constitution
		name = grefm.003.a
		default_option = yes
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_hereditary_bureaucrats
				}
			}
			activate_law = law_type:law_appointed_bureaucrats
		}
		if = {
			limit = {
				AND = {
					OR = {
						has_law = law_type:law_autocracy
						has_law = law_type:law_oligarchy
						has_law = law_type:law_landed_voting
						has_law = law_type:law_wealth_voting
						has_law = law_type:law_census_voting
					}
					has_technology_researched = egalitarianism
				}
			}
			activate_law = law_type:law_universal_suffrage
		}
		else_if = {
			limit = {
				OR = {
					has_law = law_type:law_autocracy
					has_law = law_type:law_oligarchy
					has_law = law_type:law_landed_voting
					has_law = law_type:law_wealth_voting
				}
			}
			activate_law = law_type:law_census_voting
		}
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value > neutral
				}
			}
			add_modifier = {
				name = modifier_grefm_constitution_enforced
				months = normal_modifier_time
				is_decaying = yes
			}
		}
		add_radicals = {
			strata = rich
			value = medium_radicals
		}
		add_loyalists = {
			strata = middle
			value = small_radicals
		}
		add_loyalists = {
			strata = poor
			value = small_radicals
		}
		call_election = {
			months = 1
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
		set_variable = grefm_constitution_completed
	}
	
	option = { # Othonian Absolutism Time
		name = grefm.003.b
		grefm_initialize_tyranny_variables_effect = yes
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value < neutral
				}
			}
			add_modifier = {
				name = modifier_grefm_constitution_refused
				months = normal_modifier_time
				is_decaying = yes
			}
		}
		add_loyalists = {
			strata = rich
			value = medium_radicals
		}
		add_radicals = {
			strata = middle
			value = medium_radicals
		}
		add_radicals = {
			strata = poor
			value = medium_radicals
		}
		scope:king_otto_scope = {
			set_as_interest_group_leader = yes # Otto discharged von Rudhart in 1837 to directly chair his privy council; this is represented here for gameplay reasons
		}
		add_journal_entry = {
			type = je_grefm_the_tyranny_of_house_wittelsbach
		}
		if = {
			limit = {
				has_law = law_type:law_oligarchy
			}
			activate_law = law_type:law_autocracy
		}
		else_if = {
			limit = {
				NOT = {
					has_law = law_type:law_oligarchy
				}
			}
			activate_law = law_type:law_autocracy
		}
	}
	
}

grefm.004  { # lol you really thought that INCREASING autocracy was the solution?
	type = country_event
	placement = root
	
	title = grefm.004.t
	desc = grefm.004.d
	flavor = grefm.004.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		set_variable = grefm_1843_revolution_happened
		ruler = {
			save_scope_as = king_otto_scope
		}
		set_variable = {
			name = grefm_tyranny_var
			value = 0
		}
	}
	
	option = {
		name = grefm.004.a
		default_option = yes
		grefm_initialize_tyranny_variables_effect = yes
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value < neutral
				}
			}
			leader = {
				set_ideology = ideology:ideology_republican_leader
			}
		}
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value < neutral
				}
			}
			add_modifier = {
				name = modifier_grefm_constitution_refused
				months = normal_modifier_time
				is_decaying = yes
			}
		}
		add_loyalists = {
			strata = rich
			value = medium_radicals
		}
		add_radicals = {
			strata = middle
			value = medium_radicals
		}
		add_radicals = {
			strata = poor
			value = medium_radicals
		}
		scope:king_otto_scope = {
			set_as_interest_group_leader = yes # Othonian Absolutism Moment
		}
		add_journal_entry = {
			type = je_grefm_the_tyranny_of_house_wittelsbach
		}
	}
	
	after = {
		set_variable = {
			name = grefm_tyranny_var
			value = 100
		}
	}
	
}

grefm.005 = { # error 404 monarch not found
	type = country_event
	placement = root
	
	title = grefm.005.t
	desc = grefm.005.d
	flavor = grefm.005.f
	
	event_image = {
		video = "europenorthamerica_political_extremism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # also triggered by JE during je_grefm_bavarocracy_main
		NOT = { has_law = law_type:law_monarchy }
		has_variable = grefm_bavarocracy_completed
		has_variable = grefm_bavarocracy
	}
	
	immediate = {
		set_variable = grefm_1843_revolution_happened
		remove_variable = grefm_bavarocracy
	}
	
	option = {
		name = grefm.005.a
		default_option = yes
		clean_up_bavarocracy_effect = yes
		change_relations = {
			country = c:FRA
			value = -30
		}
		change_relations = {
			country = c:GBR
			value = -30
		}
		change_relations = {
			country = c:RUS
			value = -30
		}
	}
	
}

grefm.006 = { # revolution of 1862
	type = country_event
	placement = root
	
	title = grefm.006.t
	desc = grefm.006.d
	flavor = grefm.006.f
	
	event_image = {
		video = "europenorthamerica_political_extremism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		heir = {
			save_scope_as = otto_heir_scope
		}
		ig:ig_armed_forces = {
			leader = {
				save_scope_as = ig_armed_forces_scope
			}
		}
		c:GBR = {
			save_scope_as = uk_scope
		}
		s:STATE_BAVARIA = {
			random_scope_state = {
				save_scope_as = bavaria_state_scope
			}
		}
		random_scope_character = {
			limit = {
				has_variable = grefm_is_voulgaris
			}
			save_scope_as = voulgaris_scope
		}
		if = {
			limit = {
				NOT = {
					exists = scope:voulgaris_scope
				}
			}
			ig:ig_intelligentsia = {
				leader = {
					save_scope_as = voulgaris_scope # close enough
				}
			}
		}
		set_variable = grefm_bavarocracy_completed
	}
	
	option = {
		name = grefm.006.a
		default_option = yes
		scope:voulgaris_scope = {
				set_character_as_ruler = yes
		}
		scope:king_otto_scope = {
			exile_character = yes
		}
		if = {
			limit = {
				exists = scope:otto_heir_scope
			}
			scope:otto_heir_scope = {
				exile_character = yes
			}
		}
		every_scope_character = {
			limit = {
				has_variable = grefm_bavarocrat
			}
			exile_character = yes
		}
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_hereditary_bureaucrats
					has_law = law_type:law_appointed_bureaucrats
				}
			}
			activate_law = law_type:law_elected_bureaucrats
		}
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_autocracy
					has_law = law_type:law_oligarchy
					has_law = law_type:law_landed_voting
					has_law = law_type:law_wealth_voting
					has_law = law_type:law_census_voting
				}
			}
			activate_law = law_type:law_universal_suffrage
		}
		add_loyalists = {
			value = 0.1
		}
		clean_up_bavarocracy_effect = yes
		trigger_event = {
			id = grefm.030
			days = 30
		}
	}
	
}

grefm.007 = { # mandate secured
	type = country_event
	placement = root
	
	title = grefm.007.t
	desc = grefm.007.d
	flavor = grefm.007.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		set_variable = grefm_bavarocracy_completed
	}

	option = {
		name = grefm.007.a
		default_option = yes
		clean_up_bavarocracy_effect = yes
		scope:king_otto_scope = {
			remove_trait = arrogant
			remove_trait = romantic
			add_trait = basic_political_operator
			add_trait = demagogue
		}
		trigger_event = {
			id = grefm.031 # the king of the hellenes
			days = 30
		}
	}
	
}

grefm.008 = { # The Overthrow of the Bavarocracy
	type = country_event
	placement = root
	
	title = grefm.008.t
	desc = grefm.008.d
	flavor = grefm.008.f
	
	event_image = {
		video = "votp_agitator_speaking"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		heir = {
			save_scope_as = otto_heir_scope
		}
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = intelligentsia_leader_scope
			}
		}
		set_variable = grefm_bavarocracy_completed
	}
	
	option = {
		name = grefm.008.a
		default_option = yes
		scope:king_otto_scope = {
			kill_character = yes
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:otto_heir_scope
				}
				scope:otto_heir_scope = {
					kill_character = yes
				}
			}
		}
		scope:intelligentsia_leader_scope = {
			set_character_as_ruler = yes
		}
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_hereditary_bureaucrats
					has_law = law_type:law_appointed_bureaucrats
				}
			}
			activate_law = law_type:law_elected_bureaucrats
		}
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_autocracy
					has_law = law_type:law_oligarchy
					has_law = law_type:law_landed_voting
					has_law = law_type:law_wealth_voting
					has_law = law_type:law_census_voting
				}
			}
			activate_law = law_type:law_universal_suffrage
		}
		add_loyalists = {
			value = 0.1
		}
		every_scope_character = {
			limit = {
				has_variable = grefm_bavarocrat
			}
			exile_character = yes
		}
		clean_up_bavarocracy_effect = yes
		trigger_event = {
			id = grefm.030
			days = 30
		}
	}
	
}

grefm.009 = { # A Disgraced Tyrant
	type = country_event
	placement = root
	
	title = grefm.009.t
	desc = grefm.009.d
	flavor = grefm.009.f
	
	event_image = {
		video = "europenorthamerica_political_extremism"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_the_tyranny_of_house_wittelsbach
	}	
	
	immediate = {
		ig:ig_armed_forces = {
			leader = {
				save_scope_as = armed_forces_leader_scope
			}
		}
		set_variable = grefm_tyranny_busted
	}
	
	option = {
		name = grefm.009.a
		if = {
			limit = { 
				OR = {
					has_law = law_type:law_hereditary_bureaucrats
				}
			}
			activate_law = law_type:law_appointed_bureaucrats
		}
		if = {
			limit = {
				AND = {
					OR = {
						has_law = law_type:law_autocracy
						has_law = law_type:law_oligarchy
						has_law = law_type:law_landed_voting
						has_law = law_type:law_wealth_voting
						has_law = law_type:law_census_voting
					}
					has_technology_researched = egalitarianism
				}
			}
			activate_law = law_type:law_universal_suffrage
		}
		else = {
			activate_law = law_type:law_census_voting
		}
		every_interest_group = {
			limit = {	
				law_stance = {
					law = law_type:law_autocracy
					value > neutral
				}
			}
			add_modifier = {
				name = modifier_grefm_constitution_enforced
				months = normal_modifier_time
				is_decaying = yes
			}
		}
		add_radicals = {
			strata = rich
			value = medium_radicals
		}
		add_loyalists = {
			strata = middle
			value = small_radicals
		}
		add_loyalists = {
			strata = poor
			value = small_radicals
		}
		call_election = {
			months = 3
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_minus_400
			change_variable = {
				name = grefm_bavarocracy_var
				add = -400
			}
		}
		set_variable = grefm_constitution_completed
	}
	
}

#### GOVERNMENT REFORM EVENTS ####

grefm.010 = { # adds je_grefm_greek_constitution
	type = country_event
	placement = root
	
	title = grefm.010.t
	desc = grefm.010.d
	flavor = grefm.010.f
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by grefm.001
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.010.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_greek_constitution
		}
	}

}

grefm.011 = { # adds je_grefm_land_reform
	type = country_event
	placement = root
	
	title = grefm.011.t
	desc = grefm.011.d
	flavor = grefm.011.f
	
	event_image = {
		video = "europenorthamerica_russian_serfs"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by grefm.001
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.011.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_land_reform
		}
		show_as_tooltip = {
			add_modifier = {
				name = modifier_grefm_timar
			}
		}	
	}

}

grefm.012 = { # land reformation complete
	type = country_event
	placement = root
	
	title = grefm.012.t
	desc = grefm.012.d
	flavor = grefm.012.f
	
	event_image = {
		video = "southamerica_factory_opening"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by JE
	}
	
	immediate = {
		set_variable = grefm_land_reform_completed
	}
	
	option = {
		name = grefm.012.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_land_tax_reformed
			months = normal_modifier_time
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
	}

}

grefm.013 = { # adds je_grefm_brigandage
	type = country_event
	placement = root
	
	title = grefm.013.t
	desc = grefm.013.d
	flavor = grefm.013.f
	
	event_image = {
		video = "southamerica_war_civilians"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by JE
	}
	
	immediate = {
		capital = {
			save_scope_as = brigandage_state
		}
		set_variable = {
			name = grefm_the_brigands_raided_again
			value = 48 # four years before grem.030 can fire
		}
	}
	
	option = {
		name = grefm.013.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_brigandage
		}
		show_as_tooltip = {
			add_modifier = {
				name = modifier_grefm_insecure_countryside
			}
		}
	}

}

grefm.014 = { # brigands suppressed
	type = country_event
	placement = root

	title = grefm.014.t
	desc = grefm.014.d
	flavor = grefm.014.f

	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by JE
	}
	
	immediate = {
		set_variable = grefm_brigandage_completed
	}
	
	option = {
		name = grefm.014.a
		default_option = yes
		add_loyalists = {
			value = small_radicals
		}
		add_modifier = {
			name = modifier_grefm_secured_order
			months = long_modifier_time
		}
		every_scope_state = {
			limit = {
				has_modifier = modifier_grefm_brigandage
			}
			remove_modifier = modifier_grefm_brigandage
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
	}
	
}

grefm.015 = { # adds je_grefm_civic_tradition
	type = country_event
	placement = root
	
	title = grefm.015.t
	desc = grefm.015.d
	flavor = grefm.015.f
	
	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by JE
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.015.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_civic_tradition
		}
		show_as_tooltip = {
			add_modifier = {
				name = modifier_grefm_poor_administration
			}
		}
	}

}

grefm.016 = { # civic reform complete
	type = country_event
	placement = root
	
	title = grefm.016.t
	desc = grefm.016.d
	flavor = grefm.016.f
	
	event_image = {
		video = "unspecific_signed_contract"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by JE
	}
	
	immediate = {
		set_variable = grefm_civic_tradition_completed
	}
	
	option = {
		name = grefm.016.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_civic_tradition_established
			months = normal_modifier_time
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
	}

}

grefm.017 = { # The Bavarian Auxiliary Corps
	type = country_event
	placement = root
	
	title = grefm.017.t
	desc = grefm.017.d
	flavor = grefm.017.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by grefm.1
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.017.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_bavarian_auxiliaries
			months = long_modifier_time
		}
		add_modifier = {
			name = modifier_grefm_funding_bavarian_auxiliaries
			months = long_modifier_time
			multiplier = money_amount_multiplier_small
		}
	}

}

grefm.018 = { # Bavarian Auxiliaries Dismissed
	type = country_event
	placement = root
	
	title = grefm.018.t
	desc = grefm.018.d
	flavor = grefm.018.f
	
	event_image = {
		video = "ep1_transfer_of_authority"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by decision
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
	}
	
	option = {
		name = grefm.018.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_dismissed_bavarians
			months = normal_modifier_time
			is_decaying = yes
		}
		if = {
			limit = {
				exists = c:BAV
			}
			change_relations = {
				country = c:BAV
				value = -30
			}
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_20
			change_variable = {
				name = grefm_bavarocracy_var
				add = 20
			}
		}
	}

}

grefm.019 = { # nikitas released from jail
	type = country_event
	placement = root
	
	title = grefm.019.t
	desc = grefm.019.d
	flavor = grefm.019.f
	
	event_image = {
		video = "votp_garibaldi"
	}
	
	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by decision
	}
	
	immediate = {	
	}	
	
	option = {
		name = grefm.019.a
		default_option = yes
		create_character = {
			template = template_grefm_nikitaras
		}
		add_modifier = {
			name = modifier_grefm_nikitas_released
			months = normal_modifier_time
			is_decaying = yes
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_20
			change_variable = {
				name = grefm_bavarocracy_var
				add = 20
			}
		}
	}

}

#### MONARCHY SUPPORT EVENTS ####

grefm.020 = { # the brigands raid again
	type = country_event
	placement = scope:brigandage_state

	title = grefm.020.t
	desc = grefm.020.d
	flavor = grefm.020.f

	event_image = {
		video = "rp1_social_banditry"
	}

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by je_grefm_brigandage
		year > 1838
		any_scope_state = {
			NOT = { has_modifier = modifier_grefm_brigandage }
		}
		var:grefm_the_brigands_raided_again < 1
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				NOT = { has_modifier = modifier_grefm_brigandage }
			}
			save_scope_as = brigandage_state
		}
		change_variable = {
			name = grefm_the_brigands_raided_again
			add = 36 # three year cooldown
		}
	}
	
	option = {
		name = grefm.020.a
		default_option = yes
		scope:brigandage_state = {
			add_modifier = {
				name = modifier_grefm_brigandage
				months = normal_modifier_time
			}
			add_radicals_in_state = {
				value = small_radicals
			}
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_minus_50
			change_variable = {
				name = grefm_bavarocracy_var
				add = -50
			}
		}
	}
	
}

grefm.021 = { # King Ludwig Visits Greece
	type = country_event
	placement = root
	
	title = grefm.021.t
	desc = grefm.021.d
	flavor = grefm.021.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
		c:BAV = {
			save_scope_as = bavaria_scope
			capital = {
				save_scope_as = bavaria_state_scope
			}
			ruler = {
				save_scope_as = ludwig_scope
			}
		}
		ig:ig_landowners = {
			leader = {
				save_scope_as = armansperg_scope
			}
		}
	}
	
	option = {
		name = grefm.021.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_bavarian_tour
			months = normal_modifier_time
		}
	}

}

grefm.022 = { # Otto Leaves for Bavaria
	type = country_event
	placement = root
	
	title = grefm.022.t
	desc = grefm.022.d
	flavor = grefm.022.f
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}	
	
	immediate = {
		c:BAV = {
			save_scope_as = bavaria_scope
			capital = {
				save_scope_as = bavaria_state_scope
			}
			ruler = {
				save_scope_as = ludwig_scope
			}
		}
	}
	
	option = {
		name = grefm.022.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_absent_monarch
			months = 12
		}
	}

}

grefm.023 = { # A Consort Fit for a Bavarian
	type = country_event
	placement = root
	
	title = grefm.023.t
	desc = grefm.023.d
	flavor = grefm.023.f
	
	gui_window = event_window_2char

	left_icon = scope:royal_marriage_character
	right_icon = scope:queen_amalia_scope
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = { # wedding.2 effects, with extra scripting for Queen Amalia and Oldenburg
		create_character = {
			template = template_grefm_oldenburg_amalia
			on_created = {
				place_character_in_void = 300
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_oldenburg_amalia
			}
			save_scope_as = queen_amalia_scope
		}
		random_scope_character = {
			limit = {
				has_variable = spouse_seeker
			}
			save_scope_as = royal_marriage_character
		}
		random_country = {
			limit = {
				NOT = { THIS = ROOT }
				NOT = { THIS ?= c:OLD }
				has_law = law_type:law_monarchy
				country_has_state_religion = rel:catholic
				is_country_type = recognized
				ruler = {
					age > 36
					NOT = {
						has_variable = marriage_target
					}
				}
			}
			save_scope_as = marriage_country_1
			ruler = {
				save_scope_as = foreign_ruler_1
			}
		}
		if = {
			limit = {
				exists = scope:marriage_country_1
				any_country = {
					NOT = { THIS = ROOT }
					NOT = { THIS ?= c:OLD }
					NOT = { THIS = scope:marriage_country_1 }
					has_law = law_type:law_monarchy
					country_has_state_religion = rel:catholic
					is_country_type = recognized
					ruler = {
						age > 36
						NOT = { has_variable = marriage_target }
					}
				}
			}
			random_country = {
				limit = {
					NOT = { THIS = ROOT }
					NOT = { THIS ?= c:OLD }
					NOT = { THIS = scope:marriage_country_1 }
					has_law = law_type:law_monarchy
					country_has_state_religion = rel:catholic
					is_country_type = recognized
					ruler = {
						age > 36
						NOT = {
							has_variable = marriage_target
						}
					}
				}
				save_scope_as = marriage_country_2
				ruler = {
					save_scope_as = foreign_ruler_2
				}
			}
			if = { #In order for this to be searched for, marriage country 2 must also exist.
				limit = {
					exists = scope:marriage_country_2
					any_country = {
						NOT = { THIS = ROOT }
						NOT = { THIS ?= c:OLD }
						NOT = { THIS = scope:marriage_country_1 }
						NOT = { THIS = scope:marriage_country_2 }
						has_law = law_type:law_monarchy
						country_has_state_religion = rel:catholic
						is_country_type = recognized
						ruler = {
							age > 36
							NOT = { has_variable = marriage_target }
						}
					}
				}
				random_country = {
					limit = {
						NOT = { THIS = ROOT }
						NOT = { THIS ?= c:OLD }
						NOT = { THIS = scope:marriage_country_1 }
						NOT = { THIS = scope:marriage_country_2 }
						relations:root >= 0
						has_law = law_type:law_monarchy
						country_has_state_religion = rel:catholic
						is_country_type = recognized
						ruler = {
							age > 36
							NOT = {
								has_variable = marriage_target
							}
						}
					}
					save_scope_as = marriage_country_3
					ruler = {
						save_scope_as = foreign_ruler_3
					}
				}
			}
		}
		c:OLD = {
			save_scope_as = oldenburg_scope
		}
	}
	
	option = { # Queen Amalia, the Historical Option
		name = grefm.023.a
		default_option = yes
		trigger = {
			exists = scope:queen_amalia_scope
			exists = c:OLD
		}
		c:OLD ?= {
			ruler = {
				set_variable = marriage_target
			}
			save_scope_as = marriage_country
			change_relations = {
				country = ROOT
				value = 20
			}
		}
		trigger_event = {
			id = wedding.1
			popup = yes
		}
		custom_tooltip = grefm.023.tt
	}
	
	option = { # Vanilla Noble 1
		name = wedding.2.a
		trigger = {
			exists = scope:marriage_country_1
		}
		scope:marriage_country_1 = {
			ruler = {
				set_variable = marriage_target
			}
			save_scope_as = marriage_country
			change_relations = {
				country = ROOT
				value = 20
			}
		}
		trigger_event = {
			id = wedding.1
			popup = yes
		}
	}
	
	option = { # Vanilla Noble 2
		name = wedding.2.b
		trigger = {
			exists = scope:marriage_country_2
		}
		scope:marriage_country_2 = {
			ruler = {
				set_variable = marriage_target
				save_scope_as = marriage_country_ruler
			}
			save_scope_as = marriage_country
			change_relations = {
				country = ROOT
				value = 20
			}
		}
		trigger_event = {
			id = wedding.1
			popup = yes
		}
	}
	
	option = { # Dynamic Noble 3
		name = wedding.2.c
		trigger = {
			exists = scope:marriage_country_3
		}
		scope:marriage_country_3 = {
			ruler = {
				set_variable = marriage_target
				save_scope_as = marriage_country_ruler
			}
			save_scope_as = marriage_country
			change_relations = {
				country = ROOT
				value = 20
			}
		}
		trigger_event = {
			id = wedding.1
			popup = yes
		}
	}

	after = {
		ruler = {
			set_variable = is_married
			remove_variable = spouse_seeker
		}
	}
}

grefm.024 = { # Otto's Intellect Challenged
	type = country_event
	placement = root
	
	title = grefm.024.t
	desc = grefm.024.d
	flavor = grefm.024.f
	
	event_image = {
		video = "ep1_clandestine_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		ig:ig_landowners = {
			leader = {
				save_scope_as = armansperg_scope
			}
		}
		c:BAV = {
			ruler = {
				save_scope_as = ludwig_scope
			}
		}
	}
	
	option = {
		name = grefm.024.a
		default_option = yes
		scope:king_otto_scope = {
			add_modifier = modifier_grefm_feebleminded
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_minus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = -100
			}
		}
	}

}

grefm.025 = { # Discharging the Regency
	type = country_event
	placement = root
	
	title = grefm.025.t
	desc = grefm.025.d
	flavor = grefm.025.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
		ig:ig_landowners = {
			leader = {
				save_scope_as = armansperg_scope
			}
		}
		create_character = {
			template = template_grefm_rudhart_ignaz
			on_created = {
				place_character_in_void = 12 # just for this event
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_rudhart_ignaz
			}
			save_scope_as = grefm_rudhart_scope
		}
		set_variable = grefm_regency_completed
	}
	
	option = { # Kick Armansperg Out
		name = grefm.025.a
		default_option = yes
		scope:king_otto_scope = {
			remove_modifier = modifier_grefm_feebleminded
		}
		scope:armansperg_scope = {
			hidden_effect = {
				disinherit_character = yes
			}
			exile_character = yes
		}
		scope:grefm_rudhart_scope = {
			set_as_interest_group_leader = yes
			free_character_from_void = yes
		}
	}
	
	option = { # Be a Beta
		name = grefm.025.b
		add_modifier = {
			name = modifier_grefm_impotent_monarch
			months = long_modifier_time
		}
		scope:armansperg_scope = {
			hidden_effect = {
				disinherit_character = yes
			}
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_minus_200
			change_variable = {
				name = grefm_bavarocracy_var
				add = -200
			}
		}
	}
	
	after = {
		hidden_effect = {
			trigger_event = {
				id = grefm.010 # adds je_grefm_greek_constitution
				days = 30
			}
			trigger_event = {
				id = grefm.011 # adds je_grefm_land_reform
				days = 45
			}
			trigger_event = {
				id = grefm.013 # je_grefm_brigandage
				days = 90
			}
			trigger_event = {
				id = grefm.015 # je_grefm_civic_tradition
				days = 120
			}
		}
		set_variable = grefm_bavarocracy
		remove_variable = eocfm_ruler_conversion_considered
	}
	
}

grefm.026 = { # The Philorthodox Conspiracy; this is a grefm-specific variant of eocfm.006
	type = country_event
	placement = root
	
	title = grefm.026.t
	desc = grefm.026.d
	flavor = grefm.026.f
	
	event_image = {
		video = "ep1_clandestine_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_orthodox.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			has_variable = eocfm_ruler_conversion_considered
		}
		var:grefm_bavarocracy_var <= 1500
		ruler = {
			NOT = {
				has_religion = orthodox
			}
		}
		heir ?= {
			NOT = {
				has_religion = orthodox
			}
		}
	}
	
	immediate = {
		set_variable = eocfm_ruler_conversion_considered
		ruler = {
			save_scope_as = eocfm_ruler_scope
		}
		heir = {
			save_scope_as = eocfm_heir_scope
		}
		ig:ig_devout = {
			leader = {
				save_scope_as = devout_leader_scope
			}
		}
	}	
	
	option = { # Both will convert
		name = grefm.026.a
		default_option = yes
		scope:eocfm_ruler_scope = {
			change_character_religion = rel:orthodox
			add_modifier = modifier_eocfm_accepted_conversion
		}
		scope:eocfm_heir_scope = {
			change_character_religion = rel:orthodox
			add_modifier = modifier_eocfm_accepted_conversion
		}
		add_modifier = {
			name = modifier_eocfm_ruler_accepted_conversion
			months = normal_modifier_time
		}
		add_loyalists = {
			religion = rel:orthodox
			value = medium_radicals
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_100
			change_variable = {
				name = grefm_bavarocracy_var
				add = 100
			}
		}
	}
	
	option = { # Heir will convert
		name = grefm.026.b
		scope:eocfm_ruler_scope = {
			add_modifier = {
				name = modifier_eocfm_refused_conversion
				months = very_long_modifier_time
			}
		}
		scope:eocfm_heir_scope = {
			change_character_religion = rel:orthodox
			add_modifier = modifier_eocfm_accepted_conversion
		}
		add_loyalists = {
			religion = rel:orthodox
			value = small_radicals
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_plus_50
			change_variable = {
				name = grefm_bavarocracy_var
				add = 50
			}
		}
	}
	
	option = { # 99 THESES GO BRRRRRRRRR
		name = grefm.026.c
		scope:eocfm_ruler_scope = {
			add_modifier = {
				name = modifier_eocfm_refused_conversion
				months = very_long_modifier_time
			}
		}
		scope:eocfm_heir_scope = {
			add_modifier = {
				name = modifier_eocfm_refused_conversion
				months = very_long_modifier_time
			}
		}
		add_modifier = {
			name = modifier_eocfm_ruler_refused_conversion
			months = normal_modifier_time
		}
		add_radicals = {
			religion = rel:orthodox
			value = medium_radicals
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_minus_50
			change_variable = {
				name = grefm_bavarocracy_var
				add = -50
			}
		}
	}

}

grefm.029 = { # Absolutism in Greece
	type = country_event
	placement = root
	
	title = grefm.029.t
	desc = grefm.029.d
	flavor = grefm.029.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_bavarian_greece
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_otto_scope
		}
	}
	option = {
		name = grefm.029.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_absolutist_rule
			months = long_modifier_time
		}
		add_loyalists = {
			strata = rich
			value = medium_radicals
		}
	}

}

#### CONSTITUTIONAL MONARCHY EVENTS ####

grefm.030 = { # 1862 head of state referendum
	type = country_event
	placement = root
	
	title = grefm.030.t
	desc = grefm.030.d
	flavor = grefm.030.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	# triggered by JE
	}
	
	immediate = {
		random_scope_character = {
			limit = {
				has_template = garibaldi_character_template
			}
			save_scope_as = grefm_garibaldi_scope
		}
		if = {
			limit = {
				NOT = { has_variable = grefm_bavarocracy_completed }
			}
			set_variable = grefm_bavarocracy_completed
		}
		heir ?= {
			save_scope_as = grefm_heir_scope
		}
		remove_variable = grefm_bavarocracy
	}
	
	option = { # William of Denmark - the historical option
		name = grefm.030.1
		default_option = yes
		trigger = { # always available
		}
		custom_tooltip = {
			text = grefm.030.1.tt
			hidden_effect = {
				create_character = {
					first_name = George
					last_name = Glucksburg
					noble = yes
					historical = yes
					age = 17
					dna = mr_gre_george_i
					culture = cu:danish
					religion = rel:catholic
					interest_group = ig_landowners
					ideology = ideology_royalist
					traits = {
						direct
						charismatic
						basic_diplomat
					}
					on_created = {
						set_character_as_ruler = yes
#						set_variable = grefm_is_glucksburg
					}
				}
			}
		}
		trigger_event = {
			id = grefm.031 # the king of the hellenes
			days = 30
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
	}
	
	option = { # Philippe de Flandre - the Belgian option
		name = grefm.030.2
		trigger = {
			has_diplomatic_pact = {
				who = c:BEL
				type = alliance
			}
			NOT = {
				has_global_variable = grefm_the_belgian_option
			}
		}
		custom_tooltip = {
			text = grefm.030.2.tt
			hidden_effect = {
				create_character = {
					first_name = Philippe
					last_name = de_Flandre
					noble = yes
					historical = yes
					age = 25
					culture = cu:flemish
					religion = rel:catholic
					interest_group = ig_landowners
					ideology = ideology_royalist
					traits = {
						basic_political_operator
						arrogant
					}
					on_created = {
						set_character_as_ruler = yes
					}
				}
			}
		}
		trigger_event = {
			id = grefm.031 # the king of the hellenes
			days = 30
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
		set_global_variable = grefm_the_belgian_option # blocks this option on the balkfm side
	}
	
	option = { # Eynard the Philhellene - got a few votes and was a major financier in the Greek War of Independence
		name = grefm.030.3
		trigger = {
			has_technology_researched = mutual_funds
		}
		custom_tooltip = {
			text = grefm.030.3.tt
			hidden_effect = {
				create_character = {
					first_name = Jean_Gabriel
					last_name = Eynard
					historical = yes
					age = 87
					culture = cu:alemannic
					religion = rel:catholic
					interest_group = ig_petty_bourgeoisie
					ideology = ideology_moderate
					traits = {
						basic_political_operator
						arrogant
					}
					on_created = {
						set_character_as_ruler = yes
					}
				}
			}
		}
		trigger_event = {
			id = grefm.031 # the king of the hellenes
			days = 30
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
#		set_variable = grefm_dr_moneybags_in_the_house
	}
	
	option = { # Ypsilantis, the Phanariote option - votes were cast in favor of an unspecfied Ypsilantis noble
		name = grefm.030.4
		trigger = { # Always Available
		}
		custom_tooltip = {
			text = grefm.030.4.tt
			hidden_effect = {
				create_character = {
					last_name = Ypsilantis
					noble = yes
					age = 30
					culture = cu:greek
					religion = rel:orthodox
					interest_group = ig_landowners
					ideology = ideology_moderate
					traits = {
						basic_political_operator
						arrogant
					}
					on_created = {
						set_variable = grefm_phanariot
						set_character_as_ruler = yes
					}
				}
			}
		}
		c:GBR ?= {
			change_relations = {
				country = root
				value = -25
			}
		}
		c:FRA ?= {
			change_relations = {
				country = root
				value = -25
			}
		}
		c:RUS ?= {
			change_relations = {
				country = root
				value = -25
			}
		}
		trigger_event = {
			id = grefm.031 # the king of the hellenes
			days = 30
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
	}
	
	option = { # Garbaldi, if he's in town - he literally has votes recorded in his name, I don't understand
		name = grefm.030.5
		trigger = {
			exists = scope:grefm_garibaldi_scope
		}
		scope:grefm_garibaldi_scope = {
			set_character_as_ruler = yes
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
	}

	option = { # Make it a republic - unsurprisingly some voters just wrote this option in
		name = grefm.030.6
		trigger = {
			has_technology_researched = egalitarianism
		}
		activate_law = law_type:law_parliamentary_republic
		trigger_event = {
			id = grefm.005 # convenient for cleanup, flavor, and damaging relations
			popup = yes
		}
	}
	
	option = { # Dredge up a Palaiologos descendant
		name = grefm.030.7
		trigger = {
			has_variable = byzfm_byzantium_formed
		}
		custom_tooltip = {
			text = grefm.030.7.tt
			hidden_effect = {
				create_character = {
					last_name = Palaiologos
					noble = yes
					age = 30
					culture = cu:greek
					religion = rel:orthodox
					interest_group = ig_landowners
					ideology = ideology_moderate
					traits = {
						trait_byzfm_porphyrogenitus
						ambitious
						charismatic
						basic_political_operator
					}
					on_created = {
						set_variable = grefm_phanariot
						set_character_as_ruler = yes
					}
				}
			}
		}
		trigger_event = {	
			id = byzfm.310 # The Basileus Basileōn
			days = 10
		}
		hidden_effect = {
			if = {
				limit = {
					exists = scope:grefm_heir_scope
				}
				scope:grefm_heir_scope = {
					kill_character = yes
				}
			}
		}
		set_variable = byzfm_took_the_purple
	}
	
	after = {
		set_variable = grefm_1862_election_held
	}

}

grefm.031 = { # the king of the hellenes
	type = country_event
	placement = root
	
	title = grefm.031.t
	desc = {
		triggered_desc = {
			desc = grefm.031.d1
			trigger = {
				has_variable = grefm_1862_election_held
			}
		}
		triggered_desc = {
			desc = grefm.031.d2
			trigger = {
				has_variable = grefm_bavarocracy_secured
			}
		}
		triggered_desc = {
			desc = grefm.031.d3
			trigger = {
				NOR = {
					has_variable = grefm_1862_election_held
					has_variable = grefm_bavarocracy_secured
				}
			}
		}
	}
	flavor = grefm.031.f
	
	duration = 3
	
	dlc = dlc_grefm
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:king_of_the_hellenes_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	trigger = { # triggered by grefm.007 or grefm.030
	}
	
	immediate = {
		ruler = {
			save_scope_as = king_of_the_hellenes_scope
		}
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = grefm_capital_scope
		}
		create_character = {
			template = template_grefm_trikoupis_charilaos
			on_created = {
				place_character_in_void = 12 # just for this event
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_trikoupis_charilaos
			}
			save_scope_as = grefm_trikoupis_scope
		}
		set_variable = grefm_glucksburg_era
	}
	
	option = { # standard option if you got here via grefm.030
		name = grefm.031.a
		default_option = yes
		trigger = {
			has_variable = grefm_1862_election_held
			NOT = { has_variable = byzfm_byzantium_formed }
		}
		scope:grefm_trikoupis_scope = {
			free_character_from_void = yes
			set_as_interest_group_leader = yes
		}
	}
	
	option = { # alternate if you got here via je_grefm_the_tyranny_of_house_wittelsbach
		name = grefm.031.a
		trigger = {
			has_variable = grefm_bavarocracy_secured
			NOT = { has_variable = byzfm_byzantium_formed }
		}
		set_variable = {
			name = grefm_absolutism_var
			value = 0
		}
		add_journal_entry = {
			type = je_grefm_bavarian_greece
		}
	}
	
	option = { # alternate if you got here via je_grefm_bavarocracy_main
		name = grefm.031.a
		default_option = yes
		trigger = {
			NOR = {
				has_variable = grefm_1862_election_held
				has_variable = grefm_bavarocracy_secured
			}
		}
		scope:grefm_trikoupis_scope = {
			free_character_from_void = yes
			set_as_interest_group_leader = yes
		}
	}
	
}

grefm.032 = { # who is to blame
	type = country_event
	placement = root
	
	title = grefm.032.t
	desc = grefm.032.d
	flavor = grefm.032.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_glucksburg.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_got_blamed }
		has_variable = grefm_1862_election_held
		has_technology_researched = egalitarianism
		has_law = law_type:law_monarchy
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = intelligentsia_leader_scope
			}
		}
		set_variable = grefm_got_blamed
	}
	
	option = {
		name = grefm.032.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_the_dedilomeni_principle
		}
	}

}

grefm.033 = { # a harmonious state
	type = country_event
	placement = root
	
	title = grefm.033.t
	desc = grefm.033.d
	flavor = grefm.033.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_glucksburg.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
	}	
	
	option = {
		name = grefm.033.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_harmonious_state
			months = long_modifier_time
		}
		add_loyalists = {
			culture = cu:greek
			value = small_radicals
		}
	}

}

grefm.034 = { # unfortunately we are bankrupt
	type = country_event
	placement = root
	
	title = grefm.034.t
	desc = grefm.034.d
	flavor = grefm.034.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		has_variable = grefm_glucksburg_era
		NOT = { has_variable = grefm_player_sucks_at_money }
		has_modifier = declared_bankruptcy
	}
	
	immediate = {
		set_variable = grefm_player_sucks_at_money
	}
	
	option = { # repudiate foreign loans
		name = grefm.034.a
		default_option = yes
		remove_modifier = declared_bankruptcy
		add_modifier = {
			name = modifier_grefm_repudiated_loans
			months = long_modifier_time
		}
		change_infamy = {
			add = 20
		}
	}
	
	option = { # reorganize our finances
		name = grefm.034.b
		remove_modifier = declared_bankruptcy
		add_modifier = {
			name = modifier_grefm_reorganized_finances
			months = normal_modifier_time
		}
	}
	
}

grefm.035 = { # A Perennial Problem
	type = country_event
	placement = root
	
	title = grefm.035.t
	desc = grefm.035.d
	flavor = grefm.035.f
	
	event_image = {
		video = "votp_cops_march"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			has_variable = grefm_legacy_brigandage
		}
		OR = {
			has_journal_entry = je_grefm_the_dedilomeni_principle
			has_journal_entry = je_grefm_bavarian_greece
		}
		institution_investment_level = {
			institution = institution_police
			value < 5
		}
	}
	
	immediate = {
		ruler = {
			save_scope_as = grefm_king_george_scope
		}
		set_variable = grefm_legacy_brigandage
	}
	
	option = {
		name = grefm.035.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_legacy_brigandage
			months = short_modifier_time
			is_decaying = yes
		}
	}

}


#### THE RISE OF VENIZELOS EVENTS ####

grefm.040 = { # Nationalist Fervor
	type = country_event
	placement = root
	
	title = grefm.040.t
	desc = grefm.040.d
	flavor = grefm.040.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_military_league_happened }
		has_journal_entry = je_grefm_megali_idea
		has_technology_researched = pan-nationalism
		has_technology_researched = political_agitation
		OR = {
			has_variable = grefm_glucksburg_era
			has_variable = grefm_bavarocracy_secured
		}
	}
	
	immediate = {
		set_variable = grefm_military_league_happened
	}
	
	option = {
		name = grefm.040.a
		default_option = yes
		if = {
			limit = {
				has_law = law_type:law_monarchy
				ig:ig_armed_forces = {
					is_powerful = yes
					law_stance = {
						law = law_type:law_parliamentary_republic
						value > neutral
					}
					law_stance = {
						law = law_type:law_autocracy
						value > neutral
					}
					ig_approval < 5
				}
			}
			trigger_event = {
				id = grefm.041 # The Military League
				days = 120
			}
		}
		else = {
			trigger_event = {
				id = grefm.047 # A Cretan Champion (Alternate)
				days = 120
			}
		}
	}

}

grefm.041 = { # the military league
	type = country_event
	placement = root
	
	title = grefm.041.t
	desc = grefm.041.d
	flavor = grefm.041.f
	
	event_image = {
		video = "ep1_clandestine_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}
	
	immediate = {
		remove_variable = coup_aftermath_event_fired
		ig:ig_armed_forces = { # modified from vanilla coup event
			set_variable = coup_ig_var
			save_scope_as = coup_ig
			leader = {
				set_ideology = ideology:ideology_republican_leader
			}
		}
		set_variable = {
			name = coup_for_law
			value = 6
		}
		random_law = {
			limit = {
				type = law_type:law_parliamentary_republic
			}
			save_scope_as = coup_desired_law
		}
		scope:coup_ig = {
			leader = {
				save_scope_as = coup_leader
			}
		}
		set_variable = {
			name = coup_var
			value = 0
		}
		remove_variable = grefm_glucksburg_era
	}
	
	option = { # Advance the coup
		name = grefm.041.a 
		add_journal_entry = { type = je_grefm_the_military_league }
		custom_tooltip = {
			text = coup_advance_25_tt
			set_variable = {
				name = coup_var
				value = 25
			}
		}
		scope:coup_ig = {
			add_modifier = {
				name = coup_supported
				months = long_modifier_time
				is_decaying = yes
			}
		}
	}

	option = { # Resist the coup
		name = grefm.041.b
		default_option = yes
		add_journal_entry = { type = je_grefm_the_military_league }
		custom_tooltip = {
			text = coup_advance_10_tt
			set_variable = {
				name = coup_var
				value = 10
			}
		}
		scope:coup_ig = {
			add_modifier = {
				name = coup_resisted
				months = long_modifier_time
				is_decaying = yes
			}
		}
	}
}
	
grefm.045 = { # a cretan champion
	type = country_event
	placement = root
	
	title = grefm.045.t
	desc = grefm.045.d
	flavor = grefm.045.f
	
	duration = 3
	
	dlc = dlc_grefm
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:grefm_venizelos_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	trigger = {
		NOT = { has_variable = grefm_venizelos_considered }
		has_journal_entry = je_grefm_the_military_league
		has_variable = coup_var
		var:coup_var > 80
	}
	
	immediate = {
		create_character = {
			template = template_grefm_venizelos_eleftherios
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_venizelos_eleftherios
			}
			save_scope_as = grefm_venizelos_scope
		}
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = grefm_capital_scope
		}
		set_variable = grefm_venizelos_considered
	}
	
	option = { # accept the cretan
		name = grefm.045.a
		default_option = yes
		set_variable = grefm_venizelos_has_landed
		scope:grefm_venizelos_scope = {
			transfer_character = ROOT
			set_as_interest_group_leader = yes
			set_variable = grefm_is_venizelos
		}
	}
	
	option = { # honestly, just let it burn
		name = grefm.045.b
		add_radicals = {
			culture = cu:greek
			value = medium_radicals
		}
		change_variable = {
			name = coup_var
			add = 15
		}
		custom_tooltip = coup_advance_15_tt
	}
}

grefm.046 = { # the goudi coup
	type = country_event
	placement = root
	
	title = grefm.046.t
	desc = grefm.046.d
	flavor = grefm.046.f
	
	event_image = {
		video = "votp_agitator_speaking"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		if = {
			limit = {
				AND = {
					ROOT = {
						has_variable = owes_sponsor_obligation
					}
					any_country = {
						has_variable = coup_sponsor
						var:coup_sponsor = root
					}
				}	
			}
			ROOT = {
				remove_variable = owes_sponsor_obligation
			}
			random_country = {
				limit = {
					AND = {
						has_variable = coup_sponsor
						this.var:coup_sponsor = root
					}
				}
				save_scope_as = coup_sponsor_obligation_target
			}
		}
		ig:ig_armed_forces = {
			save_scope_as = ig_armed_forces_scope
		}
		set_variable = government_couped
		activate_law = law_type:law_parliamentary_republic
		activate_law = law_type:law_autocracy
	}
	
	option = {
		name = grefm.046.a
		default_option = yes
		trigger = {
			scope:coup_desired_law = {
				type = law_type:law_parliamentary_republic
			}
		}
		default_option = yes
		scope:coup_ig = {
			hidden_effect = {
				if = {
					limit = {
						has_modifier = modifier_unrivaled_in_government
					}
					remove_modifier = modifier_unrivaled_in_government
				}

			}
			add_modifier = {
				name = modifier_unrivaled_in_government
				months = long_modifier_time
				is_decaying = yes
			}
		}
		if = {
			limit = {
				NOT = {
					has_law = law_type:law_monarchy
				}
			}
			scope:coup_ig = {
				leader = {
					set_character_as_ruler = yes
				}
			}
		}
		else_if = {
			limit = {
				has_law = law_type:law_monarchy
			}
			if = {
				limit = {
					ruler.interest_group = {
						is_same_interest_group_type = scope:coup_ig
					}
				}
				#Do nothing
			}
			else_if = {
				limit = {
					ruler.interest_group ?= {
						NOT = {
							is_same_interest_group_type = scope:coup_ig
						}
					}
					heir ?= {
						THIS.interest_group = {
							is_same_interest_group_type = scope:coup_ig
						}
					}
				}
				ruler = {
					kill_character = yes
				}
				#Do nothing
			}
			else = {
				hidden_effect = {
					heir ?= {
						kill_character = yes
					}
					ruler ?= {
						kill_character = yes
					}
				}
				create_character = {
					ruler = yes
					interest_group = scope:coup_ig
				}	
			}
		}
		if = {
			limit = {
				any_country = {
					has_variable = coup_sponsor
					this.var:coup_sponsor = root
				}
			}
			root = { set_owes_obligation_to = { country = scope:coup_sponsor_obligation_target setting = yes } }	
			scope:coup_sponsor_obligation_target = {
				remove_variable = coup_sponsor
			}
		}
	}

}

grefm.047 = { # A Cretan Champion Alternate
	type = country_event
	placement = root
	
	title = grefm.047.t
	desc = grefm.047.d
	flavor = grefm.047.f
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:grefm_venizelos_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	trigger = {
	}
	
	immediate = {
		create_character = {
			template = template_grefm_venizelos_eleftherios
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_venizelos_eleftherios
			}
			save_scope_as = grefm_venizelos_scope
		}
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = grefm_capital_scope
		}
		set_variable = grefm_military_league_happened
		set_variable = grefm_venizelos_considered
	}
	
	option = { # accept the cretan
		name = grefm.047.a
		default_option = yes
		set_variable = grefm_venizelos_has_landed
		scope:grefm_venizelos_scope = {
			transfer_character = ROOT
			set_as_interest_group_leader = yes
			set_variable = grefm_is_venizelos
		}
		trigger_event = {
			id = grefm.049 # The Rise of the Ethnarch (Alternate)
			days = 30
		}
	}
	
	option = { # reject his ass
		name = grefm.047.b
		if = {
			limit = {
				empty_agitator_slots <= 0
			}
			add_modifier = {
				name = modifier_grefm_agitator_slot
				months = long_modifier_time
			}
		}
		scope:grefm_venizelos_scope = {
			transfer_character = ROOT
			add_character_role = agitator
			add_trait = trait_grefm_ethnarch
		}
		add_radicals = {
			culture = cu:greek
			value = medium_radicals
		}
	}
	
}

grefm.048 = { # venizelos has landed
	type = country_event
	placement = root
	
	title = grefm.048.t
	desc = grefm.048.d
	flavor = grefm.048.f
	
	duration = 3
	
	dlc = dlc_grefm
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:grefm_venizelos_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	trigger = { # triggered by JE
	}
	
	immediate = { 
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
		scope:coup_ig = {
			leader = {
				save_scope_as = coup_leader
			}
		}
		capital = {
			save_scope_as = capital_scope
		}
		if = {
			limit = {
				any_country = {
					has_variable = coup_sponsor
					this.var:coup_sponsor = root
				}
			}		
			random_country = {
				limit = {
					AND = {
						has_variable = coup_sponsor
						this.var:coup_sponsor = root
					}
				}
				remove_variable = coup_sponsor
			}
		}
		create_character = {
			template = template_grefm_metaxas_ioannis
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_metaxas_ioannis
			}
			save_scope_as = ioannis_metaxas_scope
		}
	}	
	
	option = {
		name = grefm.048.a
		default_option = yes
		scope:coup_ig = {
			add_modifier = {
				name = failed_coup
				months = normal_modifier_time
			}
			set_variable = { name = coup_guilty days = 3650 }
		}
		every_interest_group = {
			limit = {
				NOT = { THIS = scope:coup_ig }
				is_marginal = no
				law_stance = {
					law = scope:coup_desired_law.type
					value < approve
				}
			}
			add_modifier = {
				name = coup_prevented
				months = long_modifier_time
				is_decaying = yes
				# +2 approval
			}
		}
		if = {
			limit = {
				exists = scope:coup_leader
			}
			scope:coup_leader = {
				exile_character = yes
			}
		}
		scope:ioannis_metaxas_scope = {
			transfer_character = ROOT
			set_as_interest_group_leader = yes
		}
		trigger_event = {
			id = grefm.050 # The Nature of the National Assembly
			days = 90
		}
	}

}

grefm.049 = { #  Rise of the Ethnarch (Alternate)
	type = country_event
	placement = root
	
	title = grefm.049.t
	desc = grefm.049.d
	flavor = grefm.049.f
	
	duration = 3
	
	dlc = dlc_grefm
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:grefm_venizelos_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	trigger = { # triggered by JE
	}
	
	immediate = { 
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
		capital = {
			save_scope_as = capital_scope
		}
		create_character = {
			template = template_grefm_metaxas_ioannis
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_metaxas_ioannis
			}
			save_scope_as = ioannis_metaxas_scope
		}
	}
	
	option = {
		name = grefm.049.a
		default_option = yes
		scope:ioannis_metaxas_scope = {
			transfer_character = ROOT
			set_as_interest_group_leader = yes
		}
		trigger_event = {
			id = grefm.050 # The Nature of the National Assembly
			days = 90
		}
	}

}

#### THAT NONSENSE WITH VENIZELOS ####

grefm.050 = { # The Nature of the National Assembly
	type = country_event
	placement = root
	
	title = grefm.050.t
	desc = grefm.050.d
	flavor = grefm.050.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
	}
	
	option = {
		name = grefm.050.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_venizelism_main
		}
		show_as_tooltip = {
			add_modifier = modifier_grefm_venizelist_tilt
		}
		if = {
			limit = {
				in_election_campaign = no
			}
			call_election = {
				months = 1
			}
		}
	}
	
	option = {
		name = grefm.050.b
		trigger = {
			has_law = law_type:law_monarchy
		}
		add_journal_entry = {
			type = je_grefm_venizelism_main
		}
		show_as_tooltip = {
			add_modifier = modifier_grefm_venizelist_tilt
		}		
		add_journal_entry = {
			type = je_grefm_venizelism_constitution
		}
		if = {
			limit = {
				in_election_campaign = no
			}
			call_election = {
				months = 1
			}
		}
	}
	
	after = {
		hidden_effect = { # the National Assembly conlcuded its reforms much more quickly than this, but gameplay lol
			trigger_event = {
				id = grefm.051 # Rejuventating the State
				days = 60
			}
			trigger_event = {
				id = grefm.053 # Reorganzing the Military
				days = 90
			}
			trigger_event = {
				id = grefm.055 # Advancing Society
				days = 120
			}
			trigger_event = {
				id = grefm.057 # The Ignorant Masses
				days = 150
			}
		}
	}

}

grefm.051 = { # Rejuventating the State
	type = country_event
	placement = root
	
	title = grefm.051.t
	desc = grefm.051.d
	flavor = grefm.051.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
	}
	
	option = {
		name = grefm.051.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_venizelism_civics
		}
	}

}

grefm.052 = { # A Competent Bureaucracy
	type = country_event
	placement = root
	
	title = grefm.052.t
	desc = grefm.052.d
	flavor = grefm.052.f
	
	event_image = {
		video = "southamerica_election"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.052.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_competent_bureaucracy
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = bureaucrats
			value = medium_radicals
		}
		add_loyalists = {
			pop_type = peasants
			value = large_radicals
		}
		set_variable = grefm_venizelism_civics_completed
	}

}

grefm.053 = { # Reorganizing the Military
	type = country_event
	placement = root
	
	title = grefm.053.t
	desc = grefm.053.d
	flavor = grefm.053.f
	
	event_image = {
		video = "middleeast_battlefield_trenches"
	}
	
	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
	}
	
	option = {
		name = grefm.053.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_venizelism_military
		}
	}

}

grefm.054 = { # A Formidable Military
	type = country_event
	placement = root
	
	title = grefm.054.t
	desc = grefm.054.d
	flavor = grefm.054.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.054.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_military_reorganized
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = officers
			value = medium_radicals
		}
		add_loyalists = {
			pop_type = soldiers
			value = large_radicals
		}
		set_variable = grefm_venizelism_military_completed
	}

}

grefm.055 = { # Advancing Society
	type = country_event
	placement = root
	
	title = grefm.055.t
	desc = grefm.055.d
	flavor = grefm.055.f
	
	event_image = {
		video = "europenorthamerica_sufferage"
	}
	
	icon = "gfx/interface/icons/event_icons/event_election.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
	}
	
	option = {
		name = grefm.055.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_venizelism_society
		}
	}

}

grefm.056 = { # A Modern Society
	type = country_event
	placement = root
	
	title = grefm.056.t
	desc = grefm.056.d
	flavor = grefm.056.f
	
	event_image = {
		video = "europenorthamerica_london_center"
	}
	
	icon = "gfx/interface/icons/event_icons/event_election.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.056.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_society_modernized
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = shopkeepers
			value = medium_radicals
		}
		add_loyalists = {
			pop_type = laborers
			value = large_radicals
		}
		set_variable = grefm_venizelism_society_completed
	}

}


grefm.057 = { # The Ignorant Masses
	type = country_event
	placement = root
	
	title = grefm.057.t
	desc = grefm.057.d
	flavor = grefm.057.f
	
	event_image = {
		video = "europenorthamerica_rich_and_poor"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = grefm_venizelos_scope
			}
		}
	}
	
	option = {
		name = grefm.057.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_venizelism_education
		}
	}

}

grefm.058 = { # An Educated Populace
	type = country_event
	placement = root
	
	title = grefm.058.t
	desc = grefm.058.d
	flavor = grefm.058.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}	
	
	option = {
		name = grefm.058.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_populace_educated
			months = normal_modifier_time
		}
		add_loyalists = {
			pop_type = academics
			value = medium_radicals
		}
		add_loyalists = {
			strata = poor
			value = large_radicals
		}
		set_variable = grefm_venizelism_education_completed
	}

}

grefm.059 = { # The Cretan Triumphant
	type = country_event
	placement = root
	
	title = grefm.059.t
	desc = grefm.059.d
	flavor = grefm.059.f
	
	event_image = {
		video = "unspecific_signed_contract"
	}
	
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.059.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_venizelist_triumph
			months = long_modifier_time
		}
		add_loyalists = {
			value = small_radicals
		}
	}

}

##########################################################
##	#GRE1	HISTORY/CULTURAL EVENTS		Events 100-199	##
##########################################################

#### INDUSTRY EVENTS ####
# events in this group trigger off of constructing buildings or activating PMs

grefm.100 = { # fix brewery
	type = country_event
	placement = root
	
	title = grefm.100.t
	desc = grefm.100.d
	flavor = grefm.100.f
	
	event_image = {
		video = "unspecific_gears_pistons"
	}
	
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = grefm_fix_brewery_considered }
		s:STATE_ATTICA = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_food_industry
					production_method = pm_patent_stills
				}
			}
		}
	}
	
	immediate = {
		set_global_variable = grefm_fix_brewery_considered 
	}
	
	option = {
		name = grefm.100.a
		default_option = yes
		s:STATE_ATTICA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_fix_brewery
					months = very_long_modifier_time
				}
			}
		}
	}

}

grefm.101 = { # Hellenic Railways event
	type = country_event
	placement = root
	
	title = grefm.101.t
	desc = grefm.101.d
	flavor = grefm.101.f
	
	event_image = {
		video = "unspecific_trains"
	}
	
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_hellenic_railways_event }
		c:GRE ?= this
		owns_entire_state_region = STATE_ATTICA
		owns_entire_state_region = STATE_THESSALIA
		any_scope_state = {
			has_building = building_motor_industry
		}
		s:STATE_ATTICA = {
			any_scope_state = {
				has_building = building_railway
			}
		}
		s:STATE_THESSALIA = {
			any_scope_state = {
				has_building = building_railway
			}
		}
	}
	
	immediate = {
		set_variable = grefm_hellenic_railways_event
	}
	
	option = {
		name = grefm.101.a
		default_option = yes
		s:STATE_ATTICA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_railway_production
					months = normal_modifier_time
				}
			}
		}
		s:STATE_THESSALIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_railway_production
					months = normal_modifier_time
				}
			}
		}
	}

}

grefm.102 = { # Greek Aviation Event
	type = country_event
	placement = root
	
	title = grefm.102.t
	desc = grefm.102.d
	flavor = grefm.102.f
	
	event_image = {
		video = "unspecific_airplane"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_greek_aviation }
		NOT = { has_variable = first_flight_achievement_check }
		any_scope_state = {
			is_production_method_active = {
				building_type = building_war_machine_industry
				production_method = pm_aeroplane_production
			}
		}
	}
	
	immediate = {
		set_variable = grefm_greek_aviation
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_scope
			}
		}
	}
	
	option = {
		name = grefm.102.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_aviation
			months = normal_modifier_time
		}
		scope:attica_scope = {
			add_loyalists_in_state = {
				value = small_radicals
			}
		}
	}		

}

grefm.103 = { # greek shipping event
	type = country_event
	placement = root
	
	title = grefm.103.t
	desc = grefm.103.d
	flavor = grefm.103.f
	
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		country_has_primary_culture = cu:greek
		NOT = { has_modifier = modifier_grefm_greek_shipping }
	}
	
	immediate = {
		add_modifier = modifier_grefm_greek_shipping
	}
	
	option = {
		name = grefm.103.a
		default_option = yes
		show_as_tooltip = {
			add_modifier = modifier_grefm_greek_shipping
		}
	}

}

#### TECHNOLOGY EVENTS ####
# events in this group trigger from researching technologies

grefm.110 = { # decline of the heptanese school
	type = country_event
	placement = root
	
	title = grefm.110.t
	desc = grefm.110.d
	flavor = grefm.110.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = grefm_heptanese_school_event }
		has_technology_researched = romanticism
		country_has_primary_culture = cu:greek
		owns_entire_state_region = STATE_ATTICA
	}
	
	immediate = {
		set_global_variable = grefm_heptanese_school_event
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_scope
			}
		}
	}
	
	option = {
		name = grefm.110.a
		default_option = yes
		scope:attica_scope = {
			create_building = {
 				building="building_arts_academy"
 				level=1
 				reserves=1
 			}
		}
		add_modifier = {
			name = modifier_grefm_funding_royal_art_school
			months = normal_modifier_time
			multiplier = money_amount_multiplier_small
		}
	}
	
	option = { # just in case you don't feel like bankrupting the nation like Otto did
		name = grefm.110.b
	}

}

grefm.111 = { # unlocks decision to being draining lake kopais
	type = country_event
	placement = root
	
	title = grefm.111.t
	desc = grefm.111.d
	flavor = grefm.111.f
	
	event_image = {
		video = "middleeast_engineer_blueprint"
	}
	
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = grefm_lake_kopais_var }
		NOT = { has_variable = grefm_lake_kopais_option }
		owns_entire_state_region = STATE_ATTICA
		has_technology_researched = hydraulic_cranes
	}
	
	immediate = {
		set_variable = grefm_lake_kopais_option
	}
	
	option = {
		name = grefm.111.a
		default_option = yes
		custom_tooltip = {
			text = grefm.111.tt
		}
	}

}

grefm.112 = { # lake kopais drained
	type = country_event
	placement = root
	
	title = grefm.112.t
	desc = grefm.112.d
	flavor = grefm.112.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	
		# triggered by je_grefm_land_reclaimation
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					has_global_variable = grefm_lake_kopais_var
				}
			}
			set_global_variable = grefm_gla_exposed
		}
	}
	
	option = {
		name = grefm.112.a
		default_option = yes
		add_modifier = {
			name = land_reclamation_complete
			months = long_modifier_time
		}
	}

}

grefm.113 = { # a citadel emerges
	type = country_event
	placement = root
	
	title = grefm.113.t
	desc = grefm.113.d
	flavor = grefm.113.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = grefm_gla_exposed }
		has_global_variable = grefm_lake_kopais_var
		global_var:grefm_lake_kopais_var = 2
	}
	
	immediate = {
		set_global_variable = grefm_gla_exposed
	}
	
	option = {
		name = grefm.113.a
		default_option = yes
		custom_tooltip = grefm_gla_exposed_tt2
	}

}

grefm.114 = { # Merchantile Rivalries
	type = country_event
	placement = root
	
	title = grefm.114.t
	desc = grefm.114.d
	flavor = grefm.114.f
	
	event_image = {
		video = "unspecific_steam_ship"
	}
	
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_national_port_considered }
		has_technology_researched = gantry_cranes
		owns_entire_state_region = STATE_ATTICA
		owns_entire_state_region = STATE_PELOPONNESE
		owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
	}
	
	immediate = {
		set_variable = grefm_national_port_considered
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_state_scope
			}
		}
		s:STATE_PELOPONNESE = {
			random_scope_state = {
				save_scope_as = peloponnese_state_scope
			}
		}
		s:STATE_WEST_AEGEAN_ISLANDS = {
			random_scope_state = {
				save_scope_as = west_aegean_state_scope
			}
		}
	}
	
	option = { # Side with Piraeus
		name = grefm.114.a
		default_option = yes
		scope:attica_state_scope = {	
			add_modifier = {
				name = modifier_grefm_national_port
			}
			add_loyalists_in_state = {
				strata = poor
				value = medium_radicals
			}
		}
		scope:peloponnese_state_scope = {
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
		scope:west_aegean_state_scope = {
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
	}
	
	option = { # Side with Patras
		name = grefm.114.b
		scope:attica_state_scope = {	
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
		scope:peloponnese_state_scope = {
			add_modifier = {
				name = modifier_grefm_national_port
			}
			add_loyalists_in_state = {
				strata = poor
				value = medium_radicals
			}
		}
		scope:west_aegean_state_scope = {
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
	}
	
	option = { # Side with Syra
		name = grefm.114.c
		scope:attica_state_scope = {	
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
		scope:peloponnese_state_scope = {
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
		scope:west_aegean_state_scope = {
			add_modifier = {
				name = modifier_grefm_national_port
			}
			add_loyalists_in_state = {
				strata = poor
				value = medium_radicals
			}
		}
	}

}

grefm.119 = { # Land Reclaimed in Kopaida
	type = country_event
	placement = scope:grefm_reclamation_state
	
	title = grefm.119.t
	desc = grefm.119.d
	flavor = grefm.119.f
	
	event_image = {
		video = "europenorthamerica_russian_serfs"
	}
	
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {	
		# triggered by je_grefm_land_reclaimation
	}
	
	immediate = {
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = grefm_reclamation_state
			}
		}
	}
	
	option = {
		name = grefm.119.a
		default_option = yes
		scope:grefm_reclamation_state = {
			state_region = {
				add_arable_land = 1
			}
		}
		change_global_variable = {
			name = grefm_lake_kopais_var
			add = 1
		}		
	}

}

#### CULTURAL EVENTS ####
# events in this group center on Greek ethnogenesis

grefm.120 = { # olympics restarted
	type = country_event
	placement = root
	
	title = grefm.120.t
	desc = grefm.120.d
	flavor = grefm.120.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		morgenrote_is_active = no
		has_variable = revive_olympics_decision_taken
		has_modifier = modifier_olympic_games
	}
	
	immediate = {
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_state
			}
		}
		remove_modifier = modifier_olympic_games
		add_modifier = modifier_grefm_olympic_games
	}
	
	option = {
		name = grefm.120.a
		default_option = yes
		add_loyalists = {
			value = small_radicals
			culture = cu:greek
		}
		custom_tooltip = grefm.120.tt
	}
	
	orphan = yes # Seriously, you people should be using Morgenröte
	
}

grefm.121 = { # The University of Athens
	type = country_event
	placement = scope:university_state
	
	title = grefm.121.t
	desc = grefm.121.d
	flavor = grefm.121.f
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:university_benefactor
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		morgenrote_is_active = no
		country_has_primary_culture = cu:greek
		NOT = { has_variable = grefm_athens_university_considered }
		has_technology_researched = academia
		owns_entire_state_region = STATE_ATTICA
	}
	
	immediate = {
		ruler = { 
			save_scope_as = university_benefactor
		}
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = university_state
			}
		}
		set_variable = grefm_athens_university_considered
	}
	
	option = {
		name = grefm.121.a
		default_option = yes
		scope:university_state = {
			create_building = {
 				building = "building_university"
				level = 1
 			}
		}
		add_modifier = {
			name = modifier_grefm_funding_royal_university
			months = normal_modifier_time
			multiplier = money_amount_multiplier_small
		}
	}
	
	option = {
		name = grefm.121.b
		scope:university_benefactor = {
			add_modifier = {
				name = modifier_grefm_blocked_building_university
				months = normal_modifier_time
			}
		}
	}

}

grefm.122 = { # Patriarchal Academy of Constantinople
	type = country_event
	placement = scope:university_state

	title = grefm.122.t
	desc = grefm.122.d
	flavor = grefm.122.f

	duration = 3
	
	dlc = dlc_grefm

	gui_window = event_window_1char_tabloid

	left_icon = scope:university_benefactor

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	trigger = {
		country_has_primary_culture = cu:greek
		NOT = { has_variable = grefm_university_considered }
		has_technology_researched = romanticism
		owns_entire_state_region = STATE_EASTERN_THRACE
	}

	immediate = {
		ig:ig_intelligentsia = {
			leader = { 
				save_scope_as = university_benefactor
			}
		}
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = university_state
			}
		}
		set_variable = grefm_university_considered
	}

	option = {
		name = grefm.122.a
		default_option = yes
		trigger = {
			scope:university_state = {
				NOT = { has_building = building_university }
			}
		}
		scope:university_state = {
			create_building = {
 				building="building_university"
 				level=1
 				reserves=1
 			}
		}
		scope:university_benefactor.interest_group = {
			add_modifier = {
				name = modifier_university_built
				months = normal_modifier_time
			}
		}
	}
	
	option = {
		name = grefm.122.b
		trigger = {
			scope:university_state = {
				has_building = building_university
			}
		}
		scope:university_state = {
			add_modifier = {
 				name = modifier_byzfm_great_school_of_the_nation
 				months = normal_modifier_time
 			}
		}
	}

	option = {
		name = grefm.122.c
		scope:university_benefactor.interest_group = {
			add_modifier = {
				name = modifier_blocked_building_university
				months = normal_modifier_time
			}
		}
	}
}

grefm.123 = { # the women's council
	type = country_event
	placement = scope:grefm_capital_scope
	
	title = grefm.123.t
	desc = grefm.123.d
	flavor = grefm.123.f
	
	event_image = {
		video = "europenorthamerica_sufferage"
	}
	
	icon = "gfx/interface/icons/event_icons/event_election.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		capital = {
			save_scope_as = grefm_capital_scope
		}
		grefm_create_feminism_characters = yes
		random_character_in_void = {
			limit = {
				has_variable = grefm_is_kalliroi
			}
			save_scope_as = kalliroi_scope
		}
	}
	
	option = { # support the movement
		name = grefm.123.a
		default_option = yes
		custom_tooltip = {
			text= grefm.123.tt
		}
	}
	
	option = { # lol get back in the kitchen
		name = grefm.123.b
		add_radicals = {
			strata = low
			value = medium_radicals
		}
		set_variable = grefm_feminism_rejected
	}

}

grefm.124 = { # national council of greek women
	type = country_event
	placement = root
	
	title = grefm.124.t
	desc = grefm.124.d
	flavor = grefm.124.f
	
	event_image = {
		video = "europenorthamerica_sufferage"
	}
	
	icon = "gfx/interface/icons/event_icons/event_election.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		random_character_in_void = {
			limit = {
				has_variable = grefm_is_theodoropoulou
			}
			save_scope_as = theodoropoulou_scope
		}
	}
	
	option = {
		name = grefm.124.a
		default_option = yes
		trigger = {
			empty_agitator_slots >= 1
		}
		scope:theodoropoulou_scope = {
			transfer_character = this
			add_character_role = agitator
		}
		add_modifier = {
			name = modifier_grefm_greek_feminism
			months = normal_modifier_time
		}
	}
	
	option = {
		name = grefm.124.b
		add_modifier = {
			name = modifier_grefm_greek_feminism
			months = normal_modifier_time
		}
	}
}


#### MONUMENT EVENTS ####
# events in this group will allow certain monuments to be constructed

grefm.130 = { # Corinth Canal Surveyed
	type = country_event
	placement = scope:corinth_canal_site
	
	title = grefm.130.t
	desc = grefm.130.d
	flavor = grefm.130.f

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered by je_grefm_corinth_canal_survey
	}
	
	immediate = {
		s:STATE_PELOPONNESE = {
			random_scope_state = {
				save_scope_as = corinth_canal_site
			}
		}
		ig:ig_intelligentsia = {
			leader = {
				save_scope_as = ig_intelligentsia_scope
			}
		}
		set_variable = grefm_corinth_survey_complete
	}
	
	option = {
		name = grefm.130.a
		default_option = yes
		custom_tooltip = grefm.130.tt
	}
	
}

grefm.131 = { # Corinth Canal Completed
	type = country_event
	placement = scope:corinth_canal_site
	
	title = grefm.131.t
	desc = grefm.131.d
	flavor = grefm.131.f

	event_image = {
		video = "unspecific_world_fair"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		NOT = { has_global_variable = grefm_corinth_canal_built }
		s:STATE_PELOPONNESE = {
			has_building = building_corinth_canal
		}
	}

	immediate = {
		s:STATE_PELOPONNESE = {
			random_scope_state = {
				save_scope_as = corinth_canal_site
			}
		}
		set_global_variable = grefm_corinth_canal_built
	}

	option = {
		name = grefm.131.a
		default_option = yes
		add_loyalists = {
			culture = cu:greek
			value = medium_radicals
		}
	}

}

grefm.132 = { # The Royal Palace of Athens
	type = country_event
	placement = scope:palaia_anaktora_site
	
	title = grefm.132.t
	desc = grefm.132.d
	flavor = grefm.132.f

	event_image = {
		video = "unspecific_world_fair"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		NOT = { has_global_variable = grefm_palaia_built }
		s:STATE_ATTICA = {
			has_building = building_palaia_anaktora
		}
	}

	immediate = {
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = palaia_anaktora_site
			}
		}
		set_global_variable = grefm_palaia_built
	}
	
	option = { # 
		name = grefm.132.a
		default_option = yes
		if = {
			limit = {
				exists = c:BAV
			}
			change_relations = {
				country = c:BAV
				value = 25
			}
		}
	}

}

#### ARCHEAOLOGY EVENTS ####

grefm.140 = { # Archaeological Society of Athens
	type = country_event
	placement = root
	
	title = grefm.140.t
	desc = grefm.140.d
	flavor = grefm.140.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		set_variable = {
			name = grefm_archeaology_var
			value = 0
		}
		set_variable = {
			name = grefm_excavation_var
			value = 0
		}

	}
	
	option = {
		name = grefm.140.a
		default_option = yes
		custom_tooltip = {
			text = grefm.140.a.tt
		}
	}

}

grefm.141 = { # Excavation Team Departs
	type = country_event
	placement = root
	
	title = grefm.141.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = grefm.141.d1
				trigger = {
					NOT = { has_variable = grefm_gla_excavation }
				}
			}
			triggered_desc = {
				desc = grefm.141.d2
				trigger = {
					has_variable = grefm_gla_excavation
				}
			}
		}
	}
	flavor = grefm.141.f
	
	event_image = {
		video = "africa_construction_colony"
	}
	
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by scripted_buttons
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				has_variable = grefm_excavation_target
			}
			save_scope_as = grefm_excavation_site
		}
	}
	
	option = {
		name = grefm.141.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_active_excavation
		}
		show_as_tooltip = {
			add_modifier = modifier_grefm_active_excavation
		}
	}
	
	option = {
		name = grefm.141.b
		scope:grefm_excavation_site = {
			remove_variable = grefm_excavation_target
		}
		grefm_clear_artifact_variables = yes
	}

}

grefm.142 = { # gla complete
	type = country_event
	placement = root
	
	title = grefm.142.t
	desc = grefm.142.d
	flavor = grefm.142.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		remove_modifier = modifier_grefm_active_excavation
		remove_variable = grefm_gla_excavation
		set_variable = grefm_gla_complete
	}
	
	option = {
		name = grefm.142.a
		default_option = yes
		custom_tooltip = {
			text = grefm_excavation_completed_tt
			hidden_effect = {
				change_variable = {
					name = grefm_archeaology_var
					add = 1
				}
				grefm_artifact_modifier_effect = yes
			}
		}
	}

}

grefm.143 = { # parthenon 1 complete
	type = country_event
	placement = root
	
	title = grefm.143.t
	desc = grefm.143.d
	flavor = grefm.143.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		remove_modifier = modifier_grefm_active_excavation
		remove_variable = grefm_parthenon_1_excavation
		set_variable = grefm_parthenon_1_complete
	}
	
	option = {
		name = grefm.143.a
		default_option = yes
		custom_tooltip = {
			text = grefm_excavation_completed_tt
			hidden_effect = {
				change_variable = {
					name = grefm_archeaology_var
					add = 1
				}
				grefm_artifact_modifier_effect = yes
			}
		}
	}

}

grefm.144 = { # parthenon 2 complete
	type = country_event
	placement = root
	
	title = grefm.144.t
	desc = grefm.144.d
	flavor = grefm.144.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		remove_modifier = modifier_grefm_active_excavation
		remove_variable = grefm_parthenon_2_excavation
		set_variable = grefm_parthenon_2_complete
	}
	
	option = {
		name = grefm.144.a
		default_option = yes
		custom_tooltip = {
			text = grefm_excavation_completed_tt
			hidden_effect = {
				change_variable = {
					name = grefm_archeaology_var
					add = 1
				}
				grefm_artifact_modifier_effect = yes
			}
		}
	}

}

grefm.145 = { # mycenae 1 complete
	type = country_event
	placement = root
	
	title = grefm.145.t
	desc = grefm.145.d
	flavor = grefm.145.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		remove_modifier = modifier_grefm_active_excavation
		remove_variable = grefm_mycenae_1_excavation
		set_variable = grefm_knossos_1_complete
	}
	
	option = {
		name = grefm.145.a
		default_option = yes
		custom_tooltip = {
			text = grefm_excavation_completed_tt
			hidden_effect = {
				change_variable = {
					name = grefm_archeaology_var
					add = 1
				}
				grefm_artifact_modifier_effect = yes
			}
		}
	}

}

grefm.146 = { # mycenae 2 complete
	type = country_event
	placement = root
	
	title = grefm.146.t
	desc = grefm.146.d
	flavor = grefm.146.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		remove_modifier = modifier_grefm_active_excavation
		remove_variable = grefm_mycenae_2_excavation
		set_variable = grefm_knossos_2_complete
	}
	
	option = {
		name = grefm.146.a
		default_option = yes
		custom_tooltip = {
			text = grefm_excavation_completed_tt
			hidden_effect = {
				change_variable = {
					name = grefm_archeaology_var
					add = 1
				}
				grefm_artifact_modifier_effect = yes
			}
		}
	}

}

grefm.147 = { # delos complete
	type = country_event
	placement = root
	
	title = grefm.147.t
	desc = grefm.147.d
	flavor = grefm.147.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		remove_modifier = modifier_grefm_active_excavation
		remove_variable = grefm_delos_excavation
		set_variable = grefm_delos_complete
	}
	
	option = {
		name = grefm.147.a
		default_option = yes
		custom_tooltip = {
			text = grefm_excavation_completed_tt
			hidden_effect = {
				change_variable = {
					name = grefm_archeaology_var
					add = 1
				}
				grefm_artifact_modifier_effect = yes
			}
		}
	}

}

grefm.148 = { # delos complete
	type = country_event
	placement = root
	
	title = grefm.148.t
	desc = grefm.148.d
	flavor = grefm.148.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		remove_modifier = modifier_grefm_active_excavation
		remove_variable = grefm_larissa_excavation
		set_variable = grefm_larissa_complete
	}
	
	option = {
		name = grefm.148.a
		default_option = yes
		custom_tooltip = {
			text = grefm_excavation_completed_tt
			hidden_effect = {
				change_variable = {
					name = grefm_archeaology_var
					add = 1
				}
				grefm_artifact_modifier_effect = yes
			}
		}
	}

}

grefm.149 = { # rhodes complete
	type = country_event
	placement = root
	
	title = grefm.149.t
	desc = grefm.149.d
	flavor = grefm.149.f
	
	event_image = {
		video = "byzfm_ruins"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		remove_modifier = modifier_grefm_active_excavation
		remove_variable = grefm_rhodes_excavation
		set_variable = grefm_rhodes_complete
	}
	
	
	option = {
		name = grefm.149.a
		default_option = yes
		custom_tooltip = {
			text = grefm_excavation_completed_tt
			hidden_effect = {
				change_variable = {
					name = grefm_archeaology_var
					add = 1
				}
				grefm_artifact_modifier_effect = yes
			}
		}
	}

}


#### EXCAVATION EVENTS ####

grefm.150 = { # Excavation Positive Progress
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		has_variable = grefm_excavation_var
	}
	
	immediate = {
		post_notification = notification_grefm_steady_progress
		change_variable = {
			name = grefm_excavation_var
			add = 4
		}
	}

}

grefm.151 = { # Excavation Heavy Equipment Needed
	type = country_event
	placement = root
	
	title = grefm.151.t
	desc = grefm.151.d
	flavor = grefm.151.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		var:grefm_excavation_var > 6
		NOT = {
			has_modifier = modifier_grefm_provided_heavy_equipment
		}
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_active_excavation
		}
	}
	
	immediate = {
	}
	
	option = { # bulldozer go brrrrr
		name = grefm.151.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_provided_heavy_equipment
			months = short_modifier_time
			multiplier = money_amount_multiplier_small
		}
		custom_tooltip = {
			text = grefm.151.a.tt
			hidden_effect = {
				change_variable = {
					name = grefm_excavation_var
					add = 6
				}
			}
		}
	}
	
	option = { # idk work the plebs harder
		name = grefm.151.b
		custom_tooltip = {
			text = grefm.151.b.tt
			hidden_effect = {
				change_variable = {
					name = grefm_excavation_var
					subtract = 6
				}
			}
		}
	}

}

grefm.152 = { # Excavation Tomb Uncovered
	type = country_event
	placement = root
	
	title = grefm.152.t
	desc = grefm.152.d
	flavor = grefm.152.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		var:grefm_excavation_var > 6
		NOT = {
			has_modifier = modifier_grefm_discovered_ancient_palace
		}
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_active_excavation
		}
	}
	
	immediate = {
	}
	
	cooldown = {
		years = 10 # this fired way too much in testing
	}
	
	option = { # take your time
		name = grefm.152.a
		default_option = yes
		custom_tooltip = {
			text = grefm.152.a.tt
			hidden_effect = {
				change_variable = {
					name = grefm_excavation_var
					subtract = 6
				}
			}
		}
		add_modifier = {
			name = modifier_grefm_unearthed_tomb
			months = normal_modifier_time
		}
	}
	
	option = { # they're dead who gives a fuck
		name = grefm.152.b
		add_radicals = {
			pop_type = academics
			value = medium_radicals
		}
	}

}

grefm.153 = { # Excavation Minor Collapse
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		var:grefm_excavation_var > 4
	}
	
	immediate = {
		post_notification = notification_grefm_minor_collapse
		change_variable = {
			name = grefm_excavation_var
			subtract = 4
		}
	}

}

grefm.154 = { # Excavation Major Collapse
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		var:grefm_excavation_var > 12
		NOT = { has_variable = grefm_collapse_lessons_learned }
	}
	
	immediate = {
		set_variable = grefm_collapse_lessons_learned
		post_notification = notification_grefm_major_collapse
		change_variable = {
			name = grefm_excavation_var
			subtract = 12
		}
	}

}

grefm.155 = { # Excavation Popular Interest
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		var:grefm_excavation_var > 4
		NOT = {
			has_modifier = modifier_grefm_popular_excavation_project
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				has_variable = grefm_excavation_target
			}
			save_scope_as = grefm_excavation_site
		}
		post_notification = notification_grefm_popular_interest
		scope:grefm_excavation_site = {
			add_modifier = {
				name = modifier_grefm_popular_excavation_project
				months = normal_modifier_time
			}
		}
	}

}

grefm.156 = { # Excavation Palace Uncovered
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		var:grefm_excavation_var > 12
		NOT = {
			has_modifier = modifier_grefm_discovered_ancient_palace
		}
	}
	
	immediate = {
		post_notification = notification_grefm_palace_discovered
		add_modifier = {
			name = modifier_grefm_discovered_ancient_palace
			months = normal_modifier_time
		}
	}

}

grefm.157 = { # The Mask of Agammemnon
	type = country_event
	placement = root
	
	title = grefm.157.t
	desc = grefm.157.d
	flavor = grefm.157.f
	
	event_image = {
		video = "grefm_mask_of_agammemnon"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		morgenrote_is_active = no
		NOT = { has_global_variable = grefm_agammemnon_found }
		has_variable = grefm_archeaology_var
		var:grefm_archeaology_var > 4
	}
	
	immediate = {
		set_global_variable = grefm_agammemnon_found
		s:STATE_PELOPONNESE = {
			random_scope_state = {
				save_scope_as = peloponnese_scope
			}
		}
	}
	
	option = {
		name = grefm.157.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_found_agammemnon
			months = normal_modifier_time
		}
		scope:peloponnese_scope = {
			add_loyalists_in_state = {
				pop_type = academics
				value = medium_radicals
			}
		}	
	}

}

grefm.158 = { # Politician Offers Funding
	type = country_event
	placement = root
	
	title = grefm.158.t
	desc = grefm.158.d
	flavor = grefm.158.f
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:grefm_benefactor_scope
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = {
			any_interest_group = {
				has_modifier = modifier_grefm_supported_excavation  # can't already be supporting a dig
			}
		}	
		any_interest_group = {
			law_stance = {
				law = law_type:law_no_schools # should favor some type of education
				value > neutral
			}
			is_marginal = no # because where will the money come from
		}
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_active_excavation
		}
	}
	
	immediate = {
		switch = {
			trigger = has_variable
			grefm_parthenon_1_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_parthenon_2_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_mycenae_1_excavation = {
				s:STATE_CRETE = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_mycenae_2_excavation = {
				s:STATE_CRETE = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_gla_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_delos_excavation = {
				s:STATE_WEST_AEGEAN_ISLANDS = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_larissa_excavation = {
				s:STATE_THESSALIA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_rhodes_excavation = {
				s:STATE_EAST_AEGEAN_ISLANDS = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
		}		
		random_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_no_schools
					value > neutral
				}
				NOT = {
					has_modifier = modifier_grefm_supported_excavation
				}
				is_marginal = no
			}
			save_scope_as = grefm_benefactor_scope
		}
	}
	
	option = {
		name = grefm.158.a
		default_option = yes
		scope:grefm_benefactor_scope = {
			add_modifier = {
				name = modifier_grefm_supported_excavation
				months = normal_modifier_time
			}
		}
		custom_tooltip = {
			text = grefm.158.tt
			hidden_effect = {
				change_variable = {
					name = grefm_excavation_var
					add = 6
				}
			}
		}
			
	}
	
	option = {
		name = grefm.158.b
		scope:grefm_benefactor_scope = {
			add_modifier = {
				name = modifier_grefm_support_rejected
				months = normal_modifier_time
			}
		}
		add_radicals = {
			pop_type = academics
			value = small_radicals
		}
	}

}

grefm.159 = { # Reconstruction Garners Criticism
	type = country_event
	placement = root
	
	title = grefm.159.t
	desc = grefm.159.d
	flavor = grefm.159.f
	
	event_image = {
		video = "europenorthamerica_art_gallery"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		var:grefm_excavation_var > 12
	}
	
	cancellation_trigger = {
		NOT = {
			has_journal_entry = je_grefm_active_excavation
		}
	}
	
	cooldown = {
		years = 10
	}	
	
	immediate = {
		switch = {
			trigger = has_variable
			grefm_parthenon_1_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_parthenon_2_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_mycenae_1_excavation = {
				s:STATE_CRETE = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_mycenae_2_excavation = {
				s:STATE_CRETE = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_gla_excavation = {
				s:STATE_ATTICA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_delos_excavation = {
				s:STATE_WEST_AEGEAN_ISLANDS = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_larissa_excavation = {
				s:STATE_THESSALIA = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
			grefm_rhodes_excavation = {
				s:STATE_EAST_AEGEAN_ISLANDS = {
					random_scope_state = {
						save_scope_as = grefm_excavation_target
					}
				}
			}
		}
	}
	
	option = { # Meh, it's good enough
		name = grefm.159.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_bad_reconstruction
			months = normal_modifier_time
		}
		add_radicals = {
			pop_type = academics
			value = small_radicals
		}
	}
	
	option = { # Rebuilt it right, or don't rebuild it at all
		name = grefm.159.b
		custom_tooltip = {
			text = grefm.159.b.tt
			hidden_effect = {
				change_variable = {
					name = grefm_excavation_var
					subtract = 6
				}
			}
		}
		add_loyalists = {
			pop_type = academics
			value = medium_radicals
		}
	}

}

#### MINOR INTERATIONAL EVENTS ####

grefm.160 = { # A Bulgarian Visitor
	type = country_event
	placement = root
	
	title = grefm.160.t
	desc = grefm.160.d
	flavor = grefm.160.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by balkfm.515
	}
	
	immediate = {
		c:BUL = {
			save_scope_as = bulgaria_scope
			ruler = {
				save_scope_as = bulgaria_ruler_scope
			}
		}
		capital = {
			save_scope_as = greece_capital_scope
		}
	}
	
	option = {
		name = grefm.160.a
		default_option = yes
		c:BUL = {
			set_variable = grefm_warm_reception
		}
		change_relations = {
			country = c:BUL
			value = 15
		}
		ai_chance = {
			base = 5
			modifier = {
				trigger = {
					c:BUL = {
						relations:root > relations_threshold:neutral
					}
				}
				add = 50
			}
		}
	}
	
	option = {
		name = grefm.160.b
		c:BUL = {
			set_variable = grefm_cold_reception
		}
		change_relations = {
			country = c:TUR
			value = 15
		}
		ai_chance = {
			base = 5
			modifier = {
				trigger = {
					c:BUL = {
						relations:root <= relations_threshold:neutral
					}
				}
				add = 20
			}
		}
	}

}

grefm.161 = { # The Don Pacifico Affair
	type = country_event
	placement = scope:attica_state_scope
	
	title = grefm.161.t
	desc = {
		triggered_desc = {
			desc = grefm.161.d1
			trigger = {
				c:POR = this
			}
		}
		triggered_desc = {
			desc = grefm.161.d2
			trigger = {
				c:GBR = this
			}
		}
		triggered_desc = {
			desc = grefm.161.d3
			trigger = {
				c:GRE = this
			}
		}
	}
	flavor = grefm.161.f
	
	event_image = {
		video = "unspecific_vandalized_storefront"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_state_scope
			}
		}
		c:GRE = {
			save_scope_as = greece_scope
		}
		c:GBR = {
			save_scope_as = uk_scope
		}
		c:POR = {
			save_scope_as = portugal_scope
		}
	}
	
	option = { # Seek Redress (POR)
		name = grefm.161.por1
		default_option = yes
		trigger = {
			c:POR = this
		}
		c:GBR = {
			trigger_event = {
				id = grefm.161 # this event for GBR to consider
				days = 15
			}
		}
		change_relations = {
			country = c:GBR
			value = -15
		}
		ai_chance = {
			base = 1000 # should almost always happen
		}
	}
	
	option = { # Let it Slide (POR)
		name = grefm.161.por2
		trigger = {
			c:POR = this
		}
		add_modifier = {
			name = modifier_grefm_abandoned_don_pacifico
			months = normal_modifier_time
		}
		ai_chance = {
			base = 1 # should almost never happen
		}
	}
	
	option = { # Support Portugal (GBR)
		name = grefm.161.gbr1
		trigger = {
			c:GBR = this
		}
		c:GRE = {
			trigger_event = {
				id = grefm.161 # this event for GRE to consider
				days = 15
			}
		}
		change_relations = {
			country = c:GRE
			value = -15
		}
		change_relations = {
			country = c:POR
			value = 25
		}
		c:POR = {
			c:GBR = {
				save_scope_as = uk_scope
			}
			post_notification = notification_don_pacifico_gbr1
		}
	}
	
	option = { # Simp for Greece (GBR)
		name = grefm.161.gbr2
		trigger = {
			c:GBR = this
		}
		change_relations = {
			country = c:POR
			value = -15
		}
		change_relations = {
			country = c:GRE
			value = 25
		}
		c:POR = {
			c:GBR = {
				save_scope_as = uk_scope
			}
			post_notification = notification_don_pacifico_gbr2
		}
	}
	
	option = { # Offer Reparations (GRE)
		name = grefm.161.gre1
		trigger = {
			c:GRE = this
		}
		c:GBR = {
			c:GRE = {
				save_scope_as = greece_scope
			}
			post_notification = notification_don_pacifico_gre1
		}
		c:POR = {
			c:GRE = {
				save_scope_as = greece_scope
			}
			post_notification = notification_don_pacifico_gre1
		}
		add_modifier = {
			name = modifier_grefm_chastized_mob
			months = normal_modifier_time
		}
		add_treasury = -35700 # Don Pacifico demanded £32,000 plus 10% interest for his property plus an additional £500 for physical mistreatment
		add_radicals = {
			strata = poor
			value = small_radicals
		}
		change_relations = {
			country = c:POR
			value = 20
		}
		change_relations = {
			country = c:GBR
			value = 20
		}
	}
	
	option = { # Reject Any Compromise (GRE)
		name = grefm.161.gre2
		trigger = {
			c:GRE = this
		}
		c:GBR = {
			c:GRE = {
				save_scope_as = greece_scope
			}
			post_notification = notification_don_pacifico_gre2
		}
		c:POR = {
			c:GRE = {
				save_scope_as = greece_scope
			}
			post_notification = notification_don_pacifico_gre2
		}
		add_modifier = {
			name = modifier_grefm_rejected_compromise
			months = normal_modifier_time
		}
		add_loyalists = {
			strata = poor
			value = small_radicals
		}
		change_relations = {
			country = c:POR
			value = -20
		}
		change_relations = {
			country = c:GBR
			value = -25
		}
	}

}

##################################################
##	#GRE2	GREEK NATIONALISM	Events 200-299	##
##################################################

#### THE MEGALI IDEA ####

grefm.200 = { # The Lands of Thessaly
	type = country_event
	placement = root
	
	title = grefm.200.t
	desc = grefm.200.d
	flavor = grefm.200.f
	
	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = grefm_thessaly_reminded }
		c:GRE ?= this
		NOT = { has_truce_with = c:TUR }
		NOT = { owns_entire_state_region = STATE_THESSALIA }
	}
	
	immediate = {
		set_global_variable = grefm_thessaly_reminded
		s:STATE_THESSALIA = {
			random_scope_state = {
				save_scope_as = grefm_thessaly_scope
			}
		}
	}	
	
	option = {
		name = grefm.200.a
		default_option = yes
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_THESSALIA
					owns_entire_state_region = STATE_THESSALIA
				}
			}
			s:STATE_THESSALIA = {
				add_claim = ROOT
			}
		}
	}
}


grefm.201 = { # The Megali Idea
	type = country_event
	placement = root

	title = grefm.201.t
	desc = grefm.201.d
	flavor = grefm.201.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { 
		# triggered by je_megali_idea
	}

	immediate = {
	}

	option = { # Vanilla Claims Option, merged into one event
		name = grefm.201.a
		default_option = yes
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_EASTERN_THRACE
					has_claim = s:STATE_EASTERN_THRACE
				}
			}
			s:STATE_EASTERN_THRACE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					owns_entire_state_region = STATE_MACEDONIA
					has_claim = s:STATE_MACEDONIA
				}
			}
			s:STATE_MACEDONIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_SKOPIA
					has_claim = s:STATE_SKOPIA
				}
			}
			s:STATE_SKOPIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_WESTERN_THRACE
					has_claim = s:STATE_WESTERN_THRACE
				}
			}
			s:STATE_WESTERN_THRACE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					owns_entire_state_region = STATE_NORTHERN_THRACE
					has_claim = s:STATE_NORTHERN_THRACE
				}
			}
			s:STATE_NORTHERN_THRACE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_HUDAVENDIGAR
					has_claim = s:STATE_HUDAVENDIGAR
				}
			}
			s:STATE_HUDAVENDIGAR = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_AYDIN
					has_claim = s:STATE_AYDIN
				}
			}
			s:STATE_AYDIN = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
					has_claim = s:STATE_WEST_AEGEAN_ISLANDS
				}
			}
			s:STATE_WEST_AEGEAN_ISLANDS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_EAST_AEGEAN_ISLANDS
					has_claim = s:STATE_EAST_AEGEAN_ISLANDS
				}
			}
			s:STATE_EAST_AEGEAN_ISLANDS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_ALBANIA }
			}
			s:STATE_ALBANIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = { 
					owns_entire_state_region = STATE_CRETE
					has_claim = s:STATE_CRETE
				}
			}
			s:STATE_CRETE = {
				add_claim = ROOT
			}
		}
		trigger_event = {
			id = grefm.210 # Greek Separatism
			days = 30
		}
		if = {
			limit = {
				c:ION ?= this
				has_dlc_feature = lobbies
			}
			trigger_event = {
				id = grefm.420
				days = 30
			}
		}
	}
	
	option = { # vanilla option 2
		name = grefm.201.b
		custom_tooltip = {
			text = grefm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
			}
		}
		add_radicals = {
			culture = cu:greek
			value = large_radicals
		}
	}
	
}

grefm.202 = { # The Future of Greece
	## Pre-2.0 BYZ path branching occurred in byzfm.006 (byzantium.6 in the old structure)
	## This event now provides branches into byzfm.300, eocfm.300, grefm.300, or grefm.203
	## BUL uses balkfm.570 via balkfm.587
	## ROM uses balkfm.673 and pivots to byzfm.305 via balkfm.679
	type = country_event
	placement = root
	
	title = grefm.202.t
	desc = grefm.202.d
	flavor = grefm.202.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by JE
	}
	
	immediate = {
		set_global_variable = grefm_megali_idea_complete
	}
	
	option = { # The Purple Pheonix
		name = grefm.202.1
		default_option = yes
		trigger = {
			NOT = { has_variable = byzfm_weaksauce }
		}
		custom_tooltip = {
			text = byzfm_the_purple_phoenix_tt
			hidden_effect = {
				trigger_event = {
					id = byzfm.300 # The Pheonix Rises
					days = 1 # lets the names update
					popup = yes
				}
			}
		}
		change_tag = BYZ
		set_variable = byzfm_byzantium_formed
		set_variable = byzfm_purple_phoenix
	}	
	
	option = { # The Revenge of the Greeks
		name = grefm.202.2
		trigger = {
			NOT = { has_variable = byzfm_weaksauce }
		}
		custom_tooltip = {
			text = byzfm_the_revenge_of_the_greeks_tt
			hidden_effect = {
				trigger_event = {
					id = grefm.300 # The Vergina Sun Rises
					days = 1 # lets the names update
					popup = yes
				}
			}
		}
		change_tag = BYZ
		set_variable = byzfm_byzantium_formed
		set_variable = byzfm_revenge_of_the_greeks
	}

	option = { # The Orthodox Realms
		name = grefm.202.3
		trigger = {
			NOT = { has_variable = byzfm_weaksauce }
		}
		custom_tooltip = {
			text = byzfm_the_orthodox_realms_tt
			hidden_effect = {
				trigger_event = {
					id = eocfm.300 # The Partiarchate Rises
					days = 1 # lets the names update
					popup = yes
				}
			}
		}
		change_tag = BYZ
		set_variable = byzfm_byzantium_formed
		set_variable = byzfm_texas_left # this is an old variable from before the three path system; it used to put you on a quick detour to capture Crimea and Georgia before returning to the Roman Empire restoration; it still handles the eocfm path for legacy reasons
	}

	option = { # whimpy whimpy whimpy
		name = grefm.202.4
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
				set_variable = grefm_tzatzikisauce
			}
		}
		custom_tooltip = {
			text = grefm_tzatzikisauce_tt
			hidden_effect = {
				trigger_event = {
					id = grefm.203 # Greater Greece
					days = 30
				}
			}
		}
	}
}

grefm.203 = { # Greater Greece
	type = country_event
	placement = root
	
	title = grefm.203.t
	desc = grefm.203.d
	flavor = grefm.203.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		#	triggered by grefm.202
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.203.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_greater_greece
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_CRETE }
			}
			s:STATE_CRETE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_CYPRUS }
			}
			s:STATE_CYPRUS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_KASTAMONU }
			}
			s:STATE_KASTAMONU = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_TRABZON }
			}
			s:STATE_TRABZON = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_ADANA }
			}
			s:STATE_ADANA = {
				add_claim = ROOT
			}
		}
	}
	
	option = {
		name = grefm.203.b
		add_modifier = {
			name = modifier_grefm_rebirth
			months = very_long_modifier_time
		}
		custom_tooltip = {
			text = grefm_weaksauce_tt
			hidden_effect = {
				set_variable = grefm_weaksauce
			}
		}
	}

}

grefm.204 = { # A Greek Domain
	type = country_event
	placement = root
	
	title = grefm.204.t
	desc = grefm.204.d
	flavor = grefm.204.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.204.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_greek_resurgence
			months = long_modifier_time
		}
	}

}

#### REVOLT EVENTS ####

grefm.210 = { # Greek Separatism
	type = country_event
	placement = root
	
	title = grefm.210.t
	desc = grefm.210.d
	flavor = grefm.210.f
	
	event_image = {
		video = "votp_agitator_speaking"
	}
	
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm.201 / grefm.219
	}
	
	immediate = {
		random_country = {
			limit = {
				has_journal_entry = je_grefm_greek_separatism_main
			}
			save_scope_as = grefm_greece_scope
		}
	}
	
	option = {
		name = grefm.210.a
		default_option = yes
		trigger = {
			country_has_primary_culture = cu:greek
		}
		if = {	
			limit = {
				NOT = {
					has_journal_entry = je_grefm_greek_separatism_main
				}
			}
			add_journal_entry = {
				type = je_grefm_greek_separatism_main
			}
		}
		custom_tooltip = grefm.210.tt1
		custom_tooltip = grefm.210.tt2
	}

	option = {
		name = grefm.210.b
		trigger = {
			grefm_is_muslim_trigger = yes
		}
		add_journal_entry = {
			type = je_grefm_greek_separatism_sub
		}
		custom_tooltip = grefm.210.tt2
		custom_tooltip = grefm.210.tt3
	}
	
}

grefm.211 = { # Greek Provocations in State (GRE)
	type = country_event
	placement = scope:grefm_provocation_state_scope
	
	title = grefm.211.t
	desc = grefm.211.d
	flavor = grefm.211.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_greek_separatism_main
	}
	
	immediate = {
		random_state = {
			limit = {
				has_variable = grefm_provocation_state_target
			}
			save_scope_as = grefm_provocation_state_scope
			owner = {
				save_scope_as = grefm_provocation_owner_scope
			}
		}
	}
	
	option = {
		name = grefm.211.a
		default_option = yes
		create_incident = {
			country = scope:grefm_provocation_owner_scope
			value = 5
		}
		scope:grefm_provocation_state_scope = {
			remove_variable = grefm_provocation_state_target
		}
	}
	
}

grefm.212 = { # Greek Uprising in State (GRE)
	type = country_event
	placement = scope:grefm_revolt_scope
	
	title = grefm.212.t
	desc = grefm.212.d
	flavor = grefm.212.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm.215/216/217/259
	}
	
	immediate = {
		random_country = {
			limit = {
				has_variable = grefm_owner_tracker
			}
			save_scope_as = grefm_owner_scope
		}
		random_country = {
			limit = {
				has_variable = grefm_revolt_tracker
			}
			save_scope_as = grefm_revolt_scope
		}
		random_diplomatic_play = {
			limit = {
				scope:grefm_owner_scope = {
					is_diplomatic_play_initiator = yes
				}
				scope:grefm_revolt_scope = {
					is_diplomatic_play_target = yes
				}
			}
			save_scope_as = grefm_greek_revolt_play_scope
		}
	}
	
	option = { # Send Thoughts and Prayers
		name = grefm.212.a
		default_option = yes
	}
	
	option = { # Jump in to Help
		name = grefm.212.b
		trigger = {
			exists = scope:grefm_greek_revolt_play_scope
		}
		if = {
			limit = {
				has_truce_with = scope:grefm_owner_scope
			}
			end_truce = scope:grefm_owner_scope
		}
		scope:grefm_greek_revolt_play_scope = {
			add_target_backers = root
		}
	} 
	} # This extra closing bracket makes the file work. Please don't question this.
	
	after = {
		scope:grefm_revolt_scope = {
			remove_variable = grefm_revolt_tracker
		}
	}

}

grefm.213 = { # OPEN
	orphan = yes
}

grefm.214 = { # The Makedonijan Revolt (TUR/EGY)
	type = country_event
	placement = scope:skopia_state_scope
	
	title = grefm.214.t
	desc = grefm.214.d
	flavor = grefm.214.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_SKOPIA
		any_country = { has_modifier = modifier_grefm_supporting_skopia }
		NOT = { has_global_variable = grefm_revolt_cooldown }
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
		OR = {
			s:STATE_SKOPIA = {
				any_scope_state = {
					radical_fraction = {
						value >= 0.40
						culture = cu:greek
					}
				}
			}
			AND = {
				s:STATE_SKOPIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:greek
						}
					}
				}
				is_at_war = yes
			}
		}
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_SKOPIA = {
			random_scope_state = {
				save_scope_as = skopia_state_scope
			}
		}
		create_country = {
			tag = NMAC
			origin = this
			state = scope:skopia_state_scope
		}
		c:NMAC = {
			save_scope_as = makedonija_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:NMAC
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:NMAC
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.214.a
		default_option = yes
		c:NMAC = {
			make_independent = yes
		}
		end_truce = c:NMAC
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:NMAC
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:NMAC = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_SKOPIA.region_state:NMAC
				}
				add_war_goal = {
					holder = c:NMAC
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:NMAC
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:greek
			}
			trigger_event = {
				id = grefm.212 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.214.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:NMAC
			type = protectorate
		}
	}
	
}

grefm.215 = { # The Epirote Revolt (TUR/EGY)
	type = country_event
	placement = scope:albania_state_scope
	
	title = grefm.215.t
	desc = grefm.215.d
	flavor = grefm.215.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_ALBANIA
		owns_entire_state_region = STATE_THESSALIA
		any_country = { has_modifier = modifier_grefm_supporting_epirus }
		NOT = { has_global_variable = grefm_revolt_cooldown }
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
		OR = {
			AND = {
				s:STATE_ALBANIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.40
							culture = cu:greek
						}
					}
				}
				s:STATE_THESSALIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.40
							culture = cu:greek
						}
					}
				}		
			}
			AND = {
				s:STATE_ALBANIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:greek
						}
					}
				}
				s:STATE_THESSALIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:greek
						}
					}
				}
				is_at_war = yes
			}
		}
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_ALBANIA = {
			random_scope_state = {
				save_scope_as = albania_state_scope
			}
		}
		create_country = {
			tag = EPI
			origin = this
			province = p:xC42EC6
			province = p:x7BE071
			province = p:x18C9AD
			province = p:x01D0E0
			province = p:x8050E0
			on_created = {
			}
		}
		c:EPI = {
			save_scope_as = epirus_scope
			create_epirus_characters = yes
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:EPI
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:EPI
			months = 60
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_ALBANIA
			}
			every_scope_pop = {
				limit = {
					culture = cu:greek
				}
				move_pop = s:STATE_ALBANIA.region_state:EPI
			}
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
	
	option = { # Get the Whip
		name = grefm.215.a
		default_option = yes
		c:EPI = {
			make_independent = yes
		}
		end_truce = c:EPI
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:EPI
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:EPI = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_ALBANIA.region_state:EPI
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_THESSALIA.region_state:EPI
				}
				add_war_goal = {
					holder = c:EPI
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:EPI
					value = 100
				}
			}
			change_infamy = -10
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:greek
			}
			trigger_event = {
				id = grefm.212 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.215.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:EPI
			type = protectorate
		}
	}
	
}

grefm.216 = { # The Cypriot Revolt (TUR/EGY)
	type = country_event
	placement = scope:cyprus_state_scope
	
	title = grefm.216.t
	desc = grefm.216.d
	flavor = grefm.216.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_CYPRUS
		any_country = { has_modifier = modifier_grefm_supporting_cyprus }
		NOT = { has_global_variable = grefm_revolt_cooldown }
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
		OR = {
			s:STATE_CYPRUS = {
				any_scope_state = {
					radical_fraction = {
						value >= 0.40
						culture = cu:greek
					}
				}
			}
			AND = {
				s:STATE_CYPRUS = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:greek
						}
					}
				}
				is_at_war = yes
			}
		}
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_CYPRUS = {
			random_scope_state = {
				save_scope_as = cyprus_state_scope
			}
		}
		create_country = {
			tag = CYP
			origin = this
			state = scope:cyprus_state_scope
		}
		c:CYP = {
			save_scope_as = cyprus_scope
			create_cyprus_characters = yes
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:CYP
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:CYP
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker		
	}	
		
	option = { # Get the Whip
		name = grefm.216.a
		default_option = yes
		c:CYP = {
			make_independent = yes
		}
		end_truce = c:CYP
		create_diplomatic_play = {
			name = grefm_cyprus_rebellion
			target_country = c:CYP
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:CYP = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_CYPRUS.region_state:CYP
				}
				add_war_goal = {
					holder = c:CYP
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:CYP
					value = 100
				}
			}
			change_infamy = -5
		}
		hidden_effect = {
			every_country = {
				limit = {
					country_has_primary_culture = cu:greek
				}
				trigger_event = {
					id = grefm.212 # Greek Uprising in State (GRE)
				}
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.216.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:CYP
			type = protectorate
		}
	}
	
}

grefm.217 = { # The Macedonian Revolt (TUR/EGY)
	type = country_event
	placement = scope:macedonia_state_scope
	
	title = grefm.217.t
	desc = grefm.217.d
	flavor = grefm.217.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_MACEDONIA
		any_country = { has_modifier = modifier_grefm_supporting_macedonia }
		NOT = { has_global_variable = grefm_revolt_cooldown }
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
		OR = {
			s:STATE_MACEDONIA = {
				any_scope_state = {
					radical_fraction = {
						value >= 0.40
						culture = cu:greek
					}
				}
			}
			AND = {
				s:STATE_MACEDONIA = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:greek
						}
					}
				}
				is_at_war = yes
			}
		}
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_MACEDONIA = {
			random_scope_state = {
				save_scope_as = macedonia_state_scope
			}
		}
		create_country = {
			tag = MAC
			origin = this
			state = scope:macedonia_state_scope
		}
		c:MAC = {
			save_scope_as = macedonia_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:MAC
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:MAC
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.217.a
		default_option = yes
		c:MAC = {
			make_independent = yes
		}
		end_truce = c:MAC
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:MAC
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:MAC = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_MACEDONIA.region_state:MAC
				}
				add_war_goal = {
					holder = c:MAC
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:MAC
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:greek
			}
			trigger_event = {
				id = grefm.212 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.217.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:MAC
			type = protectorate
		}
	}
	
}

grefm.218 = { # The Smyrna Revolt (TUR/EGY)
	type = country_event
	placement = scope:aydin_state_scope
	
	title = grefm.218.t
	desc = grefm.218.d
	flavor = grefm.218.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_AYDIN
		any_country = { has_modifier = modifier_grefm_supporting_smyrna }
		NOT = { has_global_variable = grefm_revolt_cooldown }
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
		OR = {
			s:STATE_AYDIN = {
				any_scope_state = {
					radical_fraction = {
						value >= 0.40
						culture = cu:greek
					}
				}
			}
			AND = {
				s:STATE_AYDIN = {
					any_scope_state = {
						radical_fraction = {
							value >= 0.33
							culture = cu:greek
						}
					}
				}
				is_at_war = yes
			}
		}
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_AYDIN = {
			random_scope_state = {
				save_scope_as = aydin_state_scope
			}
		}
		create_country = {
			tag = SMYR
			origin = this
			state = scope:aydin_state_scope
		}
		c:SMYR = {
			save_scope_as = smyrna_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:SMYR
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:SMYR
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.218.a
		default_option = yes
		c:SMYR = {
			make_independent = yes
		}
		end_truce = c:SMYR
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:SMYR
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:SMYR = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_AYDIN.region_state:SMYR
				}
				add_war_goal = {
					holder = c:SMYR
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:SMYR
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:greek
			}
			trigger_event = {
				id = grefm.212 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.218.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:SMYR
			type = protectorate
		}
	}
	
}

grefm.219 = { # Reassigns the Revolt Journals
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		grefm_is_muslim_trigger = yes
		NOR = { 
			has_journal_entry = je_grefm_greek_separatism_sub
			has_law = law_type:law_multicultural
		}
		any_country = {
			has_journal_entry = je_grefm_greek_separatism_main
		}
		OR = {
			owns_entire_state_region = STATE_MACEDONIA
			owns_entire_state_region = STATE_SKOPIA
			owns_entire_state_region = STATE_ALBANIA
			owns_entire_state_region = STATE_AYDIN
			owns_entire_state_region = STATE_CRETE
			owns_entire_state_region = STATE_CYPRUS
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					has_variable = grefm_separatism_received
				}
			}
			trigger_event = {
				id = grefm.210 # Greek Separatism
			}
			set_variable = grefm_separatism_received
		}
		else = {
			add_journal_entry = {
				type = je_grefm_greek_separatism_sub
			}
			post_notification = notitification_grefm_separatism_received
		}
	}

}

#### ANNEXATION EVENTS ####

grefm.220 = { # ION annexation
	type = country_event
	placement = scope:ionian_overlord_capital

	title = grefm.220.t
	desc = grefm.220.d
	flavor = grefm.220.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by decision
	}

	immediate = {
		c:ION = {
			save_scope_as = ionian_country
			top_overlord = {
				save_scope_as = ionian_overlord
				capital = {
					save_scope_as = ionian_overlord_capital
				}
			}
		}
	}

	option = {
		name = grefm.220.a
		default_option = yes
		annex = c:ION
		add_loyalists = {
			culture = cu:greek
			value = small_radicals
		}
	}
}


grefm.221 = { # EPI annexation
	type = country_event
	placement = scope:epirus_capital
	
	title = grefm.221.t
	desc = grefm.221.d
	flavor = grefm.221.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:EPI = {
			save_scope_as = epirus_scope
			capital = {
				save_scope_as = epirus_capital
			}
		}
	}

	option = {
		name = grefm.221.a
		default_option = yes
		annex = c:EPI
		add_loyalists = {
			culture = cu:greek
			value = small_radicals
		}
		if = {
			limit = {
				NOT = { has_claim = s:STATE_ALBANIA }
			}
			s:STATE_ALBANIA = {
				add_claim = ROOT
			}
		}
	}
}

grefm.222 = { # CYP annexation
	type = country_event
	placement = scope:cyprus_capital
	
	title = grefm.222.t
	desc = grefm.222.d
	flavor = grefm.222.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:CYP = {
			save_scope_as = cyprus_scope
			capital = {
				save_scope_as = cyprus_capital
			}
		}
	}

	option = {
		name = grefm.222.a
		default_option = yes
		annex = c:CYP
		add_loyalists = {
			culture = cu:greek
			value = small_radicals
		}
	}
}

grefm.223 = { # CRE annexation
	type = country_event
	placement = scope:crete_capital
	
	title = grefm.223.t
	desc = grefm.223.d
	flavor = grefm.223.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:CRE = {
			save_scope_as = crete_scope
			capital = {
				save_scope_as = crete_capital
			}
		}
	}

	option = {
		name = grefm.223.a
		default_option = yes
		annex = c:CRE
		add_loyalists = {
			culture = cu:greek
			value = small_radicals
		}
	}
}

grefm.224 = { # MAC annexation
	type = country_event
	placement = scope:macedonia_capital
	
	title = grefm.224.t
	desc = grefm.224.d
	flavor = grefm.224.f

	event_image = {
		video = "unspecific_signed_contract"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}

	immediate = {
		c:MAC = {
			save_scope_as = macedonia_scope
			capital = {
				save_scope_as = macedonia_capital
			}
		}
	}

	option = {
		name = grefm.224.a
		default_option = yes
		annex = c:MAC
		add_loyalists = {
			culture = cu:greek
			value = small_radicals
		}
	}
}

#### GREEK ORTHODOX CHURCH EVENTS ####

grefm.230 = { #  The Defence of Jonas King
	type = country_event
	placement = root
	
	title = grefm.230.t
	desc = grefm.230.d
	flavor = grefm.230.f
	
	event_image = {
		video = "africa_leader_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_orthodox.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = jonas_king_started }
		country_has_state_religion = rel:orthodox
		owns_entire_state_region = STATE_ATTICA
		OR = {
			has_variable = grefm_1843_revolution_happened
			has_variable = grefm_bavarocracy_completed
		}
	}
	
	immediate = {
		set_global_variable = jonas_king_started
		create_character = {
			template = template_grefm_king_jonas
			on_created = {
				place_character_in_void = 300
			}
		}
		random_character_in_void = {
			limit = {
				has_template = template_grefm_king_jonas
			}
			save_scope_as = grefm_jonas_scope
		}
		c:USA = {
			save_scope_as = usa_scope
		}
		ig:ig_devout = {
			save_scope_as = devout_scope
		}
	}	
	
	option = { # Prosecute Jonas
		name = grefm.230.a
		default_option = yes
		trigger_event = {
			id = grefm.231 # Speech before the Areopagus
			days = 240
		}
		add_radicals = {
			religion = rel:protestant
			value = small_radicals
		}
	}
	
	option = { # Let Jonas Go
		name = grefm.230.b
		add_loyalists = {
			religion = rel:protestant
			value = medium_radicals
		}		
		add_radicals = {
			pop_type = clergymen
			value = medium_radicals
		}
	}

}

grefm.231 = { # Speech before the Areopagus
	type = country_event
	placement = root
	
	title = grefm.231.t
	desc = grefm.231.d
	flavor = grefm.231.f
	
	event_image = {
		video = "votp_hostile_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		random_character_in_void = {
			limit = {
				has_template = template_grefm_king_jonas
			}
			save_scope_as = grefm_jonas_scope
		}
		c:USA = {
			save_scope_as = usa_scope
		}
		ig:ig_devout = {
			save_scope_as = devout_scope
		}
	}	
	
	option = {
		name = grefm.231.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_ejected_jonas
			months = normal_modifier_time
		}
		add_radicals = {
			religion = rel:protestant
			value = small_radicals
		}
		set_variable = grefm_jonas_yeeted
	}

}

grefm.232 = { # Jonas King Returns
	type = country_event
	placement = root
	
	title = grefm.232.t
	desc = grefm.232.d
	flavor = grefm.232.f
	
	event_image = {
		video = "unspecific_steam_ship"
	}
	
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_modifier = modifier_grefm_ejected_jonas }
		has_variable = grefm_jonas_yeeted
		country_has_state_religion = rel:orthodox
		any_character_in_void = {
			has_template = template_grefm_king_jonas
		}
	}
	
	immediate = {
		remove_variable = grefm_jonas_yeeted
		random_character_in_void = {
			limit = {
				has_template = template_grefm_king_jonas
			}
			save_scope_as = grefm_jonas_scope
		}
		c:USA = {
			save_scope_as = usa_scope
		}
		ig:ig_devout = {
			save_scope_as = devout_scope
		}
	}	
	
	option = { # Arrest Him!
		name = grefm.232.a
		default_option = yes
		trigger_event = {
			id = grefm.233 # Foreign Intercession for Jonas King
			days = 45
		}
	}
	
	option = { # Leave Him Be
		name = grefm.232.b
		custom_tooltip = grefm.232.tt
		every_country = {
			limit = {
				country_has_state_religion = rel:protestant
				country_rank >= rank_value:major_power
			}
			change_relations = {
				country = c:GRE
				value = 10
			}
		}
		add_modifier = {
			name = modifier_grefm_religious_deconfliction
			months = normal_modifier_time
		}		
	}

}

grefm.233 = { # Foreign Intercession for Jonas King
	type = country_event
	placement = root
	
	title = grefm.233.t
	desc = grefm.233.d
	flavor = grefm.233.f
	
	event_image = {
		video = "unspecific_signed_contract"
	}
	
	icon = "gfx/interface/icons/event_icons/event_default.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		random_character_in_void = {
			limit = {
				has_template = template_grefm_king_jonas
			}
			save_scope_as = grefm_jonas_scope
		}
		c:USA = {
			save_scope_as = usa_scope
		}
		ig:ig_devout = {
			save_scope_as = devout_scope
		}
	}	
	
	option = { # Reconcile with King
		name = grefm.233.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_religious_deconfliction
			months = normal_modifier_time
		}
		add_radicals = {
			pop_type = clergymen
			value = small_radicals
		}
	}
	
	option = { # We are the law
		name = grefm.233.b
		add_modifier = {
			name = modifier_grefm_religious_witchhunt
			months = normal_modifier_time
		}
		create_incident = {
			country = c:USA
			value = 10
		}
	}

}

#### GREEK ETHNOGENESIS EVENTS ####

grefm.240 = { # what is a greek
	type = country_event
	placement = root
	
	title = grefm.240.t
	desc = grefm.240.d
	flavor = grefm.240.f
	
	event_image = {
		video = "ep1_printing_press"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		if = { # in case MGR didn't get to it; goes unused in standalone grefm
			limit = {
				NOT = {
					has_variable = manzoni_literary_tradition_var
				}
			}
			set_variable = {
				name = manzoni_literary_tradition_var
				value = 0
			}
		}
	}
	
	option = { # kicks off the event chain
		name = grefm.240.a
		default_option = yes
	}
}

grefm.241 = { # language question
	type = country_event
	placement = root
	
	title = grefm.241.t
	desc = grefm.241.d
	flavor = grefm.241.f
	
	event_image = {
		video = "middleeast_middleclass_cafe"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		ig:ig_intelligentsia = {
				save_scope_as = ig_intelligentsia_scope
		}
		ig:ig_devout = {
				save_scope_as = ig_devout_scope
		}
	}
	
	option = {
		name = grefm.241.a
		default_option = yes
	}

}

grefm.242 = { # a national language
	type = country_event
	placement = root
	
	title = grefm.242.t
	desc = grefm.242.d
	flavor = grefm.242.f
	
	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = { # listen to the people, go Demotic
		name = grefm.242.a
		default_option = yes
		add_loyalists = {
			strata = poor
			value = medium_radicals
		}
		add_radicals = {
			strata = rich
			value = medium_radicals
		}
		add_modifier = {
			name = modifier_grefm_embraced_demotic_greek
			months = long_modifier_time
		}
		set_variable = grefm_greek_language_solved
	}

	option = { # keep it classy with Katharevousa
		name = grefm.242.b
		add_loyalists = {
			strata = rich
			value = medium_radicals
		}
		add_radicals = {
			strata = poor
			value = medium_radicals
		}
		add_modifier = {
			name = modifier_grefm_enforced_katharevousa
			months = long_modifier_time
		}
		set_variable = grefm_greek_language_solved
	}
	
	option = { # the Khoine choice for the Orthodox boys
		name = grefm.242.c
		trigger = {
			has_law = law_type:law_theocracy
		}
		add_loyalists = {
			religion = rel:orthodox
			value = medium_radicals
		}
		add_modifier = {
			name = modifier_grefm_enshrined_khoine
			months = long_modifier_time
		}
		set_variable = grefm_greek_language_solved
	}
	
}

grefm.243 = { # a greek identity
	type = country_event
	placement = root
	
	title = grefm.243.t
	desc = grefm.243.d
	flavor = grefm.243.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_variable = grefm_greek_identity_resolved }
		has_variable = grefm_archeaology_var
		var:grefm_archeaology_var > 3
	}
	
	immediate = {
		set_variable = grefm_greek_identity_resolved
	}
	
	option = {
		name = grefm.243.a
		default_option = yes
		add_loyalists = {
			culture = cu:greek
			value = small_radicals
		}
	}

}

grefm.244 = { # Paparrigopoulos's History of the Greek Nation
	type = country_event
	placement = root
	
	title = grefm.244.t
	desc = grefm.244.d
	flavor = grefm.244.f
	
	event_image = {
		video = "southamerica_aristocrats"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		NOT = { has_global_variable = paparrigopoulos_var }
		country_has_primary_culture = cu:greek
		owns_entire_state_region = STATE_ATTICA
		NOT = { has_technology_researched = nationalism }
		has_technology_researched = mass_communication
		has_technology_researched = international_relations
	}
	
	immediate = {
		set_global_variable = paparrigopoulos_var
		random_scope_state = {
			limit = {
				has_building = building_university
			}
			save_scope_as = paparrigopoulos_state
		}
	}
	
	cancellation_trigger = {
		has_technology_researched = nationalism
	}
	
	option = { # a little push to get the Megali Idea started
		name = grefm.244.a
		default_option = yes
		trigger = {
			NOT = { has_technology_researched = nationalism }
		}
		add_technology_progress = {
			progress = 5000 
			technology = nationalism
		}
	}
	
	option = { # or if you're a little patient
		name = grefm.244.b
		add_modifier = {
			name = modifier_grefm_nationalist_movement
			months = long_modifier_time
		}
		add_technology_progress = {
			progress = 1000 
			technology = nationalism
		}
	}

}

grefm.249 = { # greek ethnogenesis
	type = country_event
	placement = root
	
	title = grefm.249.t
	desc = grefm.249.d
	flavor = grefm.249.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		set_variable = grefm_greek_nationalism_completed
	}
	
	option = {
		name = grefm.249.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_greek_nationalism
			months = long_modifier_time
		}
	}
	
}

#### CRETAN REVOLT EVENTS ####

grefm.250 = { # Priest Martyred in Crete
	type = country_event
	placement = scope:crete_state_scope
	
	title = grefm.250.t
	desc = {
		desc = grefm.250.d
		triggered_desc = {
			desc = grefm.250.d1
			trigger = {
				owns_entire_state_region = STATE_CRETE
			}
		}
		triggered_desc = {
			desc = grefm.250.d2
			trigger = {
				has_variable = grefm_250_A
			}
		}
		triggered_desc = {
			desc = grefm.250.d3
			trigger = {
				has_variable = grefm_250_B
			}
		}
	}
			
	flavor = grefm.250.f
	
	event_image = {
		video = "middleeast_police_breaking_door"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		s:STATE_CRETE = {
			random_scope_state = {
				save_scope_as = crete_state_scope
				owner = {
					save_scope_as = crete_owner_scope
				}
			}
		}
		
	}
	
	cooldown = { 
		months = 120
	}	
	
	option = {
		name = grefm.250.a
		default_option = yes
		trigger = {
			owns_entire_state_region = STATE_CRETE
		}
		custom_tooltip = {
			text = grefm_crete_momentum_plus_20
			hidden_effect = {	
				change_global_variable = {
					name = grefm_crete_revolt_var
					add = 20
				}
			}
		}
		c:GRE = {
			trigger_event = {
				id = grefm.250
			}
			set_variable = grefm_250_A
		}
	}
	
	option = {
		name = grefm.250.b
		trigger = {
			owns_entire_state_region = STATE_CRETE
		}
		custom_tooltip = {
			text = grefm_crete_momentum_plus_5
			hidden_effect = {	
				change_global_variable = {
					name = grefm_crete_revolt_var
					add = 5
				}
			}
		}
		s:STATE_CRETE = {
			random_scope_state = {
				add_radicals_in_state = {
					culture = cu:turkish
					value = small_radicals
				}
			}
		}
		c:GRE = {
			trigger_event = {
				id = grefm.250
			}
			set_variable = grefm_250_B
		}
	}
	
	option = {
		name = grefm.250.c
		trigger = {
			NOT = {
				owns_entire_state_region = STATE_CRETE
			}
		}
		if = {
			limit = {
				has_variable = grefm_250_A
			}
			custom_tooltip = grefm_crete_momentum_plus_20
		}
		if = {
			limit = {
				has_variable = grefm_250_B
			}
			custom_tooltip = grefm_crete_momentum_plus_5
		}
	}
	
	after = {
		remove_variable = grefm_250_A
		remove_variable = grefm_250_B	
	}
	
}

grefm.251 = { # Wali of Crete Oversteps Authority
	type = country_event
	placement = scope:crete_state_scope
	
	title = grefm.251.t
	desc = {
		desc = grefm.251.d
		triggered_desc = {
			desc = grefm.251.d1
			trigger = { has_variable = grefm_251_A }
		}
		triggered_desc = {
			desc = grefm.251.d2
			trigger = { has_variable = grefm_251_B }
		}
	}
	flavor = grefm.251.f
	
	event_image = {
		video = "unspecific_politicians_arguing"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
		s:STATE_CRETE = {
			random_scope_state = {
				save_scope_as = crete_state_scope
				owner = {
					save_scope_as = crete_owner_scope
				}
			}
		}
		
	}
	
	cooldown = { 
		months = 120
	}	
	
	option = {
		name = grefm.251.a
		default_option = yes
		trigger = {
			owns_entire_state_region = STATE_CRETE
		}
		custom_tooltip = {
			text = grefm_crete_momentum_plus_10
			hidden_effect = {	
				change_global_variable = {
					name = grefm_crete_revolt_var
					add = 10
				}
			}
		}
		c:GRE = {
			trigger_event = {
				id = grefm.251
			}
			set_variable = grefm_251_A
		}
	}
	
	option = {
		name = grefm.251.b
		trigger = {
			owns_entire_state_region = STATE_CRETE
		}
		add_modifier = {
			name = modifier_grefm_recalled_wali
			months = normal_modifier_time
		}
		s:STATE_CRETE = {
			random_scope_state = {
				add_radicals_in_state = {
					culture = cu:turkish
					value = small_radicals
				}
			}
		}
		c:GRE = {
			trigger_event = {
				id = grefm.251
			}
			set_variable = grefm_251_B
		}
	}
	
	option = {
		name = grefm.251.c
		trigger = {
			NOT = {
				owns_entire_state_region = STATE_CRETE
			}
		}
		if = {
			limit = {
				has_variable = grefm_251_A
			}
			custom_tooltip = grefm_crete_momentum_plus_10
		}
		if = {
			limit = {
				has_variable = grefm_251_B
			}
			show_as_tooltip = {
				s:STATE_CRETE = {
					random_scope_state = {
						add_radicals_in_state = {
							culture = cu:turkish
							value = small_radicals
						}
					}
				}
			}
		}
	}
	
	after = {
		remove_variable = grefm_251_A
		remove_variable = grefm_251_B	
	}
	
}

grefm.252 = { # Greek Agitation in Crete
	type = country_event
	placement = scope:crete_state_scope
	
	title = grefm.252.t
	desc = grefm.252.d
	flavor = grefm.252.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by JE
	}
	
	immediate = {
		s:STATE_CRETE = {
			random_scope_state = {
				save_scope_as = crete_state_scope
				owner = {
					save_scope_as = crete_owner_scope
				}
			}
		}
	}
	
	option = {
		name = grefm.252.b
		default_option = yes
		trigger = {
			owns_entire_state_region = STATE_CRETE
		}
		custom_tooltip = {
			text = grefm_crete_momentum_plus_20
			hidden_effect = {	
				change_global_variable = {
					name = grefm_crete_revolt_var
					add = 20
				}
			}
		}
	}
	
	option = {
		name = grefm.252.a
		trigger = {
			NOT = { owns_entire_state_region = STATE_CRETE }
		}
		custom_tooltip = grefm_crete_momentum_plus_20
		hidden_effect = {
			scope:crete_owner_scope ?= {
				trigger_event = {
					id = grefm.252
				}
			}
		}
	}

}

grefm.253 = { # Language Bans in Crete
	orphan = yes
}

grefm.259 = { # Crete Revolts Again (TUR/EGY)
	type = country_event
	placement = root
	
	title = grefm.259.t
	desc = grefm.259.d
	flavor = grefm.259.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		global_var:grefm_crete_revolt_var >= 200
		owns_entire_state_region = STATE_CRETE
		OR = {
			country_has_state_religion = rel:sunni
			country_has_state_religion = rel:shiite
		}
	}
	
	immediate = {
		set_global_variable = {
			name = grefm_crete_revolt_var
			value = 0
		}
		s:STATE_CRETE = {
			random_scope_state = {
				save_scope_as = crete_state_scope
				owner = {
					save_scope_as = crete_owner_scope
				}
			}
		}
		create_country = {
			tag = CRE
			origin = this
			state = scope:crete_state_scope
		}
		c:CRE = {
			save_scope_as = crete_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:CRE
			type = dominion
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
	
	option = { # Drop the Hammer
		name = grefm.259.a
		default_option = yes
		c:CRE = {
			make_independent = yes
		}
		create_diplomatic_play = {
			name = grefm_crete_rebellion
			target_country = c:CRE
			type = dp_return_state
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					scope:crete_owner_scope = {
						is_diplomatic_play_initiator = yes
					}
					c:CRE = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_CRETE.region_state:CRE
				}
				add_war_goal = {
					holder = c:CRE
					type = independence
				}
				add_diplomatic_play_war_support = { 
					target = c:CRE 
					value = 100
				}
			}
			change_infamy = -5
		}
	}
	
	option = { # Everything is Fine
		name = grefm.259.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		show_as_tooltip = {
			create_diplomatic_pact = {
				country = c:CRE
				type = protectorate
			}
		}
	}
	
	after = {
		every_country = {
			limit = {
				country_has_primary_culture = cu:greek
			}
			trigger_event = {
				id = grefm.212 # Greek Uprising in State (GRE)
			}
		}
		remove_variable = grefm_owner_tracker
	}
}

#### HOMELAND EVENTS ####

grefm.260 = { # the fate of the turks
	type = country_event
	placement = root
	
	title = grefm.260.t
	desc = grefm.260.d
	flavor = grefm.260.f

	event_image = {
		video = "europenorthamerica_russian_serfs"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		NOT = {	has_variable = grefm_greek_homelands_event }
		has_global_variable = grefm_megali_idea_complete
		any_scope_state = {
			state_region = {
				AND = {
					is_homeland = cu:turkish
					is_homeland = cu:greek
				}
			}
		}
		has_technology_researched = civilizing_mission
	}
	
	immediate = {
		set_variable = grefm_greek_homelands_event
	}
	
	option = { # Integrate the Turks
		name = grefm.260.a
		add_radicals = {
			culture = cu:greek
			value = large_radicals
		}
		add_loyalists = {
			culture = cu:turkish
			value = medium_radicals
		}
		set_variable = {
			name = grefm_turkish_integration_var
			value = 0
		}
		add_journal_entry = {
			type = je_grefm_grecoturkism
		}
	}
		
	option = { # Return the Favor
		name = grefm.260.b
		default_option = yes
		if = {
			limit = {
				exists = c:TUR
			}
			change_relations = {
				country = c:TUR
				value = -20
			}
		}
		else = {
			change_infamy = 5
		}
		set_variable = grefm_rejected_grecoturkism # enables turkish homelands event
	}

}

grefm.261 = { # turkish homelands event
	type = country_event
	placement = scope:turkish_homeland_state
	
	title = grefm.261.t
	desc = grefm.261.d
	flavor = grefm.261.f
	
	event_image = {
		video = "europenorthamerica_russian_serfs"
	}
	
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # will trigger for any state that shares Greek and Turkish homelands
		has_variable = grefm_rejected_grecoturkism
		any_scope_state = {
			AND = {
				NOT = { has_variable = grefm_turkish_reserve }
				state_region = {
					AND = {
						is_homeland = cu:turkish
						is_homeland = cu:greek
					}
				}
			}
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				AND = {
					NOT = { has_variable = grefm_turkish_reserve }
					state_region = {
						AND = {
							is_homeland = cu:turkish
							is_homeland = cu:greek
						}
					}
				}
			}
			save_scope_as = turkish_homeland_state
		}
		random_scope_state = {
			limit = {
				has_variable = grefm_turkish_reserve
			}
			save_scope_as = turkish_reserve_state
		}
	}
	
	cooldown = {
		months = 18 # This should be slower than Greek homeland expansion
	}
	
	option = { # kick them out
		name = grefm.261.a
		default_option = yes
		trigger = {
			any_scope_state = {
				NOT = { has_variable = grefm_turkish_reserve }
			}
		}
		scope:turkish_homeland_state = {
			show_as_tooltip = {
				remove_homeland = cu:turkish # This strange bit of janky ensures a tooltip is presented to the player
			}
			add_culture_standard_of_living_modifier = {
				culture = cu:turkish
				months = very_long_modifier_time
				multiplier = -2
			}
			state_region = {
				hidden_effect = {
					remove_homeland = cu:turkish # having this in the state_region executes the effect, but doesn't show a tooltip
				}
			}
		}
		add_radicals = { # They will NOT take this lying down
			culture = cu:turkish
			value = medium_radicals
		}
	}
	
	option = { # set up a reserve
		name = grefm.261.b
		trigger = {
			any_scope_state = {
				NOT = { has_variable = grefm_turkish_reserve }
			}
		}
		scope:turkish_homeland_state = {
			add_culture_standard_of_living_modifier = {
				culture = cu:turkish
				months = very_long_modifier_time
				multiplier = 2
			}
			add_loyalists_in_state = {
				culture = cu:turkish
				value = large_radicals
			}
			set_variable = grefm_turkish_reserve
		}
		add_radicals = {
			culture = cu:greek
			value = small_radicals
		}
	}
	
	option = { # Send them to the Reserve
		name = grefm.261.c
		default_option = yes
		trigger = {
			any_scope_state = {
				has_variable = grefm_turkish_reserve
			}
		}
		scope:turkish_homeland_state = {
			show_as_tooltip = {
				remove_homeland = cu:turkish
			}
			add_culture_standard_of_living_modifier = {
				culture = cu:turkish
				months = very_long_modifier_time
				multiplier = -2
			}
			state_region = {
				hidden_effect = {
					remove_homeland = cu:turkish
				}
			}
		}
		add_radicals = { # You treat them like animals, they'll view you like an animal. You deserve this.
			culture = cu:turkish
			value = medium_radicals
		}
	}

}

grefm.262 = { # greek homeland expansion
	type = country_event
	placement = root
	
	title = grefm.262.t
	desc = grefm.262.d
	flavor = grefm.262.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		has_variable = grefm_megali_idea_complete # homelands will expand regardless of turkish homeland outcome
		any_scope_state = {
			AND = {
				is_incorporated = yes
				state_region = {
					AND = {
						state_in_anatolia = yes
						NOT = { is_homeland = cu:greek }
					}
				}
			}
		}
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				AND = {
					is_incorporated = yes
					state_region = {
						AND = {
							state_in_anatolia = yes
							NOT = { is_homeland = cu:greek }
						}
					}
				}
			}
			save_scope_as = grefm_expansion_state
		}
	}
	
	cooldown = {
		months = 12
	}
	
	
	option = {
		name = grefm.262.a
		default_option = yes
		scope:grefm_expansion_state = {
			state_region = {
				add_homeland = cu:greek
			}
		}
	}

}

grefm.263 = { # option to switch capital to Constantinople
	type = country_event
	placement = root
	
	title = grefm.263.t
	desc = grefm.263.d
	flavor = grefm.263.f

	event_image = {
		video = "unspecific_world_fair"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		owns_entire_state_region = STATE_EASTERN_THRACE
		OR = {
			has_journal_entry = je_grefm_megali_idea
			has_variable = grefm_tzatzikisauce
		}
		s:STATE_EASTERN_THRACE = {
			any_scope_state = {
				is_capital = no
			}
		}
		NOT = { has_variable = grefm_capital_considered }		
	}

	immediate = {
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				save_scope_as = eastern_thrace_scope
			}
		}
		s:STATE_ATTICA = {
			random_scope_state = {
				save_scope_as = attica_scope
			}
		}
		set_variable = grefm_capital_considered
	}
	
	cancellation_trigger = {
		s:STATE_EASTERN_THRACE = {
			any_scope_state = {
				is_capital = yes
			}
		}
	}
	
	option = { # yes please
		name = grefm.263.a
		default_option = yes
		set_capital = STATE_EASTERN_THRACE
		scope:eastern_thrace_scope = {
			add_loyalists_in_state = {
				value = medium_radicals
				culture = cu:greek
			}
		}
	}
		
	option = { # no I'm a poor boy
		name = grefm.263.b
		scope:attica_scope = {
			add_modifier = {
				name = modifier_grefm_development_focus
				months = normal_modifier_time
			}
			add_loyalists_in_state = {
				value = small_radicals
				culture = cu:greek
			}		
		}
	}

}

grefm.264 = { # greco-roman relations
	type = country_event
	
	title = grefm.264.t
	desc = grefm.264.d
	flavor = grefm.264.f
	
	placement = ROOT
	
	event_image = {
		video = "votp_realist_household"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		has_modifier = modifier_byzfm_glory
		NOT = { has_variable = byzfm_italian_homelands_event }
		NOT = {	country_has_primary_culture = cu:north_italian }
		NOT = {	country_has_primary_culture = cu:south_italian }
	}
		
	immediate = {
		set_variable = byzfm_italian_homelands_event
	}
	
	option = {
		name = grefm.264.a
		trigger = {
			NOT = {
				country_has_primary_culture = cu:turkish
			}
		}
		add_primary_culture = cu:north_italian
		add_primary_culture = cu:south_italian
	}
	
	option = {
		name = grefm.264.b
		trigger = {
			country_has_primary_culture = cu:turkish
		}
		add_primary_culture = cu:north_italian
		add_primary_culture = cu:south_italian
		custom_tooltip = {
			text = grefm.264.tt
			hidden_effect = {
				add_radicals = {
					value = small_radicals
					culture = cu:north_italian
				}
				add_radicals = {
					value = small_radicals
					culture = cu:south_italian
				}
				add_radicals = {
					value = small_radicals
					culture = cu:turkish
				}
			}
		}
	}
		
	option = {
		name = grefm.264.c
		default_option = yes
		if = {
			limit = {
				NOT = {
					has_modifier = modifier_grefm_greek_resurgence
				}
			}
			add_modifier = {
				name = modifier_grefm_greek_resurgence
				months = long_modifier_time
			}
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:north_italian
		}
		add_radicals = {
			value = medium_radicals
			culture = cu:south_italian
		}
	}

}

grefm.265 = { # Greco-Turkish Relations
	type = country_event
	placement = root
	
	title = grefm.265.t
	desc = grefm.265.d
	flavor = grefm.265.f
	
	event_image = {
		video = "unspecific_world_fair"
	}
	
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.265.a
		default_option = yes
		add_primary_culture = cu:turkish
		add_loyalists = {
			culture = cu:turkish
			value = large_radicals
		}
	}

}

######################################################
##	#GRE3	REVENGE OF THE GREEKS	Events 300-399	##
######################################################

#### REVENGE OF THE GREEKS EVENTS ####

grefm.300 = { #Resurrection of the Byzantine Empire
	type = country_event
	placement = ROOT

	title = grefm.300.t
	desc = grefm.300.d
	flavor = grefm.300.f

	gui_window = event_window_fullscreen

	event_image = {
		video = "votp_monarch_holding_court"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by grefm.202
	}
	
	immediate = {
		random_scope_building = {
			limit = {
				is_building_type = building_hagia_sophia
			}
			save_scope_as = hagia_sofia_scope
		}
		save_scope_as = formation_country
		every_country = {
			limit = {
				has_diplomatic_relevance = ROOT
			}
			post_notification = unification_notification_byz
		}
		set_global_variable = has_formed_byz
		set_variable = byzfm_byzantium_formed
	}
	
	option = {
		name = grefm.300.a
		default_option = yes
		trigger_event = {
			id = grefm.301 # The Revenge of the Greeks
			days = 30
		}
		add_modifier = {
			name = modifier_byzfm_rebirth
			months = very_long_modifier_time
		}
	}
	
}

grefm.301 = { # The Revenge of the Greeks
	type = country_event
	
	title = grefm.301.t
	desc = grefm.301.d
	flavor = grefm.301.f
	
	event_image = {
		video = "byzfm_georgios_averof"
	}
	
	icon = "gfx/interface/icons/event_icons/event_eagle.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = byzantium_capital_state
		}
	}
	
	option = {
		name = grefm.301.a
		default_option = yes
		set_capital = STATE_EASTERN_THRACE
		add_journal_entry = {
			type = je_grefm_revenge_of_the_greeks
		}
		every_state_region = {
			limit = {
				OR = {
					region = sr:region_anatolia
					region = sr:region_balkans
				}
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
	}
	
	option = {
		name = grefm.301.b
		every_state_region = {
			limit = {
				region = sr:region_anatolia
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
		change_infamy = -10
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
				set_variable = grefm_tzatzikisauce
			}
		}
	}
	
	option = {
		name = grefm.301.c
		every_state_region = {
			limit = {
				region = sr:region_balkans
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
		change_infamy = -10
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
				set_variable = grefm_tzatzikisauce
			}
		}
	}

}

grefm.302 = { # Nova Roma Constantinopolitana
	type = country_event
	
	title = grefm.302.t
	desc = grefm.302.d
	flavor = grefm.302.f
	
	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_eagle.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# Triggered by JE
	}
	
	immediate = {
		ruler = {
			save_scope_as = byzantium_emperor
		}
	}
	
	option = {
		name = grefm.302.a
		default_option = yes
		scope:byzantium_emperor = {
			add_modifier = {
				name = modifier_byzfm_popular_emperor
			}
		}
		add_modifier = {
			name = modifier_byzfm_legitmacy_boost
			months = normal_modifier_time
		}
		hidden_effect = {
			trigger_event = {
				id = grefm.303 # The Shores of Phoenicia
				days = 20
			}
		}
	}
}

grefm.303 = { # The Shores of Phoenicia
	type = country_event
	
	title = grefm.303.t
	desc = grefm.303.d
	flavor = grefm.303.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_eagle.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	duration = 3
	
	dlc = dlc_grefm

	trigger = { # triggered by grefm.302
	}
	
	immediate = {
		capital = {
			save_scope_as = byzantium_capital
		}
	}

	option = { # reclaim the east
		name = grefm.303.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_shores_of_phoenicia
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_ALEPPO }
			}
			s:STATE_ALEPPO = {
				add_claim = ROOT
			}
		}		
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_SYRIA }
			}
			s:STATE_SYRIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_LEBANON }
			}
			s:STATE_LEBANON = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_TRANSJORDAN }
			}
			s:STATE_TRANSJORDAN = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_PALESTINE }
			}
			s:STATE_PALESTINE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_SINAI }
			}
			s:STATE_SINAI = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_LOWER_EGYPT }
			}
			s:STATE_LOWER_EGYPT = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_MIDDLE_EGYPT }
			}
			s:STATE_MIDDLE_EGYPT = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_UPPER_EGYPT }
			}
			s:STATE_UPPER_EGYPT = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_MATRUH }
			}
			s:STATE_MATRUH = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOT = { owns_entire_state_region = STATE_LIBYA }
			}
			s:STATE_LIBYA = {
				add_claim = ROOT
			}
		}
		default_option = yes
	}
	
	option = { # nah bro, shits for the birds
		name = grefm.303.b
		change_infamy = -20
		scope:byzantium_capital = {
			add_modifier = {
				name = modifier_byzfm_capital_assimiliation_boost
				months = normal_modifier_time
			}
			add_modifier = {
				name = modifier_byzfm_heartland_reclaimed
				months = normal_modifier_time
			}
		}
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
				set_variable = grefm_tzatzikisauce
			}
		}
	}

}

grefm.304 = { # The Legacy of Alexander
	## former byzfm.5 used to allow conversion to ERE, now an off-ramp for no goddamn reason
	type = country_event
	
	title = grefm.304.t
	desc = grefm.304.d
	flavor = grefm.304.f
	
	event_image = {
		video = "votp_monarch_holding_court"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_eagle.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {	# Triggered by JE
	}
	
	immediate = {
		set_variable = byzfm_byzantium_restored
	}

	option = {
		name = grefm.304.a
		default_option = yes
		add_modifier = {
			name = modifier_byzfm_restored
			months = long_modifier_time
		}
		trigger_event = {
			id = grefm.305 # The Lands of Arianōn
			days = 30
		}
		
	}
	
	option = {
		name = grefm.304.b
		add_modifier = {
			name = modifier_byzfm_restored
			months = long_modifier_time
		}
		change_infamy = -25
		custom_tooltip = {
			text = byzfm_weaksauce_tt
			hidden_effect = {
				set_variable = byzfm_weaksauce
				remove_variable = byzfm_revenge_of_the_greeks
			}
		}
	}
	
}

grefm.305 = { # The Lands of Arianōn
	type = country_event
	
	title = grefm.305.t
	desc = grefm.305.d
	flavor = grefm.305.f
	
	event_image = {
		video = "ep1_persian_court"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = { # triggered by grefm.304
	}
	
	immediate = {
	}

	option = {
		name = grefm.305.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_lands_of_arianon
		}
		every_state_region = {
			limit = {
				OR = {
					region = sr:region_persia
				}
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
	}
	
}

grefm.306 = { # The Graveyard of Empires
	type = country_event
	
	title = grefm.306.t
	desc = grefm.306.d
	flavor = grefm.306.f
	
	event_image = {
		video = "ep1_ca_mountain_pass_military"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# Triggered by JE
	}
	
	option = {
		name = grefm.306.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_the_graveyard_of_empires
		}
		every_state_region = {
			limit = {
				OR = {
					region = sr:region_persia
				}
				any_scope_state = {
					NOT = { owner = ROOT }
					NOT = { has_claim_by = ROOT }
				}
			}
			add_claim = ROOT
		}
	}
}

grefm.307 = { # Hellenistic Empire choice
	type = country_event
	
	title = grefm.307.t
	desc = grefm.307.d
	flavor = grefm.307.f
	
	event_image = {
		video = "europenorthamerica_before_the_battle"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# Triggered by JE
	}
	
	option = { # become HEMP
		name = grefm.307.a
		default_option = yes
		add_modifier = {
			name = modifier_byzfm_glory
		}
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				add_modifier = {
					name = modifier_byzfm_the_queen_of_cities
					months = long_modifier_time
				}
			}
		}
		change_tag = HEMP
	}
	
	option = { # remain BYZ
		name = grefm.307.b
		add_modifier = {
			name = modifier_byzfm_glory
		}
		s:STATE_EASTERN_THRACE = {
			random_scope_state = {
				add_modifier = {
					name = modifier_byzfm_the_queen_of_cities
					months = long_modifier_time
				}
			}
		}
		trigger_event = {
			id = grefm.314 # The Foundings of Alexander
			days = 90
		}
	}
	
}

#### Hellenistic Imperial Ambition Events ####

grefm.310 = { # The Shores of the Hospitable Sea
	type = country_event
	placement = root
	
	title = grefm.310.t
	desc = grefm.310.d
	flavor = grefm.310.f
	
	event_image = {
		video = "votp_gunboat_diplomacy"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_black_sea
	}	
	
	immediate = {
	}
	
	option = {
		name = grefm.310.a
		default_option = yes
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_DOBRUDJA
					owns_entire_state_region = STATE_DOBRUDJA
				}
			}
			s:STATE_DOBRUDJA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_KARS
					owns_entire_state_region = STATE_KARS
				}
			}
			s:STATE_KARS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_GREATER_CAUCASUS
					owns_entire_state_region = STATE_GREATER_CAUCASUS
				}
			}
			s:STATE_GREATER_CAUCASUS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_CRIMEA
					owns_entire_state_region = STATE_CRIMEA
				}
			}
			s:STATE_CRIMEA = {
				add_claim = ROOT
			}
		}
	}

}

grefm.311 = { # The Black Sea Secured
	type = country_event
	placement = root
	
	title = grefm.311.t
	desc = grefm.311.d
	flavor = grefm.311.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_black_sea
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.311.a
		default_option = yes
		s:STATE_KARS = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_bosporan_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_GREATER_CAUCASUS = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_bosporan_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_CRIMEA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_bosporan_legacy
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.312 = { # The Lands of Magna Graecia
	type = country_event
	placement = root
	
	title = grefm.312.t
	desc = grefm.312.d
	flavor = grefm.312.f
	
	event_image = {
		video = "europenorthamerica_before_the_battle"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_magna_graecia
	}	
	
	immediate = {
	}
	
	option = {
		name = grefm.312.a
		default_option = yes
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_APULIA
					owns_entire_state_region = STATE_APULIA
				}
			}
			s:STATE_APULIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_CALABRIA
					owns_entire_state_region = STATE_CALABRIA
				}
			}
			s:STATE_CALABRIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_CAMPANIA
					owns_entire_state_region = STATE_CAMPANIA
				}
			}
			s:STATE_CAMPANIA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_SICILY
					owns_entire_state_region = STATE_SICILY
				}
			}
			s:STATE_SICILY = {
				add_claim = ROOT
			}
		}
	}

}

grefm.313 = { # Magna Graecia Secured
	type = country_event
	placement = root
	
	title = grefm.313.t
	desc = grefm.313.d
	flavor = grefm.313.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_black_sea
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.313.a
		default_option = yes
		s:STATE_APULIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_CALABRIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_CAMPANIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_SICILY = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.314 = { # The Foundings of Alexander
	type = country_event
	placement = root
	
	title = grefm.314.t
	desc = grefm.314.d
	flavor = grefm.314.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm.307
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.314.a
		default_option = yes
		add_journal_entry = {
			type = je_grefm_alexandria_oxus
		}
		add_journal_entry = {
			type = je_grefm_alexandria_merv
		}
		add_journal_entry = {
			type = je_grefm_alexandria_indus
		}
		add_journal_entry = {
			type = je_grefm_alexandria_susiana
		}
	}

}

grefm.315 = { # Alexandria on the Oxus
	type = country_event
	placement = root
	
	title = grefm.315.t
	desc = grefm.315.d
	flavor = grefm.315.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_alexandria_oxus
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.315.a
		default_option = yes
		s:STATE_MERZ = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_UZBEKIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.316 = { # Alexandria in Margiana
	type = country_event
	placement = root
	
	title = grefm.316.t
	desc = grefm.316.d
	flavor = grefm.316.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_alexandria_merv
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.316.a
		default_option = yes
		s:STATE_FERGANA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_KIRGHIZIA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_TAJIKISTAN = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.317 = { # Alexandria on the Indus
	type = country_event
	placement = root
	
	title = grefm.317.t
	desc = grefm.317.d
	flavor = grefm.317.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_alexandria_indus
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.317.a
		default_option = yes
		s:STATE_PUNJAB = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_SINDH = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_KASHMIR = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}

}

grefm.318 = { # Alexandria in Susiana
	type = country_event
	placement = root
	
	title = grefm.318.t
	desc = grefm.318.d
	flavor = grefm.318.f
	
	event_image = {
		video = "unspecific_military_parade"
	}
	
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_alexandria_susiana
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.318.a
		default_option = yes
		s:STATE_KHUZESTAN = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_BASRA = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_BAGHDAD = {
			random_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}

}


#####################################################
##  #GRE4  IONIAN ISLANDS FLAVOR  Events  400-499  ##
#####################################################

#### XENOCRACY EVENTS ####

grefm.400 = { # The Republic of the Seven Islands
	type = country_event
	placement = root
	
	title = grefm.400.t
	desc = grefm.400.d
	flavor = grefm.400.f
	
	event_image = {
		video = "grefm_ion_intro"
	}
	
	icon = "gfx/interface/icons/event_icons/event_heptanese.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered from GLOBAL
	}
	
	immediate = {
	}
	
	option = {
		name = grefm.400.a
		default_option = yes
		show_as_tooltip = {
			add_modifier = modifier_grefm_xenocracy
			add_modifier = modifier_grefm_hepantese_administration
			add_modifier = modifier_grefm_venetian_legacy
		}
	}

}

grefm.401 = { # The Ionian Jewel
	type = country_event
	placement = root
	
	title = grefm.401.t
	desc = grefm.401.d
	flavor = grefm.401.f
	
	event_image = {
		video = "ep1_power_blocs"
	}
	
	icon = "gfx/interface/icons/event_icons/event_heptanese.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_ion_xenocracy
	}
	
	immediate = {
		c:GBR = {
			save_scope_as = uk_scope
		}
	}
	
	option = {
		name = grefm.401.a
		default_option = yes
		c:GBR = {
			change_relations = {
				country = root
				value = 25
			}
			set_secret_goal = {
				country = root
				secret_goal = protect
			}
		}
		add_modifier = {
			name = modifier_grefm_ionian_jewel
			months = long_modifier_time
		}
	}

}

grefm.402 = { # Modernized Agriculture
	type = country_event
	placement = root
	
	title = grefm.402.t
	desc = grefm.402.d
	flavor = grefm.402.f
	
	event_image = {
		video = "southamerica_factory_opening"
	}
	
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_ion_venetian_legacy
	}	
	
	immediate = {
	}
	
	option = {
		name = grefm.402.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_modernized_agriculture
			months = long_modifier_time
			is_decaying = yes
		}
		add_loyalists = {
			culture = cu:greek
			value = medium_radicals
		}
	}

}

grefm.403 = { # A Civilized State
	type = country_event
	placement = root
	
	title = grefm.403.t
	desc = grefm.403.d
	flavor = grefm.403.f
	
	event_image = {
		video = "europenorthamerica_london_center"
	}
	
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by je_grefm_ion_poverty
	}
	
	immediate = {
		add_modifier = { # this is to avoid a snap bureaucracy shortage from the journal closing
			name = modifier_grefm_civilized_state
			months = long_modifier_time
			is_decaying = yes
		}
	}
	
	option = {
		name = grefm.403.a
		default_option = yes
		show_as_tooltip = {
			add_modifier = {
				name = modifier_grefm_civilized_state
				months = long_modifier_time
				is_decaying = yes
			}
		}
		add_loyalists = {
			strata = poor
			value = large_radicals
		}
	}
	
}

#### GREEK UNION EVENTS ####

grefm.420 = { # The Dream of Enosis
	type = country_event
	placement = root
	
	title = grefm.420.t
	desc = grefm.420.d
	flavor = grefm.420.f
	
	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm.201
	}	
	
	immediate = {
		c:GRE = {
			save_scope_as = greece_scope
			set_secret_goal = { # Greece was not secretive about its desires for union with the Islands
				country = c:ION
				secret_goal = befriend
			}
		}
	}
	
	option = {
		name = grefm.420.a
		default_option = yes
		if = {
			limit = {
				has_dlc_feature = lobbies
				
			}
			create_political_lobby = {  # The majority of Ionian politics was unified on the idea of seeking union with Greece at all costs
				type = lobby_pro_country  
				target = c:GRE
				add_interest_group = ig:ig_petty_bourgeoisie
				add_interest_group = ig:ig_intelligentsia
				add_interest_group = ig:ig_armed_forces
				add_interest_group = ig:ig_rural_folk
				add_interest_group = ig:ig_industrialists
			}
		}
	}

}

grefm.421 = { # 
	type = country_event
	placement = root
	
	title = grefm.421.t
	desc = grefm.421.d
	flavor = grefm.421.f
	
	event_image = {
		video = "unspecific_signed_contract"
	}
	
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	on_opened_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	
	duration = 3
	
	dlc = dlc_grefm
	
	trigger = {
		# triggered by grefm_ionian_enosis_button
	}	
	
	immediate = {
	}
	
	option = {
		name = grefm.421.a
		default_option = yes
		add_modifier = {
			name = modifier_grefm_hepantese_union
			months = normal_modifier_time
		}
	}

}






##################################################
##	#GRE9	TECHNICAL EVENTS	Events 900-999	##
##################################################

#### HIDDEN EVENTS ####

grefm.900 = { # Re-adds Turkish Culture if Lost Through Tag Switch
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		has_variable = grefm_turkeytime
		NOT = { country_has_primary_culture = cu:turkish }
	}
	
	immediate = {
		add_primary_culture = cu:turkish
	}
	
}


grefm.901 = { # adds claims to greek countries if they go independent
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		country_has_primary_culture = cu:greek
		NOT = { has_variable = grefm_mainland_claims_added }
		is_subject = no
		NOR = {
			exists = c:GRE
			exists = c:BYZ
			exists = c:ERE
			exists = c:SPQR
			exists = c:HEMP
			exists = c:ODXY
		}
	}
	
	immediate = {
		set_variable = grefm_mainland_claims_added
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_ATTICA
					owns_entire_state_region = STATE_ATTICA
				}
			}
			s:STATE_ATTICA = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_PELOPONNESE
					owns_entire_state_region = STATE_PELOPONNESE
				}
			}
			s:STATE_PELOPONNESE = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_WEST_AEGEAN_ISLANDS
					owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
				}
			}
			s:STATE_WEST_AEGEAN_ISLANDS = {
				add_claim = ROOT
			}
		}
		if = {
			limit = {
				NOR = {
					has_claim = s:STATE_THESSALIA
					owns_entire_state_region = STATE_THESSALIA
				}
			}
			s:STATE_THESSALIA = {
				add_claim = ROOT
			}
		}
		post_notification = notification_grefm_claims_added
	}
	
}

grefm.902 = { # hidden event triggering the Don Pacifico Affair
	type = country_event
	placement = root
	hidden = yes
	
	trigger = {
		has_variable = grefm_don_pacifico_var
		has_diplomatic_relevance = c:POR
		has_diplomatic_relevance = c:GBR
	}
	
	immediate = {
		c:POR = {
			trigger_event = {
				id = grefm.161 # The Don Pacifico Affair
			}
		}
		remove_variable = grefm_don_pacifico_var
	}
	
}

#### TECHNICAL EVENTS ####

grefm.910 = { # The Makedonijan Revolt (No Triggers)
	type = country_event
	placement = scope:skopia_state_scope
	
	title = grefm.214.t
	desc = grefm.214.d
	flavor = grefm.214.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered by grefm_skopia_provoke_button
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_SKOPIA = {
			random_scope_state = {
				save_scope_as = skopia_state_scope
			}
		}
		create_country = {
			tag = NMAC
			origin = this
			state = scope:skopia_state_scope
		}
		c:NMAC = {
			save_scope_as = makedonija_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:NMAC
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:NMAC
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.214.a
		default_option = yes
		c:NMAC = {
			make_independent = yes
		}
		end_truce = c:NMAC
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:NMAC
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:NMAC = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_SKOPIA.region_state:NMAC
				}
				add_war_goal = {
					holder = c:NMAC
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:NMAC
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:greek
			}
			trigger_event = {
				id = grefm.212 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.214.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:NMAC
			type = protectorate
		}
	}
	
}

grefm.911 = { # The Epirote Revolt (No Triggers)
	type = country_event
	placement = scope:albania_state_scope
	
	title = grefm.215.t
	desc = grefm.215.d
	flavor = grefm.215.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered from grefm_epirus_provoke_button
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_ALBANIA = {
			random_scope_state = {
				save_scope_as = albania_state_scope
			}
		}
		create_country = {
			tag = EPI
			origin = this
			province = p:xC42EC6
			province = p:x7BE071
			province = p:x18C9AD
			province = p:x01D0E0
			province = p:x8050E0
			on_created = {
			}
		}
		c:EPI = {
			save_scope_as = epirus_scope
			create_epirus_characters = yes
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:EPI
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:EPI
			months = 60
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_ALBANIA
			}
			every_scope_pop = {
				limit = {
					culture = cu:greek
				}
				move_pop = s:STATE_ALBANIA.region_state:EPI
			}
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
	
	option = { # Get the Whip
		name = grefm.215.a
		default_option = yes
		c:EPI = {
			make_independent = yes
		}
		end_truce = c:EPI
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:EPI
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:EPI = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_ALBANIA.region_state:EPI
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_THESSALIA.region_state:EPI
				}
				add_war_goal = {
					holder = c:EPI
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:EPI
					value = 100
				}
			}
			change_infamy = -10
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:greek
			}
			trigger_event = {
				id = grefm.212 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.215.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:EPI
			type = protectorate
		}
	}
	
}

grefm.912 = { # The Cypriot Revolt (No Triggers)
	type = country_event
	placement = scope:cyprus_state_scope
	
	title = grefm.216.t
	desc = grefm.216.d
	flavor = grefm.216.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered from grefm_cyprus_provoke_button
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_CYPRUS = {
			random_scope_state = {
				save_scope_as = cyprus_state_scope
			}
		}
		create_country = {
			tag = CYP
			origin = this
			state = scope:cyprus_state_scope
		}
		c:CYP = {
			save_scope_as = cyprus_scope
			create_cyprus_characters = yes
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:CYP
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:CYP
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker		
	}	
		
	option = { # Get the Whip
		name = grefm.216.a
		default_option = yes
		c:CYP = {
			make_independent = yes
		}
		end_truce = c:CYP
		create_diplomatic_play = {
			name = grefm_cyprus_rebellion
			target_country = c:CYP
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:CYP = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_CYPRUS.region_state:CYP
				}
				add_war_goal = {
					holder = c:CYP
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:CYP
					value = 100
				}
			}
			change_infamy = -5
		}
		hidden_effect = {
			every_country = {
				limit = {
					country_has_primary_culture = cu:greek
				}
				trigger_event = {
					id = grefm.212 # Greek Uprising in State (GRE)
				}
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.216.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:CYP
			type = protectorate
		}
	}
	
}

grefm.913 = { # The Macedonian Revolt (No Triggers)
	type = country_event
	placement = scope:macedonia_state_scope
	
	title = grefm.217.t
	desc = grefm.217.d
	flavor = grefm.217.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered from grefm_macedonia_provoke_button
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_MACEDONIA = {
			random_scope_state = {
				save_scope_as = macedonia_state_scope
			}
		}
		create_country = {
			tag = MAC
			origin = this
			state = scope:macedonia_state_scope
		}
		c:MAC = {
			save_scope_as = macedonia_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:MAC
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:MAC
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.217.a
		default_option = yes
		c:MAC = {
			make_independent = yes
		}
		end_truce = c:MAC
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:MAC
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:MAC = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_MACEDONIA.region_state:MAC
				}
				add_war_goal = {
					holder = c:MAC
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:MAC
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:greek
			}
			trigger_event = {
				id = grefm.212 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.217.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:MAC
			type = protectorate
		}
	}
	
}

grefm.914 = { # The Smyrna Revolt (No Triggers)
	type = country_event
	placement = scope:aydin_state_scope
	
	title = grefm.218.t
	desc = grefm.218.d
	flavor = grefm.218.f
	
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3
	
	dlc = dlc_grefm

	trigger = {
		# triggered from grefm_smyrna_provoke_button
	}

	immediate = {
		set_global_variable = {
			name = grefm_revolt_cooldown
			days = 720
		}
		s:STATE_AYDIN = {
			random_scope_state = {
				save_scope_as = aydin_state_scope
			}
		}
		create_country = {
			tag = SMYR
			origin = this
			state = scope:aydin_state_scope
		}
		c:SMYR = {
			save_scope_as = smyrna_scope
			set_variable = grefm_revolt_tracker
		}
		create_diplomatic_pact = {
			country = c:SMYR
			type = dominion
		}
		create_bidirectional_truce = {
			country = c:SMYR
			months = 60
		}
		grefm_greek_revolt_tension_effect = yes
		set_variable = grefm_owner_tracker
	}
		
	option = { # Get the Whip
		name = grefm.218.a
		default_option = yes
		c:SMYR = {
			make_independent = yes
		}
		end_truce = c:SMYR
		create_diplomatic_play = {
			name = grefm_epirus_rebellion
			target_country = c:SMYR
			type = dp_secession
		}
		hidden_effect = {
			random_diplomatic_play = {
				limit = {
					ROOT = {
						is_diplomatic_play_initiator = yes
					}
					c:SMYR = {
						is_diplomatic_play_target = yes
					}
				}
				add_war_goal = {
					holder = root
					type = return_state
					target_state = s:STATE_AYDIN.region_state:SMYR
				}
				add_war_goal = {
					holder = c:SMYR
					type = independence
				}
				add_diplomatic_play_war_support = {
					target = c:SMYR
					value = 100
				}
			}
			change_infamy = -5
		}
		every_country = {
			limit = {
				country_has_primary_culture = cu:greek
			}
			trigger_event = {
				id = grefm.212 # Greek Uprising in State (GRE)
			}
		}
	}
	
	option = { # Give them Autonomy
		name = grefm.218.b
		add_modifier = {
			name = modifier_grefm_granted_balkan_autonomy
			months = normal_modifier_time
			is_decaying = yes
		}
		create_diplomatic_pact = {
			country = c:SMYR
			type = protectorate
		}
	}
	
}