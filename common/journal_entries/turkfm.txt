##########################
# TURKFM JOURNAL ENTRIES #
##########################

# Content contained here pertains to the Ottoman Empire / Turkish State and associated states

####################

# For Greek content, see the "grefm" module
# For Turkish content, see the "turkfm" module
# For Balkan Nations content, see the "balkfm" module
# For Orthodox Church content, see the "eocfm" module

####################

####  TABLE OF CONTENTS  ####

# TURK0 - THE LAST STRUGGLE OF THE OTTOMAN EMPIRE
# TURK1 - THE REORDERING OF THE EMPIRE
# TURK2 - THE MILLETS SYSTEM
# TURK3 - THE EASTERN QUESTION
# TURK4 - TURKISH HISTORICAL FLAVOR
# TURK5 - OPEN
# TURK6 - OPEN
# TURK7 - OPEN
# TURK8 - BALKAN NATIONAL REVIVALS
# TURK9 - ARAB & ARMENIAN NATIONAL REVIVALS

####################

#######################################################
##  #TURK0  THE LAST STRUGGLE OF THE OTTOMAN EMPIRE  ##
#######################################################

je_turkfm_sick_man_main = {
	icon = "gfx/interface/icons/event_icons/event_ottoman.dds"
	
	group = je_group_turkfm_sick_man
	
	should_be_pinned_by_default = yes
	
	immediate = {
	}
	
	modifiers_while_active = {
		modifier_turkfm_sick_man
		modifier_turkfm_imperial_aspiriations
	}
	
	complete = {
		country_rank >= rank_value:great_power
		calc_true_if = {
			amount >= 4
			custom_tooltip = {
				text = turkfm_controls_balkans_tt
				hidden_trigger = {
					has_variable = turkfm_controls_balkans
				}
			}
			custom_tooltip = {
				text = turkfm_controls_anatolia_tt
				hidden_trigger = {
					has_variable = turkfm_controls_anatolia
				}
			}
			custom_tooltip = {
				text = turkfm_controls_arabia_tt
				hidden_trigger = {
					has_variable = turkfm_controls_arabia
				}
			}
			custom_tooltip = {
				text = turkfm_controls_nile_tt
				hidden_trigger = {
					has_variable = turkfm_controls_nile
				}
			}
			custom_tooltip = {
				text = turkfm_controls_danubia_tt
				hidden_trigger = {
					has_variable = turkfm_controls_danubia
				}
			}
			custom_tooltip = {
				text = turkfm_controls_caucasus_tt
				hidden_trigger = {
					has_variable = turkfm_controls_caucasus
				}
			}
		}
		custom_tooltip = {
			text = turkfm_tanzimat_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_tanzimat_complete
			}
		}
		custom_tooltip = {
			text = turkfm_separatism_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_separatism_complete
			}
		}
	}
	
	on_complete = {
		trigger_event = {
			id = turkfm.009 # The Healthy Man of Europe
		}
		set_global_variable = turkfm_sick_man_complete
	}

	fail = {
		custom_tooltip = {
			text = turkfm_lost_balkans_tt
			hidden_trigger = {
				NOT = {
					has_variable = turkfm_controls_balkans
				}
			}
		}
		custom_tooltip = {
			text = turkfm_lost_anatolia_tt
			hidden_trigger = {
				NOT = {
					has_variable = turkfm_controls_anatolia
				}
			}
		}
		custom_tooltip = {
			text = turkfm_lost_arabia_tt
			hidden_trigger = {
				NOT = {
					has_variable = turkfm_controls_arabia
				}
			}
		}
		custom_tooltip = {
			text = turkfm_lost_nile_tt
			hidden_trigger = {
				NOT = {
					has_variable = turkfm_controls_nile
				}
			}
		}
		custom_tooltip = {
			text = turkfm_lost_danubia_tt
			hidden_trigger = {
				NOT = {
					has_variable = turkfm_controls_danubia
				}
			}
		}
		custom_tooltip = {
			text = turkfm_lost_caucasus_tt
			hidden_trigger = {
				NOT = {
					has_variable = turkfm_controls_caucasus
				}
			}
		}
	}

	on_fail = {
		trigger_event = {
			id = turkfm.008 # The Dead Man of Europe
		}
		if = {
			limit = {
	       		is_in_power_bloc = yes
	        	is_power_bloc_leader = yes				
			}
			custom_tooltip = sick_man_of_europe_lose_power_bloc
		}
		set_global_variable = turkfm_sick_man_complete
	}
	
	current_value = {
		value = var:turkfm_sick_man_var
	}

	goal_add_value = {
		add = 4
	}

	progressbar = yes

	weight = 5000
	
}

je_turkfm_sick_man_syria = {
	icon = "gfx/interface/icons/event_icons/event_military.dds"

	group = je_group_turkfm_sick_man
	
	should_be_pinned_by_default = yes

	complete = {
		owns_entire_state_region = STATE_ALEPPO
		owns_entire_state_region = STATE_SYRIA
		owns_entire_state_region = STATE_LEBANON
		owns_entire_state_region = STATE_PALESTINE
		owns_entire_state_region = STATE_TRANSJORDAN
		owns_entire_state_region = STATE_ADANA
	}

	modifiers_while_active = {
		modifier_syrian_ambitions
	}

	on_complete = {
		add_journal_entry = {
			type = je_turkfm_sick_man_egypt
		}
		s:STATE_SINAI = {
			add_claim = ROOT
		}
		s:STATE_UPPER_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_MIDDLE_EGYPT = {
			add_claim = ROOT
		}
		s:STATE_LOWER_EGYPT = {
			add_claim = ROOT
		}
	}

	invalid = {
		custom_tooltip = {
			text = turkfm_sick_man_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_sick_man_complete
			}
		}
	}

	on_weekly_pulse = {
		events = {
			egyptian_crisis_events.1
		}
	}

	transferable = no

	weight = 5000
	
}

je_turkfm_sick_man_egypt = {
	icon = "gfx/interface/icons/event_icons/event_military.dds"

	group = je_group_turkfm_sick_man
	
	should_be_pinned_by_default = yes

	complete = {
		OR = {
			AND = {
				exists = c:EGY
				c:EGY = {
					is_subject_of = ROOT
				}
				country_or_subject_owns_entire_state_region = STATE_SINAI
				country_or_subject_owns_entire_state_region = STATE_UPPER_EGYPT
				country_or_subject_owns_entire_state_region = STATE_MIDDLE_EGYPT
				country_or_subject_owns_entire_state_region = STATE_LOWER_EGYPT
			}
			AND = {
				owns_entire_state_region = STATE_SINAI
				owns_entire_state_region = STATE_UPPER_EGYPT
				owns_entire_state_region = STATE_MIDDLE_EGYPT
				owns_entire_state_region = STATE_LOWER_EGYPT
			}
		}
	}

	on_complete = {
		
	}

	invalid = {
		custom_tooltip = {
			text = turkfm_sick_man_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_sick_man_complete
			}
		}
	}

	weight = 5000
	
}

je_turkfm_sick_man_crete = {
	icon = "gfx/interface/icons/event_icons/event_military.dds"

	group = je_group_turkfm_sick_man
	
	should_be_pinned_by_default = yes

	complete = {
		OR = {
			owns_entire_state_region = STATE_CRETE
			c:CRE ?= {
				is_subject_of = root
			}
		}
	}

	on_complete = {
		
	}

	invalid = {
		custom_tooltip = {
			text = turkfm_sick_man_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_sick_man_complete
			}
		}
	}

	weight = 5000
	
}

je_turkfm_sick_man_caucasus = {
	icon = "gfx/interface/icons/event_icons/event_military.dds"

	group = je_group_turkfm_sick_man
	
	should_be_pinned_by_default = yes

	complete = {
		owns_entire_state_region = STATE_KARS
		owns_entire_state_region = STATE_ARMENIA
		owns_entire_state_region = STATE_GREATER_CAUCASUS
		owns_entire_state_region = STATE_ELIZAVETPOL
		owns_entire_state_region = STATE_AZERBAIJAN
	}

	on_complete = {
		
	}
	
	fail = {
		NOT = {
			any_scope_state = {
				region = sr:region_caucasus
			}
		}
	}

	invalid = {
		custom_tooltip = {
			text = turkfm_sick_man_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_sick_man_complete
			}
		}
	}

	weight = 4000
	
}

############################################
##  #TURK1  THE REORDERING OF THE EMPIRE  ##
############################################

je_turkfm_tanzimat_main = {
	icon = "gfx/interface/icons/event_icons/event_fez.dds"
	
	group = je_group_turkfm_tanzimat
	
	should_be_pinned_by_default = yes
	
	immediate = {
	}
	
	modifiers_while_active = {
		modifier_turkfm_decentralized_administration
	}
	
	scripted_button = turkfm_start_tanzimat_button
	
	complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
	}
	
	on_complete = {
		set_global_variable = turkfm_tanzimat_complete
	}
	
	fail = {
	}
	
	on_fail = {
	}
	
	current_value = {
		value = var:turkfm_tanzimat_var
	}

	goal_add_value = {
		value = 5
	}

	progressbar = yes
	
	weight = 4000

}

je_turkfm_tanzimat_argiculture = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	group = je_group_turkfm_tanzimat
	
	should_be_pinned_by_default = yes
	
	complete = {
	}
	
	on_complete = {
		turkfm_advance_tanzimat_effect = yes
	}
	
	invalid = {
		custom_tooltip = {
			text = turkfm_tanzimat_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_tanzimat_complete
			}
		}
	}
	
	weight = 500
}

je_turkfm_tanzimat_army = {
	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	group = je_group_turkfm_tanzimat
	
	should_be_pinned_by_default = yes
	
	complete = {
	}
	
	on_complete = {
		turkfm_advance_tanzimat_effect = yes
	}
	
	invalid = {
		custom_tooltip = {
			text = turkfm_tanzimat_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_tanzimat_complete
			}
		}
	}
	
	weight = 500
}

je_turkfm_tanzimat_bureaucracy = {
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	group = je_group_turkfm_tanzimat
	
	should_be_pinned_by_default = yes
	
	complete = {
	}
	
	on_complete = {
		turkfm_advance_tanzimat_effect = yes
	}
	
	invalid = {
		custom_tooltip = {
			text = turkfm_tanzimat_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_tanzimat_complete
			}
		}
	}
	
	weight = 500
}

je_turkfm_tanzimat_economy = {
	icon = "gfx/interface/icons/event_icons/event_trade.dds"
	
	group = je_group_turkfm_tanzimat
	
	should_be_pinned_by_default = yes
	
	complete = {
	}
	
	on_complete = {
		turkfm_advance_tanzimat_effect = yes
	}
	
	invalid = {
		custom_tooltip = {
			text = turkfm_tanzimat_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_tanzimat_complete
			}
		}
	}
	
	weight = 500
}

je_turkfm_tanzimat_education = {
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	
	group = je_group_turkfm_tanzimat
	
	should_be_pinned_by_default = yes
	
	complete = {
	}
	
	on_complete = {
		turkfm_advance_tanzimat_effect = yes
	}
	
	invalid = {
		custom_tooltip = {
			text = turkfm_tanzimat_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_tanzimat_complete
			}
		}
	}
	
	weight = 500
}

je_turkfm_tanzimat_millet_reform = {
	icon = "gfx/interface/icons/event_icons/event_fez.dds"
	
	group = je_group_turkfm_tanzimat
	
	should_be_pinned_by_default = yes
	
	complete = {
	}
	
	on_complete = {
		turkfm_advance_tanzimat_effect = yes
	}
	
	invalid = {
		custom_tooltip = {
			text = turkfm_tanzimat_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_tanzimat_complete
			}
		}
	}
	
	weight = 500
}

je_turkfm_tanzimat_security = {
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	group = je_group_turkfm_tanzimat
	
	should_be_pinned_by_default = yes
	
	complete = {
	}
	
	on_complete = {
		turkfm_advance_tanzimat_effect = yes
	}
	
	invalid = {
		custom_tooltip = {
			text = turkfm_tanzimat_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_tanzimat_complete
			}
		}
	}
	
	weight = 500
}


#########################################################
##  #TURK2  THE OTTOMAN MILLET SYSTEM  Events 100-199  ##
#########################################################

je_turkfm_separatism_main = { # This is assigned to TUR
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	
	group = je_group_turkfm_separatism
	
	should_be_pinned_by_default = yes
	
	immediate = {
		turkfm_tension_start_effect = yes
	}
	
	modifiers_while_active = {
		modifier_turkfm_millet_system
	}
	
	complete = {
		cultural_acceptance_base = {
			target = cu:greek
			value >= acceptance_status_5
		}
		cultural_acceptance_base = {
			target = cu:rhomaios
			value >= acceptance_status_5
		}
		cultural_acceptance_base = {
			target = cu:serb
			value >= acceptance_status_5
		}
		cultural_acceptance_base = {
			target = cu:bulgarian
			value >= acceptance_status_5
		}
		cultural_acceptance_base = {
			target = cu:bosniak
			value >= acceptance_status_5
		}
		cultural_acceptance_base = {
			target = cu:albanian
			value >= acceptance_status_5
		}
		cultural_acceptance_base = {
			target = cu:croat
			value >= acceptance_status_5
		}
		cultural_acceptance_base = {
			target = cu:slovene
			value >= acceptance_status_5
		}
	}
	
	on_complete = {
		set_global_variable = turkfm_separatism_complete
	}
	
	fail = {
		any_scope_state = {
			count = all
			state_region = {
				NOT = {
					is_homeland = cu:greek
					is_homeland = cu:rhomaios
					is_homeland = cu:serb
					is_homeland = cu:bulgarian
					is_homeland = cu:bosniak
					is_homeland = cu:albanian
					is_homeland = cu:croat
					is_homeland = cu:slovene
				}
			}
		}
	}
	
	on_fail = {
		set_global_variable = turkfm_separatism_complete
	}
	
	on_weekly_pulse = {
		effect = {
			turkfm_calculate_tension_effect = yes
		}
	}
	
	on_monthly_pulse = {
		events = {
			turkfm.200 # The Rise of Nationalism
			turkfm.208 # Strategic Region Lost
			turkfm.209 # Strategic Region Secured
			
#			turkfm.260 # [TECH] Starts Great Eastern Crisis
			
		}
		random_events = {
			chance_of_no_event = 95
			
			# Stable Phase
			5 = turkfm.210 # Extortionate Taxation in State
			5 = turkfm.211 # Plague Outbreak in State
			5 = turkfm.212 # Ecumenical Patriarch Demands Protections
			
			# Unrest Phase
#			5 = turkfm.220 # OPEN
			
			# Hosility Phase
			5 = turkfm.230 # Churches Burned in State
			5 = turkfm.231 # Popular Speaker Lynched in State
			5 = turkfm.232 # Brigandage in State
#			5 = turkfm.233 # Port Burned in State
			
			# Deconfliction Phase
#			turkfm.240 # OPEN
			
			# Revolt Events
			5 = turkfm.250 # Riots in State
		}
		effect = {
			turkfm_advance_tension_effect = yes
			turkfm_check_phase_effect = yes
		}
	}
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = je_turkfm_separatism_phase_stable
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 1
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_unrest
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 2
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_hostility
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 3
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_deconfliction
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 4
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_crisis
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 5
				}
			}
		}
	}
	
	weight = 3000
	
}

je_turkfm_separatism_sub = { # This is assigned to Subjects of the Ottomans
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	
	group = je_group_turkfm_separatism
	
	should_be_pinned_by_default = yes
	
	immediate = {
		turkfm_tension_start_effect = yes
	}
	
	modifiers_while_active = {
		modifier_turkfm_national_aspiriations
	}
	
	complete = {
		OR = {
			NOT = {
				is_subject_of = c:TUR
			}
			NOT = {
				exists = c:TUR
			}
		}
	}
	
	on_complete = {
	}
	
	invalid = {
		custom_tooltip = {
			text = turkfm_separatism_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_separatism_complete
			}
		}
	}
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = je_turkfm_separatism_phase_stable
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 1
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_unrest
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 2
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_hostility
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 3
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_deconfliction
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 4
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_crisis
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 5
				}
			}
		}
	}
	
	weight = 1000
	
}

je_turkfm_eastern_question = { # This is assigned to Involved GPs
	icon = "gfx/interface/icons/event_icons/event_ottoman.dds"
	
	group = je_group_turkfm_eastern_question
	
	should_be_pinned_by_default = yes
	
	immediate = {
		turkfm_tension_start_effect = yes
	}
	
	scripted_button = turkfm_pro_turk_button
	scripted_button = turkfm_anti_turk_button
	scripted_button = turkfm_decelerate_button
	scripted_button = turkfm_accelerate_button
	
	complete = {
		OR = {
			custom_tooltip = {
				text = je_turkfm_eastern_question_complete_tt
				hidden_trigger = {
					has_global_variable = turkfm_sick_man_complete
				}
			}
		}
	}
	
	on_complete = {
		hidden_effect = {
			remove_modifier = modifier_turkfm_favoring_ottomans
			remove_modifier = modifier_turkfm_opposing_ottomans
			remove_modifier = modifier_turkfm_decelerating_tensions
			remove_modifier = modifier_turkfm_accelerating_tensions
			remove_variable = turkfm_millet_transition_local_var
		}
	}
	
	fail = {
		OR = {
			NOT = {
				exists = c:TUR
			}
			NOT = {
				has_diplomatic_relevance = c:TUR
			}
		}
	}
	
	on_fail = {
		hidden_effect = {
			remove_modifier = modifier_turkfm_favoring_ottomans
			remove_modifier = modifier_turkfm_opposing_ottomans
			remove_modifier = modifier_turkfm_decelerating_tensions
			remove_modifier = modifier_turkfm_accelerating_tensions
			remove_variable = turkfm_millet_transition_local_var
		}
	}
	
	invalid = {
		custom_tooltip = {
			text = turkfm_separatism_completed_tt
			hidden_trigger = {
				has_global_variable = turkfm_separatism_complete
			}
		}
	}
	
	on_weekly_pulse = {
		effect = {
			set_variable = {
				name = turkfm_millet_transition_local_var
				value = global_var:turkfm_separatism_transition_var
			}
		}
	}
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = je_turkfm_separatism_phase_stable
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 1
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_unrest
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 2
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_hostility
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 3
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_deconfliction
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 4
				}
			}
			triggered_desc = {
				desc = je_turkfm_separatism_phase_crisis
				trigger = {
					global_var:turkfm_separatism_phase_var ?= 5
				}
			}
		}
	}
	
	weight = 100
	
}


########################################
##  TURK4  TURKISH HISTORICAL FLAVOR  ##
########################################

# //OPEN


#######################################
##  TURK8  BALKAN NATIONAL REVIVALS  ##
#######################################

# //OPEN

################################################
##  TURK9  ARAB & ARMENIAN NATIONAL REVIVALS  ##
################################################

# //OPEN

