###################
# THE BAVAROCRACY #
###################

je_grefm_bavarocracy_main = {
	icon = "gfx/interface/icons/event_icons/event_otto.dds"
	
	group = je_group_grefm_monarchism
	
	should_be_pinned_by_default = yes
	
	immediate = {		
		set_variable = {
			name = grefm_bavarocracy_progress_var
			value = grefm_bavarocracy_progress_value
		}
	}
	
	modifiers_while_active = {
		modifier_grefm_bavarocracy
		modifier_grefm_westernized_thought
	}
	
	scripted_button = grefm_dismiss_auxilliaries_button
	scripted_button = grefm_release_nikitaras_button
	scripted_button = grefm_authorize_palace_button
	scripted_button = grefm_philhellenic_loan_button
	
	complete = {
		has_law = law_type:law_monarchy
		OR = {
			NOR = {
				has_law = law_type:law_autocracy
				has_law = law_type:law_oligarchy
				has_law = law_type:law_landed_voting
			}
			has_law = law_type:law_autocracy
		}
		custom_tooltip = {
			text = je_grefm_bavarocracy_main_complete_tt
			hidden_trigger = {
				scope:journal_entry = {
					is_goal_complete = yes
				}
			}
		}
		custom_tooltip = {
			text = grefm_regency_discharged_tt
			hidden_trigger = {
				NOT = {
					has_modifier = modifier_grefm_armansperg_regency
				}
			}
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.007 # The Bavarocracy Secured
		}
		hidden_effect = {
			grefm_cleanup_bavarocracy_effect = yes
		}
	}
		
	fail = { # Without any interaction, this will fire in the 1860s. You have hella time... irl, Otto got to shit the bed for a while anyways
		custom_tooltip = {
			text = je_grefm_bavarocracy_main_fail_tt1
			hidden_trigger = {
				var:grefm_bavarocracy_var <= 0
			}
		}
	}
	
	on_fail = {
		custom_tooltip = {
			text = je_grefm_bavarocracy_main_fail_tt2
			hidden_effect = {
				if = {
					limit = {
						has_variable = grefm_tyranny_busted
					}
					trigger_event = {
						id = grefm.008 # The Overthrow of the Bavarocracy
					}
				}
				else = {
					trigger_event = {
						id = grefm.006 # The October Revolution
					}
				}
			}
		}
		hidden_effect = {
			grefm_cleanup_bavarocracy_effect = yes
		}
	}
	
	invalid = {
		OR = {
			NOT = {
				has_law = law_type:law_monarchy 
			}
			hidden_trigger = {
				has_variable = grefm_bavarocracy_completed
			}
		}
	}
	
	on_invalid = {
		if = {
			limit = {
				NOT = {
					has_law = law_type:law_monarchy
				}
			}
			trigger_event = {
				id = grefm.005 # The Bavarocracy Abolished
			}
		}
		hidden_effect = {
			grefm_cleanup_bavarocracy_effect = yes
		}
	}
	
	on_weekly_pulse = {
		effect = {
			set_variable = {
				name = grefm_bavarocracy_progress_var
				value = grefm_bavarocracy_progress_value
			}
			if = {
				limit = {
					OR = {
						NOR = {
							has_variable = grefm_1843_revolution_happened
						}
						has_variable = grefm_tyranny_var
					}
				}
				set_variable = {
					name = grefm_bavarocracy_instability_progress_var
					value = grefm_bavarocracy_instability_progress_value
				}
			}
			else = {
				set_variable = {
					name = grefm_bavarocracy_instability_progress_var
					value = 0
				}
				set_variable = {
					name = grefm_bavarocracy_instability_var
					value = 0
				}
			}
		}
	}
	
	on_monthly_pulse = {
		events = {
			grefm.002 # A Crisis Averted
			grefm.003 # The September Revolution
			grefm.004 # Long Live the Constitution
			grefm.009 # A Disgraced Tyrant
			grefm.016 # The Philorthodox Conspiracy
			grefm.020 # Bavarianism in Greece
		}
		effect = {
			change_variable = {
				name = grefm_bavarocracy_var
				add = var:grefm_bavarocracy_progress_var
			}
			change_variable = {
				name = grefm_bavarocracy_instability_var
				add = var:grefm_bavarocracy_instability_progress_var
			}
			if = {
				limit = {
					has_variable = grefm_tyranny_var
					has_revolution = no
				}
				change_variable = {
					name = grefm_tyranny_var
					add = 1
				}
			}
		}
	}
	
	current_value = {
		value = var:grefm_bavarocracy_var
	}

	goal_add_value = {
		value = 2000
	}

	progressbar = yes	
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = je_grefm_bavarocracy_status_regency
				trigger = {
					has_modifier = modifier_grefm_armansperg_regency
				}
			}
			triggered_desc = {
				desc = je_grefm_bavarocracy_status_constitution
				trigger = {
					NOT = {
						has_variable = grefm_1843_revolution_happened
					}
				}
			}
			triggered_desc = {
				desc = je_grefm_bavarocracy_status_tyranny
				trigger = {
					has_variable = grefm_tyranny_var
				}
			}
			triggered_desc = {	
				desc = je_grefm_bavarocracy_status_bavarianism
				trigger = {
					has_variable = grefm_bavarocracy_secured
				}
			}
			triggered_desc = {
				desc = je_grefm_bavarocracy_main_status
			}
		}
	}

	weight = 5000

	transferable = no
}

###############################
# THE CONSTITUTIONAL MONARCHY #
###############################
je_grefm_the_dedilomeni_principle = {
	icon = "gfx/interface/icons/event_icons/event_glucksburg.dds"
	
	group = je_group_grefm_monarchism
	
	should_be_pinned_by_default = yes
	
	immediate = {
		if = {
			limit = {
				NOT = {
					has_variable = grefm_dedilomeni_var
				}
			}
			set_variable = {
				name = grefm_dedilomeni_var
				value = 0
			}
		}
	}
	
	complete = {
		custom_tooltip = {
			text = je_grefm_the_dedilomeni_principle_tt
			hidden_trigger = {
				scope:journal_entry = { 
					is_goal_complete = yes 
				}
			}
		}
		has_law = law_type:law_universal_suffrage
		government_legitimacy >= 80
		ig:ig_landowners = {
			is_in_government = no
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.033 # A Harmonious State
		}
		remove_variable = grefm_dedilomeni_var
	}
	
	invalid = {
		NOT = {
			has_law = law_type:law_monarchy
		}
	}
	
	current_value = {
		value = root.var:grefm_dedilomeni_var
	}

	goal_add_value = {
		value = 60
	}	
	
	on_monthly_pulse = {
		effect = {
			if = {
				limit = {
					AND = {
						has_law = law_type:law_universal_suffrage
						government_legitimacy >= 80
					}
				}
				change_variable = {
					name = grefm_dedilomeni_var
					add = 1
				}
			}
		}
	}
	
	progressbar = yes
	
	weight = 5000

}

je_grefm_the_military_league = { # this is a modified vanilla coup JE
	icon = "gfx/interface/icons/event_icons/event_glucksburg.dds"
	
	group = je_group_grefm_monarchism
	
	should_be_pinned_by_default = yes
	
	immediate = {
		random_interest_group = {
			limit = {
				has_variable = coup_ig_var
			}
			save_scope_as = coup_ig
			remove_variable = coup_ig_var
		}
		random_law = {
			limit = {
				type = law_type:law_parliamentary_republic
			}
			save_scope_as = coup_desired_law
		}
		remove_variable = coup_for_law
	}
	
	on_weekly_pulse = {
		effect = {
			if = {
				limit = {
					scope:coup_ig = {
						OR = {
							is_powerful = no
						}
					}
				}
				change_variable = {
					name = coup_var
					add = -1
				}
			}
			if = {
				limit = {
					scope:coup_ig = {
						is_powerful = yes
						ig_approval < 0
					}
				}
				change_variable = {
					name = coup_var
					add = 1
				}
			}
		}
	}
	
	on_monthly_pulse = {
		events = {
			grefm.045 # a cretan champion
		}
		random_events = {
			130 = 0
			10 = coup_pulse_events.1
			10 = coup_pulse_events.2
			10 = coup_pulse_events.3 
			10 = coup_pulse_events.4
			10 = coup_pulse_events.5
			10 = coup_pulse_events.6
			10 = coup_pulse_events.7
			10 = coup_pulse_events.8
			10 = coup_pulse_events.9
			10 = coup_pulse_events.10
			25 = coup_pulse_events.11
			25 = coup_pulse_events.12
			25 = coup_pulse_events.13
			25 = coup_pulse_events.14
			25 = coup_pulse_events.15
			25 = coup_pulse_events.16
			25 = coup_pulse_events.17
			25 = coup_pulse_events.18
		}
	}

	complete = {
		scope:coup_ig = {
			is_powerful = yes
			ig_approval < 0
		}
		scope:journal_entry = {
			is_goal_complete = yes
		}
	}
	
	on_complete = {
		custom_tooltip = coup_success_tt
		if = {
			limit = {
				scope:coup_ig = {
					is_interest_group_type = ig_armed_forces
				}
			}
			set_variable = achievement_military_junta_var
		}
		remove_variable = coup_var
		if = {
			limit = {
				exists = currently_enacting_law
			}
			currently_enacting_law = {
				type = {
					save_scope_as = law_being_enacted
				}
				currently_active_law_in_group = {
					type = {
						save_scope_as = law_being_replaced
					}
				}
			}
			if = {
				limit = {
					scope:coup_ig = {
						prefers_law = { # If we prefer the current law to the enacting law
							law = scope:law_being_replaced
							comparison_law = scope:law_being_enacted
						}
					}
				}
				cancel_enactment = yes
			}	
		}
		trigger_event = {
			id = grefm.046 # the goudi coup
			popup = yes
		}
	}
	
	fail = {
		OR = {
			# fail if the coup has run out of steam
			custom_tooltip = {
				text = coup_no_progress
				root.var:coup_var <= 0
			}
			# fail if IG changes law stances
			scope:coup_ig = {
				law_stance = {
					law = scope:coup_desired_law.type
					value < approve
				}
			}
		}
	}
	
	on_fail = {
		custom_tooltip = coup_remove_ig
		# IG is angry that they were removed from government
		if = {
			limit = {
				scope:coup_ig = {
					is_in_government = no
					has_variable = resigned_from_gov_coup
				}
			}
			trigger_event = { id = coup.5 popup = yes }
			remove_variable = resigned_from_gov_coup
		}
		# coup runs out of steam or IG changes law stances
		else_if = {
			limit = {
				OR = {
					root.var:coup_var <= 0
					scope:coup_ig = {
						law_stance = {
							law = scope:coup_desired_law.type
							value < approve
						}
					}
				}
			}
			trigger_event = { id = coup.4 popup = yes }
		}
		remove_variable = coup_var
	}

	invalid = {
		OR = {
			NOT = {
				exists = scope:coup_desired_law
			}
			NOT = {
				exists = scope:coup_ig
			}
			has_law = scope:coup_desired_law.type
			hidden_trigger = {
				has_variable = grefm_venizelos_has_landed
			}
		}
	}
	
	on_invalid = {
		remove_variable = coup_var
		if = {
			limit = {
				has_variable = grefm_venizelos_has_landed
			}
			hidden_effect = {
				trigger_event = {
					id = grefm.048 # the rise of the ethnarch
					popup = yes
				}
			}
		}
	}

	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = coup_advancing
				trigger = {
					scope:coup_ig = {
						is_powerful = yes
						ig_approval < 0
					}
				}
			}
			triggered_desc = {
				desc = coup_declining
				trigger = {
					scope:coup_ig = {
						OR = {
							is_powerful = no
						}
					}
				}
			}
		}
	}

	current_value = {
		value = root.var:coup_var
	}

	goal_add_value = {
		add = 100
	}

	progressbar = yes

	should_be_pinned_by_default = yes

	transferable = no
	
	can_revolution_inherit = no

	weight = 100
	
}

################################
# THAT NONSENSE WITH VENIZELOS #
################################

je_grefm_venizelism_main = {
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	group = je_group_grefm_venizelos
	
	should_be_pinned_by_default = yes
	
	complete = {
		custom_tooltip = {
			text = je_grefm_venizelism_tt1
			hidden_trigger = {
				has_variable = grefm_nationalism_complete
			}
		}
		custom_tooltip = {
			text = je_grefm_venizelism_tt2
			hidden_trigger = {
				has_variable = grefm_venizelism_civics_completed
			}
		}
		custom_tooltip = {
			text = je_grefm_venizelism_tt3
			hidden_trigger = {
				has_variable = grefm_venizelism_military_completed
			}
		}
		custom_tooltip = {
			text = je_grefm_venizelism_tt4
			hidden_trigger = {
				has_variable = grefm_venizelism_society_completed
			}
		}
		custom_tooltip = {
			text = je_grefm_venizelism_tt5
			hidden_trigger = {
				has_variable = grefm_venizelism_education_completed
			}
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.059 # The Greek State Resurgent
		}
		set_variable = grefm_venizelism_completed
	}
	
	fail = {
		OR = {
			has_law = law_type:law_council_republic
			has_law = law_type:law_anarchy
		}
	}
	
	on_fail = {
		set_variable = grefm_venizelism_completed
	}
	
	modifiers_while_active = {
		modifier_grefm_venizelist_tilt # Ankyra! Ankyra! Ankyra!
	}
	
	weight = 2000

}

je_grefm_venizelism_civics = {
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	group = je_group_grefm_venizelos
	
	complete = {
		has_law = law_type:law_universal_suffrage
		NOT = { has_law = law_type:law_hereditary_bureaucrats }
		OR = {
			has_law = law_type:law_commercialized_agriculture
			has_law = law_type:law_homesteading
		}
		OR = {
			has_law = law_type:law_dedicated_police
			has_law = law_type:law_militarized_police
		}
		any_scope_building = {
			is_building_type = building_government_administration
			OR = {
				has_active_production_method = pm_vertical_filing_cabinets
				has_active_production_method = pm_switch_boards
			}
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.052 # A Competent Bureaucracy
		}
	}
	
	invalid = {
		OR = {
			has_variable = grefm_venizelism_completed
			has_variable = grefm_venizelism_civics_completed
		}
	}
	
	weight = 500
	
}

je_grefm_venizelism_military = { # The numbers used in this journal are not arbitrary. See the notes below.
	icon = "gfx/interface/icons/event_icons/event_military.dds"
	
	group = je_group_grefm_venizelos
	
	complete = {
		has_law = law_type:law_mass_conscription
		any_military_formation = {
			any_combat_unit = {
				count >= 80 # This is based on the frontline forces of the Army of Thessaly; see below.
				OR = {
					has_unit_type = unit_type:combat_unit_type_trench_infantry
					has_unit_type = unit_type:combat_unit_type_squad_infantry
					has_unit_type = unit_type:combat_unit_type_mechanized_infantry
					has_unit_type = unit_type:combat_unit_type_shrapnel_artillery
					has_unit_type = unit_type:combat_unit_type_siege_artillery
					has_unit_type = unit_type:combat_unit_type_heavy_tank
				}
			}
		}
		any_military_formation = {
			any_combat_unit = {
				count >= 20 # This is a round number based on surface combatants at the start of WWI; see below.
				OR = {
					has_unit_type = unit_type:combat_unit_type_destroyer
					has_unit_type = unit_type:combat_unit_type_torpedo_boat
					has_unit_type = unit_type:combat_unit_type_scout_cruiser
					has_unit_type = unit_type:combat_unit_type_ironclad
					has_unit_type = unit_type:combat_unit_type_dreadnought
					has_unit_type = unit_type:combat_unit_type_battleship
				}
			}
		}
	}
	
	## Some Notes on the completion requirements (drawn from Greek-language sources):
		# The Greek Army during the First Balkan War consisted of roughly 130k men with no corps-level or higher structure in place until war was declared.
			# The primary force was was the "Army of Thessaly", with roughly 100k men, of which 80k were organized into frontline units. The "Concise History of the Balkan Wars" states:
				# 59 Infantry with 4 Evzones battalions
				# 8 Cavalry Companies
				# 32 Artillery Companies
			# The Secondary force was of the "Army of Epirus" that varied from 10k to 13k men with various forms of organization.
			# A third force the "Interior Army" is referenced in some sources with between 10k to 20k men, but doesn't seem to have been intended as a frontline formation.
		# The Hellenic navy had around a dozen ships during the Balkan Wars with a rapid expansion of the Navy occuring after the outbreak of hostilities; They joined WWI with 22 surface combatants.
		# I have contradicting sources about when exactly conscription was adopted and in which forms, but it was definitely in place as general conscription by 1917 when Greece joined WWI.
	
	on_complete = {
		trigger_event = {
			id = grefm.054 # A Formidable Military
		}
	}
	
	invalid = {
		OR = {
			has_variable = grefm_venizelism_completed
			has_variable = grefm_venizelism_military_completed
		}
	}
	
	weight = 500
	
}

je_grefm_venizelism_society = {
	icon = "gfx/interface/icons/event_icons/event_election.dds"
	
	group = je_group_grefm_venizelos

	complete = {
		NOT = { has_law = law_type:law_no_womens_rights }
		NOT = { has_law = law_type:law_child_labor_allowed }
		NOT = { has_law = law_type:law_no_workers_rights }
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.056 # A Modern Society
		}
	}

	invalid = {
		OR = {
			has_variable = grefm_venizelism_completed
			has_variable = grefm_venizelism_society_completed
		}
	}

	weight = 500

}

je_grefm_venizelism_education = {
	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"
	
	group = je_group_grefm_venizelos
	
	complete = {
		has_law = law_type:law_public_schools
		has_law = law_type:law_compulsory_primary_school
		institution_investment_level = {
			institution = institution_schools
			value >= 4
		}
		literacy_rate >= 0.50
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.058 # An Educated Populace
		}
	}
	
	invalid = {
		OR = {
			has_variable = grefm_venizelism_completed
			has_variable = grefm_venizelism_education_completed
		}
	}
	
	weight = 500

}

je_grefm_venizelism_constitution = {
	icon = "gfx/interface/icons/event_icons/event_venizelos.dds"
	
	group = je_group_grefm_venizelos

	complete = {
		NOT = { has_law = law_type:law_monarchy }
	}
	
	on_complete = {
	}
	
	invalid = {
		hidden_trigger = {
			has_variable = grefm_venizelism_completed
		}
	}

	weight = 500

}

################################
# GREEK NATIONALISM / IDENTITY #
################################

je_grefm_greek_nationalism = {
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	group = je_group_grefm_nationalism
	
	is_shown_when_inactive = {
		OR = {
			country_has_primary_culture = cu:hellene
			country_has_primary_culture = cu:rhomaios
		}
	}
	
	possible = {
		has_technology_researched = mass_communication
	}
	
	immediate = {
		hidden_effect = {
			trigger_event = {
				id = grefm.200 # What is a Greek
			}
		}
		set_variable = {
			name = grefm_hellene_culture_var
			value = 0
		}
		set_variable = {
			name = grefm_rhomaios_culture_var
			value = 0
		}
	}
	
	scripted_progress_bar = grefm_hellenism_progress_bar
	scripted_progress_bar = grefm_romanism_progress_bar

	scripted_button = grefm_embrace_hellenic_identity_button
	scripted_button = grefm_embrace_roman_identity_button
	scripted_button = grefm_embrace_hybrid_identity_button
	
	complete = {
		has_technology_researched = pan-nationalism
		custom_tooltip = {
			text = je_grefm_greek_nationalism_complete_tt
			hidden_trigger = {
				has_variable = grefm_nationalism_complete
			}
		}
	}
	
	on_weekly_pulse = {
		effect = {
			set_variable = {
				name = grefm_hellene_culture_var
				value = grefm_hellenism_value
			}
			set_variable = {
				name = grefm_rhomaios_culture_var
				value = grefm_romanism_value
			}
		}
	}
	
	on_monthly_pulse = {
		effect = {
			je:je_grefm_greek_nationalism = {
				set_bar_progress = {
					name = grefm_hellenism_progress_bar
					value = grefm_hellenism_value
				}
			}
			je:je_grefm_greek_nationalism = {
				set_bar_progress = {
					name = grefm_romanism_progress_bar
					value = grefm_romanism_value
				}
			}
		}
	}
	
	weight = 3000 # third billing, behind je_grefm_megali_idea

}

je_grefm_national_language = {
	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"
	
	group = je_group_grefm_nationalism
	
	is_shown_when_inactive = {
		has_journal_entry = je_grefm_greek_nationalism
	}

	possible = {
		has_technology_researched = empiricism
		literacy_rate > 0.20
	}
	
	immediate = {
		trigger_event = {
			id = grefm.206 # The Language Question
		}
	}
	
	scripted_progress_bar = grefm_dimotiki_progress_bar
	scripted_progress_bar = grefm_katharevousa_progress_bar
	scripted_progress_bar = grefm_khoine_progress_bar
	scripted_progress_bar = grefm_rhomaiika_progress_bar
	
	scripted_button = grefm_declare_national_language_button
	
	complete = {
		custom_tooltip = {
			text = je_grefm_declared_national_language_tt
			hidden_trigger = {
				OR = {
					has_variable = grefm_greek_language_demotic
					has_variable = grefm_greek_language_katharevousa
					has_variable = grefm_greek_language_khoine
					has_variable = grefm_greek_language_rhomaiika
				}
			}
		}
	}
	
	on_complete = {
	}
	
	weight = 2997
}

je_grefm_archaeology = {
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	group = je_group_grefm_nationalism
	
	should_be_pinned_by_default = yes
	
	is_shown_when_inactive = {
#		morgenrote_is_active = no ##TODO MGR Compatch
		has_journal_entry = je_grefm_greek_nationalism
	}

	possible = {
		any_scope_building = {
			is_building_type = building_university
		}
	}
	
	immediate = {
		grefm_initialize_archaeology_effect = yes
		trigger_event = {
			id = grefm.140 # The Archaeological Society of Athens
		}
	}
	
	complete = {
		custom_tooltip = {
			text = je_grefm_archaeology_complete_tt
			hidden_trigger = {
				OR = {
					AND = {
						NOR = {
							has_variable = grefm_hellenic_sites_allowed
							has_variable = grefm_roman_sites_allowed
						}
						var:grefm_archeaology_var >= 8
					}
					AND = {
						OR = {
							has_variable = grefm_hellenic_sites_allowed
							has_variable = grefm_roman_sites_allowed
						}
						var:grefm_archeaology_var >= 16
					}
				}
			}
		}
	}
	
	on_complete = {
		grefm_cleanup_archaeology_effect = yes
	}
	
	scripted_button = grefm_archeaology_greek_sites_button
	scripted_button = grefm_archeaology_roman_sites_button
	scripted_button = grefm_archeaology_alternate_site_button
	scripted_button = grefm_archeaology_cancel_button

	scripted_button = grefm_archeaology_parthenon_button_1
	scripted_button = grefm_archeaology_parthenon_button_2
	scripted_button = grefm_archeaology_mycenae_button_1
	scripted_button = grefm_archeaology_mycenae_button_2
	scripted_button = grefm_archeaology_gla_button
	scripted_button = grefm_archeaology_delos_button
	scripted_button = grefm_archeaology_larissa_button
	scripted_button = grefm_archeaology_rhodes_button
	
	scripted_button = grefm_archeaology_corinth_button_1 # Hexamillion
	scripted_button = grefm_archeaology_corinth_button_2 # Acrocorinth
	scripted_button = grefm_archeaology_thessaloniki_button # Heptapyrgion
	scripted_button = grefm_archeaology_thebes_button # Silk Workshops
	scripted_button = grefm_archeaology_nicomedia_button
	scripted_button = grefm_archeaology_smyrna_button
	scripted_button = grefm_archeaology_tyana_button
	scripted_button = grefm_archeaology_chios_button
	
	
	on_monthly_pulse = {
		effect = {
			if = {
				limit = {
					has_modifier = modifier_grefm_active_excavation
				}
				change_variable = {
					name = grefm_excavation_var
					add = 1
				}
			}
		}
		events = {
			grefm.143 # Hellenic Excavation Completed
			grefm.144 #	Roman Excavation Completed
		}
		random_events = {
			400 = 0
			10 = grefm.150 # Excavation Proceeding Smoothly
			 5 = grefm.151 # Industrial Equipment Requested
			 1 = grefm.152 # Ancient Tomb Uncovered
			 5 = grefm.153 # Mudslide at the Excavation Site
			 1 = grefm.154 # Disaster at the Excavation Site
			10 = grefm.155 # Popular Interest in Excavation
			 1 = grefm.156 # Palace Uncovered
			 5 = grefm.158 # IG Offers Funding
			 5 = grefm.159 # Reconstruction Garners Criticism
		}
	}
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				trigger = {
					NOT = {
						has_modifier = modifier_grefm_active_excavation
					}
				}
				desc = je_grefm_archaeology_status
			}
		}
	}
	
	weight = 2999
	
}

####################
# GREEK REVANCHISM #
####################

je_grefm_megali_idea = {
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	group = je_group_grefm_megali_idea
	
	should_be_pinned_by_default = yes

	is_shown_when_inactive = {
		country_has_primary_culture = cu:hellene
		NOR = { 
			has_global_variable = has_formed_byz
			has_global_variable = grefm_megali_idea_complete
			has_journal_entry = je_grefm_scions_of_rhomania
		}
	}

	possible = {
		has_technology_researched = nationalism
	}

	immediate = {
		trigger_event = {
			id = grefm.271 # The Megali Idea
		}
	}
	
	scripted_button = grefm_ionian_enosis_button
	scripted_button = grefm_ionian_enosis_alternate_button
	scripted_button = grefm_samos_enosis_button

	complete = {
		is_subject = no
		owns_entire_state_region = STATE_EASTERN_THRACE
		calc_true_if = {
			amount >= 10
			owns_entire_state_region = STATE_ATTICA
			owns_entire_state_region = STATE_PELOPONNESE
			owns_entire_state_region = STATE_THESSALIA
			owns_entire_state_region = STATE_MACEDONIA
			owns_entire_state_region = STATE_SKOPIA
			owns_entire_state_region = STATE_WESTERN_THRACE
			owns_entire_state_region = STATE_NORTHERN_THRACE
			owns_entire_state_region = STATE_HUDAVENDIGAR
			owns_entire_state_region = STATE_AYDIN
			owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
			owns_entire_state_region = STATE_EAST_AEGEAN_ISLANDS
			owns_entire_state_region = STATE_ALBANIA
			owns_entire_state_region = STATE_CRETE
			owns_entire_state_region = STATE_IONIAN_ISLANDS
		}
	}

	on_complete = {
		trigger_event = { 
			id = grefm.272 # The Future of Greece
		}
	}
	
	invalid = {
		hidden_trigger = {
			OR = {
				has_variable = grefm_weaksauce
				has_global_variable = has_formed_byz
				has_global_variable = grefm_megali_idea_complete
			}
		}
	}
	
	on_invalid = {
		set_variable = grefm_tzatzikisauce
	}

	weight = 4000 # second up to je_grefm_bavarocracy_main

}

je_grefm_greater_greece = {
	icon = "gfx/interface/icons/event_icons/event_hellenic.dds"
	
	group = je_group_grefm_megali_idea
	
	should_be_pinned_by_default = yes

	is_shown_when_inactive = {
		country_has_primary_culture = cu:hellene
		country_has_primary_culture = cu:rhomaios
	}
	
	possible = {
		has_technology_researched = pan-nationalism
		custom_tooltip = {
			text = je_grefm_greater_greece_possible_tt
			hidden_trigger = {
				has_variable = grefm_empire_rejected
			}
		}
	}
	
	immediate = {
		trigger_event = {
			id = grefm.273 # The Lands of Greater Greece
		}
	}
	
	complete = {
		custom_tooltip = {
			text = je_grefm_greater_greece_tt
			hidden_trigger = {
				owns_entire_state_region = STATE_EASTERN_THRACE
				owns_entire_state_region = STATE_ATTICA
				owns_entire_state_region = STATE_THESSALIA
				owns_entire_state_region = STATE_MACEDONIA
				owns_entire_state_region = STATE_SKOPIA
				owns_entire_state_region = STATE_WESTERN_THRACE
				owns_entire_state_region = STATE_NORTHERN_THRACE
				owns_entire_state_region = STATE_HUDAVENDIGAR
				owns_entire_state_region = STATE_AYDIN
				owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
				owns_entire_state_region = STATE_EAST_AEGEAN_ISLANDS
				owns_entire_state_region = STATE_ALBANIA
			}
		}
		owns_entire_state_region = STATE_CRETE
		owns_entire_state_region = STATE_IONIAN_ISLANDS
		owns_entire_state_region = STATE_CYPRUS
		owns_entire_state_region = STATE_KASTAMONU
		owns_entire_state_region = STATE_TRABZON
		owns_entire_state_region = STATE_ADANA
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.274 # The Greek Realm
		}
	}
	
	invalid = {
		hidden_trigger = {
			has_variable = grefm_weaksauce
		}
	}
	
	weight = 2000 # will fall in behind je_grefm_greek_nationalism
	
}

je_grefm_scions_of_rhomania = {
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	group = je_group_grefm_megali_idea
	
	should_be_pinned_by_default = yes

	is_shown_when_inactive = {
		country_has_primary_culture = cu:rhomaios
		NOR = { 
			has_global_variable = has_formed_byz
			has_global_variable = grefm_megali_idea_complete
			has_journal_entry = je_grefm_megali_idea
		}
	}

	possible = {
		has_technology_researched = nationalism
	}

	immediate = {
		trigger_event = {
			id = grefm.281 # The Themata of Anatolia
		}
	}

	complete = {
		is_subject = no
		owns_entire_state_region = STATE_EASTERN_THRACE
		calc_true_if = {
			amount >= 10
			owns_entire_state_region = STATE_ATTICA
			owns_entire_state_region = STATE_PELOPONNESE
			owns_entire_state_region = STATE_THESSALIA
			owns_entire_state_region = STATE_MACEDONIA
			owns_entire_state_region = STATE_SKOPIA
			owns_entire_state_region = STATE_WESTERN_THRACE
			owns_entire_state_region = STATE_NORTHERN_THRACE
			owns_entire_state_region = STATE_HUDAVENDIGAR
			owns_entire_state_region = STATE_AYDIN
			owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
			owns_entire_state_region = STATE_EAST_AEGEAN_ISLANDS
			owns_entire_state_region = STATE_ALBANIA
			owns_entire_state_region = STATE_CRETE
			owns_entire_state_region = STATE_IONIAN_ISLANDS
		}
	}

	on_complete = {
		trigger_event = { 
			id = grefm.282 # The Throne of the East
		}
	}
	
	invalid = {
		hidden_trigger = {
			OR = {
				has_variable = grefm_weaksauce
				has_global_variable = has_formed_byz
				has_global_variable = grefm_megali_idea_complete
			}
		}
	}
	
	on_invalid = {
		set_variable = grefm_tzatzikisauce
	}

	weight = 1000

}
	
#############################
# THE REVENGE OF THE GREEKS #
#############################

je_grefm_revenge_of_the_greeks = {
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	group = je_group_grefm_empire
	
	should_be_pinned_by_default = yes	
	
	is_shown_when_inactive = {
		nottomans_country_has_greek_culture_trigger = yes
		NOR = {
			c:BYZ ?= this
			has_variable = grefm_weaksauce
		}
	}
	
	possible = {
		custom_tooltip = {
			text = je_grefm_revenge_of_the_greeks_tt
			hidden_trigger = {
				c:HEMP ?= this
			}
		}
	}
	
	immediate = {
		trigger_event = {
			id = grefm.300 # The Revenge of the Greeks
		}
	}
	
	modifiers_while_active = {
		modifier_grefm_hellenic_aspiriations
	}	
	
	complete = {
		custom_tooltip = {
			text = je_grefm_revenge_of_the_greeks_complete_tt1
			hidden_trigger = {
				calc_true_if = {
					amount > 9
					country_or_subject_owns_entire_state_region = STATE_ALBANIA
					country_or_subject_owns_entire_state_region = STATE_BOSNIA
					country_or_subject_owns_entire_state_region = STATE_BULGARIA
					country_or_subject_owns_entire_state_region = STATE_CRETE
					country_or_subject_owns_entire_state_region = STATE_CROATIA
					country_or_subject_owns_entire_state_region = STATE_DALMATIA
					country_or_subject_owns_entire_state_region = STATE_IONIAN_ISLANDS
					country_or_subject_owns_entire_state_region = STATE_MACEDONIA
					country_or_subject_owns_entire_state_region = STATE_MONTENEGRO
					country_or_subject_owns_entire_state_region = STATE_NORTHERN_SERBIA
					country_or_subject_owns_entire_state_region = STATE_NORTHERN_THRACE
					country_or_subject_owns_entire_state_region = STATE_PELOPONNESE
					country_or_subject_owns_entire_state_region = STATE_SKOPIA
					country_or_subject_owns_entire_state_region = STATE_SLAVONIA
					country_or_subject_owns_entire_state_region = STATE_SLOVENIA
					country_or_subject_owns_entire_state_region = STATE_SOUTHERN_SERBIA
					country_or_subject_owns_entire_state_region = STATE_THESSALIA
					country_or_subject_owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
					country_or_subject_owns_entire_state_region = STATE_WESTERN_THRACE
				}
			}
		}
		custom_tooltip = {
			text = je_grefm_revenge_of_the_greeks_complete_tt2
			hidden_trigger = {
				calc_true_if = {
					amount > 8
					country_or_subject_owns_entire_state_region = STATE_ADANA
					country_or_subject_owns_entire_state_region = STATE_ANKARA
					country_or_subject_owns_entire_state_region = STATE_AYDIN
					country_or_subject_owns_entire_state_region = STATE_CYPRUS
					country_or_subject_owns_entire_state_region = STATE_DIYARBAKIR
					country_or_subject_owns_entire_state_region = STATE_EAST_AEGEAN_ISLANDS
					country_or_subject_owns_entire_state_region = STATE_EASTERN_THRACE
					country_or_subject_owns_entire_state_region = STATE_ERZURUM
					country_or_subject_owns_entire_state_region = STATE_HUDAVENDIGAR
					country_or_subject_owns_entire_state_region = STATE_KASTAMONU
					country_or_subject_owns_entire_state_region = STATE_KONYA
					country_or_subject_owns_entire_state_region = STATE_TRABZON
				}
			}
		}
	}
		
	on_complete = {
		trigger_event = {
			id = grefm.302 # The Shores of Phoenicia
		}
	}

	weight = 10000
}

je_grefm_shores_of_phoenicia = {
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	group = je_group_grefm_empire
	
	should_be_pinned_by_default = yes	

	modifiers_while_active = {
		modifier_grefm_hellenic_aspiriations
	}
	
	complete = {
		country_rank >= rank_value:great_power
		any_scope_state = {
			has_building = building_mega_palation
		}
		country_or_subject_owns_entire_state_region = STATE_ALEPPO
		country_or_subject_owns_entire_state_region = STATE_LEBANON
		country_or_subject_owns_entire_state_region = STATE_SYRIA
		country_or_subject_owns_entire_state_region = STATE_PALESTINE
		country_or_subject_owns_entire_state_region = STATE_TRANSJORDAN
		country_or_subject_owns_entire_state_region = STATE_SINAI
		country_or_subject_owns_entire_state_region = STATE_LOWER_EGYPT
		country_or_subject_owns_entire_state_region = STATE_MIDDLE_EGYPT
		country_or_subject_owns_entire_state_region = STATE_UPPER_EGYPT
		country_or_subject_owns_entire_state_region = STATE_MATRUH
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.303 # The Lands of Arianōn
		}
		hidden_effect = {
			trigger_event = {
				id = grefm.308 # The Foundings of Alexander
				days = 90
			}
		}
	}
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = je_grefm_shores_of_phoenicia_status
			}
		}
	}

	weight = 10000
	
}

je_grefm_lands_of_arianon = {
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	group = je_group_grefm_empire

	should_be_pinned_by_default = yes

	modifiers_while_active = {
		modifier_grefm_hellenic_aspiriations
	}

	complete = {
		country_or_subject_owns_entire_state_region = STATE_ERZURUM
		country_or_subject_owns_entire_state_region = STATE_DIYARBAKIR
		country_or_subject_owns_entire_state_region = STATE_MOSUL
		country_or_subject_owns_entire_state_region = STATE_URMIA
		country_or_subject_owns_entire_state_region = STATE_TABRIZ
		country_or_subject_owns_entire_state_region = STATE_PERSIAN_KURDISTAN
		country_or_subject_owns_entire_state_region = STATE_LURISTAN
		country_or_subject_owns_entire_state_region = STATE_MAZANDARAN
		country_or_subject_owns_entire_state_region = STATE_IRAKAJEMI
		country_or_subject_owns_entire_state_region = STATE_SEMNAN
		country_or_subject_owns_entire_state_region = STATE_ISFAHAN
		country_or_subject_owns_entire_state_region = STATE_FARS
		country_or_subject_owns_entire_state_region = STATE_IRAKAJEMI
		country_or_subject_owns_entire_state_region = STATE_LARISTAN
		country_or_subject_owns_entire_state_region = STATE_KHORASAN
		country_or_subject_owns_entire_state_region = STATE_KERMAN
		country_or_subject_owns_entire_state_region = STATE_SISTAN 
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.304 # The Graveyard of Empires
		}
	}
	
	weight = 10000
	
}

je_grefm_the_graveyard_of_empires = {
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	group = je_group_grefm_empire

	should_be_pinned_by_default = yes
	
	modifiers_while_active = {
		modifier_grefm_hellenic_aspiriations
	}

	complete = {
		country_or_subject_owns_entire_state_region = STATE_HERAT
		country_or_subject_owns_entire_state_region = STATE_CENTRAL_HIGHLANDS
		country_or_subject_owns_entire_state_region = STATE_KABUL
		country_or_subject_owns_entire_state_region = STATE_KANDAHAR
		country_or_subject_owns_entire_state_region = STATE_PASHTUNISTAN
		country_or_subject_owns_entire_state_region = STATE_QUETTA
		country_or_subject_owns_entire_state_region = STATE_NORTHERN_BALUCHISTAN
		country_or_subject_owns_entire_state_region = STATE_BALUCHISTAN
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.305 # The Empire of the Greeks
		}
	}
	
	weight = 10000
	
}

je_grefm_black_sea = {
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	group = je_group_grefm_empire
	
	is_shown_when_inactive = {
		c:HEMP ?= this
	}
	
	possible = {
		owns_entire_state_region = STATE_EASTERN_THRACE
		owns_entire_state_region = STATE_NORTHERN_THRACE
		owns_entire_state_region = STATE_HUDAVENDIGAR
		owns_entire_state_region = STATE_KASTAMONU
		owns_entire_state_region = STATE_TRABZON
	}
	
	immediate = {
		trigger_event = {
			id = grefm.306 # The Shores of the Hospitable Sea
		}
	}
	
	complete = {
		owns_entire_state_region = STATE_KARS
		owns_entire_state_region = STATE_GREATER_CAUCASUS
		owns_entire_state_region = STATE_CRIMEA
	}
	
	on_complete = {
		s:STATE_KARS = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_bosporan_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_GREATER_CAUCASUS = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_bosporan_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_CRIMEA = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_bosporan_legacy
					months = long_modifier_time
				}
			}
		}
	}
	
	invalid = {
		has_variable = grefm_weaksauce
	}

	weight = 1000

}

je_grefm_magna_graecia = {
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	group = je_group_grefm_empire

	is_shown_when_inactive = {
		c:HEMP ?= this
	}
	
	immediate = {
		trigger_event = {
			id = grefm.307 # The Lands of Magna Graecia
		}
	}
	
	possible = {
		owns_entire_state_region = STATE_ATTICA
		owns_entire_state_region = STATE_THESSALIA
		owns_entire_state_region = STATE_IONIAN_ISLANDS
		owns_entire_state_region = STATE_ALBANIA
	}
	
	complete = {
		owns_entire_state_region = STATE_APULIA
		owns_entire_state_region = STATE_CALABRIA
		owns_entire_state_region = STATE_CAMPANIA
		owns_entire_state_region = STATE_SICILY
	}
	
	on_complete = {
		s:STATE_APULIA = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_CALABRIA = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_CAMPANIA = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_SICILY = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_belisarian_legacy
					months = long_modifier_time
				}
			}
		}
	}
	
	invalid = {
		has_variable = grefm_weaksauce
	}

	weight = 1000

}

je_grefm_alexandria_oxus = {
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	group = je_group_grefm_empire

	complete = {
		country_or_subject_owns_entire_state_region = STATE_MERZ
		country_or_subject_owns_entire_state_region = STATE_UZBEKIA
	}
	
	on_complete = {
		s:STATE_MERZ = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_UZBEKIA = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}
	
	invalid = {
		has_variable = grefm_weaksauce
	}

	weight = 1000

}

je_grefm_alexandria_merv = {
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	group = je_group_grefm_empire
	
	complete = {
		country_or_subject_owns_entire_state_region = STATE_FERGANA
		country_or_subject_owns_entire_state_region = STATE_KIRGHIZIA
		country_or_subject_owns_entire_state_region = STATE_TAJIKISTAN
	}
	
	on_complete = {
		s:STATE_FERGANA = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_KIRGHIZIA = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_TAJIKISTAN = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}
	
	invalid = {
		has_variable = grefm_weaksauce
	}

	weight = 1000

}

je_grefm_alexandria_indus = {
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	group = je_group_grefm_empire
	
	complete = {
		country_or_subject_owns_entire_state_region = STATE_PUNJAB
		country_or_subject_owns_entire_state_region = STATE_SINDH
		country_or_subject_owns_entire_state_region = STATE_KASHMIR
	}
	
	on_complete = {
		s:STATE_PUNJAB = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_SINDH = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_KASHMIR = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}
	
	invalid = {
		has_variable = grefm_weaksauce
	}

	weight = 1000

}

je_grefm_alexandria_susiana = {
	icon = "gfx/interface/icons/event_icons/event_vergina_sun.dds"
	
	group = je_group_grefm_empire
	
	complete = {
		country_or_subject_owns_entire_state_region = STATE_KHUZESTAN
		country_or_subject_owns_entire_state_region = STATE_BASRA
		country_or_subject_owns_entire_state_region = STATE_BAGHDAD
	}
	
	on_complete = {
		s:STATE_KHUZESTAN = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_BASRA = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
		s:STATE_BAGHDAD = {
			every_scope_state = {
				add_modifier = {
					name = modifier_grefm_alexandrian_legacy
					months = long_modifier_time
				}
			}
		}
	}
	
	invalid = {
		has_variable = grefm_weaksauce
	}

	weight = 1000

}

####################
# GREEK SEPARATISM #
####################

je_grefm_greek_separatism_main = {
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	
	group = je_group_grefm_megali_idea
	
	should_be_pinned_by_default = yes
	
	is_shown_when_inactive = {
		country_has_primary_culture = cu:hellene
	}
	
	possible = {
		is_subject = no
		has_technology_researched = mass_communication
	}
	
	immediate = {
		if = {
			limit = {
				NOT = {
					has_variable = grefm_separatism_received
				}
			}
			trigger_event = {
				id = grefm.590 # Greek Separatism
			}
		}
		set_variable = grefm_separatism_received
	}
	
	scripted_button = grefm_epirus_support_button
	scripted_button = grefm_epirus_provoke_button
	
	scripted_button = grefm_macedonia_support_button
	scripted_button = grefm_macedonia_provoke_button
	
	scripted_button = grefm_skopia_support_button
	scripted_button = grefm_skopia_provoke_button
	
	scripted_button = grefm_smyrna_support_button
	scripted_button = grefm_smyrna_provoke_button	
	
	scripted_button = grefm_cyprus_support_button
	scripted_button = grefm_cyprus_provoke_button
	
	scripted_button = grefm_crete_support_button
	scripted_button = grefm_crete_provoke_button
	
	complete = {
		owns_entire_state_region = STATE_ALBANIA
		owns_entire_state_region = STATE_MACEDONIA
		owns_entire_state_region = STATE_SKOPIA
		owns_entire_state_region = STATE_AYDIN
		owns_entire_state_region = STATE_CRETE
		owns_entire_state_region = STATE_CYPRUS
	}
	
	on_complete = {
		hidden_effect = {
			grefm_clean_up_separatism_effect = yes
		}
	}
	
	invalid = {
		hidden_trigger = {
			has_variable = grefm_weaksauce
		}
	}
	
	on_invalid = {
		hidden_effect = {
			grefm_clean_up_separatism_effect = yes
		}
	}
	
	on_weekly_pulse = {
		effect = {
			grefm_calculate_separatism_variables_effect = yes
			grefm_check_separatism_modifiers_effect = yes
		}
	}
	
	on_monthly_pulse = {
		effect = {
			grefm_monthly_greek_separatism_effect = yes
		}
	}
	
	status_desc = {
		triggered_desc = {
			desc = je_grefm_greek_separatism_crete_tt
			trigger = {
				NOT = {
					owns_entire_state_region = STATE_CRETE
				}
			}
		}
	}
	
	weight = 1000 # will fall in behind je_grefm_greater_greece
	
}

je_grefm_greek_separatism_sub = {
	icon = "gfx/interface/icons/event_icons/event_fire.dds"
	
	group = je_group_grefm_nationalism
	
	should_be_pinned_by_default = yes
	
	immediate = {
		if = {
			limit = {
				NOT = {
					has_variable = grefm_separatism_received
				}
			}
			trigger_event = {
				id = grefm.290 # Greek Separatism
			}
		}
		set_variable = grefm_separatism_received
	}
	
	complete = {
		has_law = law_type:law_multicultural
	}
	
	fail = {
		NOR = {
			owns_entire_state_region = STATE_ALBANIA
			owns_entire_state_region = STATE_MACEDONIA
			owns_entire_state_region = STATE_SKOPIA
			owns_entire_state_region = STATE_AYDIN
			owns_entire_state_region = STATE_CRETE
			owns_entire_state_region = STATE_CYPRUS
		}
	}
	
	on_monthly_pulse = {
		events = {
			grefm.594 # The Makedonijan Revolt (TUR/EGY)
			grefm.595 # The Epirote Revolt (TUR/EGY)
			grefm.596 # The Cypriot Revolt (TUR/EGY)
			grefm.597 # The Macedonian Revolt (TUR/EGY)
			grefm.598 # The Smyrna Revolt (TUR/EGY)
			grefm.528 # Crete Seeks Greater Autonomy
			grefm.529 # Crete Revolts Again (TUR/EGY)
		}
	}
	
	status_desc = {
		triggered_desc = {
			desc = je_grefm_greek_separatism_crete_tt
			trigger = {
				OR = {
					AND = {
						has_state_in_state_region = STATE_CRETE
					}
					c:CRE ?= {
						is_subject_of = root
					}
				}
			}
		}
	}
	
	weight = 100
	
}


################
# OTHER FLAVOR #
################

je_grefm_the_womens_journal = {
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	group = je_group_grefm_content
	
	should_be_pinned_by_default = yes
	
	is_shown_when_inactive = {
		country_has_primary_culture = cu:hellene
		owns_entire_state_region = STATE_ATTICA
		has_technology_researched = egalitarianism
	}

	possible = {
		has_technology_researched = feminism
		NOT = { has_law = law_type:law_no_womens_rights }
	}
	
	immediate = {
		hidden_effect = {
			trigger_event = {
				id = grefm.123 # the womens journal
			}
		}
	}
	
	complete = {
		OR = {
			has_law = law_type:law_women_in_the_workplace
			has_law = law_type:law_womens_suffrage
		}
		NOT = { has_law = law_type:law_child_labor_allowed }
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.124 # National Council of Greek Women
		}
	}
	
	fail = {
		has_law = law_type:law_no_womens_rights
	}
	
	invalid = {
		hidden_trigger = {
			has_variable = grefm_feminism_rejected
		}
	}
	
	weight = 2996

}

je_grefm_corinth_canal_survey = {
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	group = je_group_grefm_content
	
	should_be_pinned_by_default = yes

	modifiers_while_active = {
		modifier_grefm_corinth_canal_survey
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes
		}
	}

	on_complete = {
		remove_modifier = modifier_grefm_corinth_canal_survey
		trigger_event = {
			id = grefm.130 # Corinth Canal Surveyed
		}
	}

	invalid = {
		NOT = {
			owns_entire_state_region = STATE_PELOPONNESE
		}
	}

	on_invalid = {
		remove_variable = grefm_corinth_canal_var
	}
	
	on_monthly_pulse = {
		effect = {
			change_variable = {
				name = grefm_corinth_canal_var
				add = 1
			}
		}
	}

	current_value = {
		value = root.var:grefm_corinth_canal_var
	}

	goal_add_value = {
		value = 24
	}

	progressbar = yes

	weight = 1000
	
}

je_grefm_land_reclaimation = { # literally the vanilla reclaimation event in a trenchcoat
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	group = je_group_grefm_content

	complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
	}

	on_complete = {
		remove_modifier = modifier_grefm_reclaiming_land
		hidden_effect = {
			trigger_event = {
				id = grefm.112 # Lake Kopais Drained
				days = 15
			}
		}
	}

	fail = {
		OR = {
			NOT = { owns_entire_state_region = STATE_ATTICA }
		}
	}

	on_fail = {
		remove_modifier = modifier_grefm_reclaiming_land
	}

	current_value = {
		value = global_var:grefm_lake_kopais_var
	}

	goal_add_value = { # this is much smaller scale than the vanilla JE
		add = 3
	}
	
	on_monthly_pulse = {
		events = {
			grefm.113 # A Citadel Emerges
		}
	}

	on_yearly_pulse = {
		random_events = {
			4 = 0
			1 = grefm.119 # Land Reclaimed in Kopaida
		}
	}

	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = je_grefm_land_reclaimation_status
				trigger = {
					always = yes
				}
			}
		}
	}

	weight = 1000

}

#########################
# IONIAN ISLANDS FLAVOR #
#########################

je_grefm_ion_xenocracy = {
	icon = "gfx/interface/icons/event_icons/event_heptanese.dds"
	
	group = je_group_grefm_heptanese
	
	should_be_pinned_by_default = yes
	
	immediate = {
	}
	
	modifiers_while_active = {	
		modifier_grefm_xenocracy
		modifier_grefm_hepantese_administration
	}
	
	complete = {
		AND = {
			any_scope_building = {
				is_building_type = building_government_administration
				OR = {
					has_active_production_method = pm_vertical_filing_cabinets
					has_active_production_method = pm_switch_boards
				}
			}
			bureaucracy < 0
			approaching_bureaucracy_shortage = no
		}
		institution_investment_level = {
			institution = institution_police
			value >= 3
		}
		institution_investment_level = {
			institution = institution_schools
			value >= 3
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.401 # An Ideal Colony
		}
	}
	
	fail = {
		OR = {
			is_subject = no
			trigger_if = {
				limit = {
					exists = c:GRE
				}
				is_subject_of = c:GRE
			}
		}
	}
	
	on_monthly_pulse = {
		random_events = {
			100 = 0
			5 = grefm.404 # The Ionian Academy
		}
	}

	weight = 1000

}

je_grefm_ion_venetian_legacy = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	
	group = je_group_grefm_heptanese
	
	should_be_pinned_by_default = yes
	
	immediate = {
	}
	
	modifiers_while_active = {
		modifier_grefm_venetian_legacy
	}
	
	complete = {
		NOR = {
			has_law = law_type:law_traditionalism
			has_law = law_type:law_serfdom
			has_law = law_type:law_tenant_farmers
		}
		any_scope_building = {
			is_building_type = building_wheat_farm
			earnings >= 5
			NOR = {
				has_active_production_method = pm_simple_farming
				has_active_production_method = pm_tools_disabled
			}
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.402 # Modernized Agriculture
		}
	}
	
	weight = 500
	
}

je_grefm_ion_poverty = {
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	group = je_group_grefm_heptanese
	
	should_be_pinned_by_default = yes
	
	immediate = {
	}
	
	complete = {
		bureaucracy > 0
		institution_investment_level = {
			institution = institution_social_security
			value >= 2
		}
		institution_investment_level = {
			institution = institution_health_system
			value >= 2
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.403 # A Civilized State
		}
	}
	
	weight = 100
	
}

je_grefm_ion_jewry = {
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	group = je_group_grefm_heptanese
	
	should_be_pinned_by_default = yes
	
	immediate = {
		set_variable = {
			name = grefm_samos_loyalist_jews_var
			value = grefm_jewish_loyalists_value
		}
		set_variable = {
			name = grefm_samos_radical_jews_var
			value = grefm_jewish_radicals_value
		}
	}
	
	modifiers_while_active = {
		modifier_grefm_jewish_exclusion
	}
	
	complete = {
		OR = {
			custom_tooltip = {
				text = je_grefm_ion_jewry_complete_tt1
				hidden_trigger = {
					modifier:state_jewish_standard_of_living_add >= 4
				}
			}
			custom_tooltip = {
				text = je_grefm_ion_jewry_complete_tt2
				hidden_trigger = {
					var:grefm_samos_loyalist_jews_var >= 0.75
				}
			}
			cultural_acceptance_base = {
				target = cu:romaniote
				value >= acceptance_status_5
			}
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.419 # A Judaeo-Greek Nation
		}
	}
	
	fail = {
		custom_tooltip = {
			text = je_grefm_ion_jewry_fail_tt
			hidden_trigger = {
				var:grefm_samos_radical_jews_var >= 0.75
			}
		}
	}
	
	on_fail = {
		trigger_event = {
			id = grefm.418 # Jewish Exclusion
		}
	}
	
	on_weekly_pulse = {
		effect = {
			set_variable = {
				name = grefm_samos_loyalist_jews_var
				value = grefm_jewish_loyalists_value
			}
			set_variable = {
				name = grefm_samos_radical_jews_var
				value = grefm_jewish_radicals_value
			}
		}
	}
	
	on_monthly_pulse = {
		events = {
			grefm.412 # Nacamulli's Press House
		}
		random_events = {
			400 = 0
			25 = grefm.411 # Jews Request former Rights
			5 = grefm.413 # Blood Libel
		}
	}
	
	weight = 100
	
}

########################
# MINOR COUNTRY FLAVOR #
########################

je_grefm_samos_main = {
	icon = "gfx/interface/icons/event_icons/event_samos.dds"
	
	group = je_group_grefm_content
	
	should_be_pinned_by_default = yes
	
	immediate = {
	}
	
	modifiers_while_active = {
		modifier_grefm_submission
	}
	
	complete = {
		OR = {
			is_subject = no
			trigger_if = {
				limit = {
					exists = c:GRE
				}
				is_subject_of = c:GRE
			}
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.508 # Samos Liberated
		}
	}
	
	fail = {
		OR = {
			is_subject_type = subject_type_puppet
			is_subject_type = subject_type_vassal
		}
	}
	
	on_monthly_pulse = {
		events = {
			grefm.505 # New Ruler Appointed
			grefm.506 # Prince of Samos Deposed
		}
		effect = {
			if = {
				limit = {
					NOT = {
						has_variable = grefm_stefanos_var
					}
					has_law = law_type:law_monarchy
				}
				change_variable = {
					name = grefm_samos_support_var
					add = grefm_samos_support_value
				}
				change_variable = {
					name = grefm_samos_ruler_duration_var
					subtract = 1
				}
			}
			if = {
				limit = {
					has_variable = grefm_stefanos_var
					NOT = {
						has_law = law_type:law_monarchy
					}
				}
				remove_variable = grefm_stefanos_var
			}
		}
	}
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = je_grefm_samos_main_status_1
				trigger = {
					has_variable = grefm_stefanos_var
					has_law = law_type:law_monarchy
				}
			}
			triggered_desc = {
				desc = je_grefm_samos_main_status_2
				trigger = {
					NOT = {
						has_variable = grefm_stefanos_var
						has_law = law_type:law_monarchy
					}
				}
			}
		}
	}
	
	weight = 1000
	
}

je_grefm_samos_organic_law = {
	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	
	group = je_group_grefm_content
	
	should_be_pinned_by_default = yes
	
	modifiers_while_active = {
		modifier_grefm_westernized_thought
		modifier_grefm_hegemonic_ruler
	}
	
	complete = {
		has_law = law_type:law_monarchy
		OR = {
			has_law = law_type:law_appointed_bureaucrats
			has_law = law_type:law_elected_bureaucrats
		}
		OR = {
			has_law = law_type:law_wealth_voting
			has_law = law_type:law_census_voting
			has_law = law_type:law_universal_suffrage
		}
		NOR = {
			has_law = law_type:law_consumption_based_taxation
			has_law = law_type:law_land_based_taxation
			has_law = law_type:law_censorship
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.502 # The Organic Charter
		}
		remove_variable = grefm_stefanos_var
	}
	
	fail = {
		has_law = law_type:law_monarchy
		has_law = law_type:law_autocracy
		has_law = law_type:law_hereditary_bureaucrats
		has_law = law_type:law_consumption_based_taxation
	}
	
	on_fail = {
		trigger_event = {
			id = grefm.503 # The Tyranny of Lord Stefanos
		}
	}
	
	timeout = 4745 # You get 13 years, just like Stefanos did
	
	on_timeout = {
		trigger_event = {
			id = grefm.504 # Stefanos Desposed
		}
		remove_variable = grefm_stefanos_var
	}
	
	invalid = {
		NOR = {
			has_law = law_type:law_monarchy
			trigger_if = {
				limit = {
					exists = c:TUR
				}
				is_subject_of = c:TUR
			}
			custom_tooltip = {
				text = je_grefm_stefanos_tt
				hidden_trigger = {
					ruler = {
						NOT = {
							has_template = template_grefm_bogoridi_stefan
						}
					}
				}
			}
		}
	}
	
	on_invalid = {
		remove_variable = grefm_stefanos_var
	}
	
	weight = 500
	
}

############################
# GENERAL BYZANTINE FLAVOR #
############################

je_grefm_constantinople = { # 14 Regions of Constantinople
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	group = je_group_grefm_byzantium
	
	should_be_pinned_by_default = yes
	
	is_shown_when_inactive = {
		c:BYZ ?= this
	}
	
	possible = {
		owns_entire_state_region = STATE_EASTERN_THRACE
		capital = {
			state_region = s:STATE_EASTERN_THRACE
		}
	}
	
	immediate = {
		trigger_event = {
			id = grefm.820 # The 14 Regions of Constantinople
		}
	}
	
	scripted_button = grefm_mega_palation_survey_button
	
	complete = {
		owns_entire_state_region = STATE_EASTERN_THRACE
		capital = {
			state_region = s:STATE_EASTERN_THRACE
			has_building = building_hippodrome
			has_building = building_mega_palation
			total_urbanization >= 2000
			any_scope_building = {
				is_building_type = building_government_administration
				OR = {
					has_active_production_method = pm_vertical_filing_cabinets
					has_active_production_method = pm_switch_boards
				}
				level >= 10
			}
			any_scope_building = {
				is_building_type = building_shipyards
				OR = {
					has_active_production_method = pm_metal_shipbuilding
					has_active_production_method = pm_arc_welding_shipbuilding
				}
				weekly_profit > 0
				occupancy >= 0.75
				level >= 5
			}
			any_scope_building = {
				is_building_type = building_military_shipyards
				OR = {
					has_active_production_method = pm_military_shipbuilding_steam
					has_active_production_method = pm_military_shipbuilding_steam_2
				}
				weekly_profit > 0
				occupancy >= 0.75
				level >= 5
			}
			any_scope_building = {
				is_building_type = building_silk_plantation
				weekly_profit > 0
				occupancy >= 0.75
				level >= 20
			}
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.824 # Notitia Urbis Constantinopolitanae
		}
	}
	
	fail = {
		NOT = {
			has_state_in_state_region = STATE_EASTERN_THRACE
		}
	}
	
	on_fail = {
	}
	
	on_monthly_pulse = {
		events = {
			grefm.822 # The Great Palace of Constantinople
			grefm.823 # The Hippodrome of Constantinople
		}
	}

	weight = 400
	
}

je_grefm_mega_palation_survey = {
	icon = "gfx/interface/icons/event_icons/event_ruins.dds"
	
	group = je_group_grefm_content
	
	immediate = {
		set_variable = {
			name = grefm_imperial_palace_var
			value = 0
		}
	}
	
	modifiers_while_active = {
		modifier_grefm_site_survey
	}

	complete = {
		scope:journal_entry = { is_goal_complete = yes }
	}

	on_complete = {
		trigger_event = {
			id = grefm.821 # Imperial Palace Ruins Identified
		}
		remove_variable = grefm_imperial_palace_var
	}

	fail = {
		NOT = {
			owns_entire_state_region = STATE_EASTERN_THRACE
		}
	}

	on_fail = {
		remove_variable = grefm_imperial_palace_var
	}
	
	invalid = {
		hidden_trigger = {
			has_variable = grefm_mega_palation_surveyed
		}
	}
	
	on_invalid = {
		remove_variable = grefm_imperial_palace_var
	}
	
	on_monthly_pulse = {
		effect = {
			change_variable = {
				name = grefm_imperial_palace_var
				add = 1
			}
		}
	}

	current_value = {
		value = root.var:grefm_imperial_palace_var
	}

	goal_add_value = {
		value = 24
	}

	progressbar = yes

	weight = 100

	should_be_pinned_by_default = yes
	
}

je_grefm_byzantine_nationalism = {
	icon = "gfx/interface/icons/event_icons/event_portrait.dds"
	
	group = je_group_grefm_byzantium
	
	should_be_pinned_by_default = yes
	
	is_shown_when_inactive = {
		c:BYZ ?= this
		NOR = {
			has_law = law_type:law_multicultural
			has_law = law_type:law_state_religion
		}
	}
	
	possible = {
		custom_tooltip = {
			text = je_grefm_purple_pheonix_tt
			hidden_trigger = {
				c:BYZ ?= this
			}
		}
		capital = {
			state_region = s:STATE_EASTERN_THRACE
		}
		NOR = {
			has_law = law_type:law_ethnostate
			has_law = law_type:law_total_separation
			has_law = law_type:law_state_atheism
		}
	}
	
	immediate = {
	}
	
	complete = {
		has_law = law_type:law_multicultural
		has_law = law_type:law_state_religion
	}
	
	on_complete = {
	}
	
	fail = {
		OR = {
			has_law = law_type:law_ethnostate
			has_law = law_type:law_total_separation
			has_law = law_type:law_state_atheism
		}
	}
	
	on_fail = {
	}
	
	on_monthly_pulse = {
		events = {
		}
		random_events = {
		}
		effect = {
		}
	}

	weight = 100
	
}

######################
# THE PURPLE PHEONIX #
######################

je_grefm_purple_pheonix = {
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	group = je_group_grefm_byzantium
	
	should_be_pinned_by_default = yes	
	
	is_shown_when_inactive = {
		nottomans_country_has_greek_culture_trigger = yes
		NOR = {
			c:HEMP ?= this
			has_variable = grefm_weaksauce
		}
	}
	
	possible = {
		custom_tooltip = {
			text = je_grefm_purple_pheonix_tt
			hidden_trigger = {
				c:BYZ ?= this
			}
		}
	}
	
	immediate = {
		trigger_event = {
			id = grefm.800 # The Purple Pheonix
		}
	}
	
	modifiers_while_active = {
		modifier_grefm_imperial_aspiriations
	}
	
	complete = {
		custom_tooltip = {
			text = je_grefm_purple_pheonix_complete_tt1
			hidden_trigger = {
				calc_true_if = {
					amount > 9
					country_or_subject_owns_entire_state_region = STATE_ALBANIA
					country_or_subject_owns_entire_state_region = STATE_BOSNIA
					country_or_subject_owns_entire_state_region = STATE_BULGARIA
					country_or_subject_owns_entire_state_region = STATE_CRETE
					country_or_subject_owns_entire_state_region = STATE_CROATIA
					country_or_subject_owns_entire_state_region = STATE_DALMATIA
					country_or_subject_owns_entire_state_region = STATE_IONIAN_ISLANDS
					country_or_subject_owns_entire_state_region = STATE_MACEDONIA
					country_or_subject_owns_entire_state_region = STATE_MONTENEGRO
					country_or_subject_owns_entire_state_region = STATE_NORTHERN_SERBIA
					country_or_subject_owns_entire_state_region = STATE_NORTHERN_THRACE
					country_or_subject_owns_entire_state_region = STATE_PELOPONNESE
					country_or_subject_owns_entire_state_region = STATE_SKOPIA
					country_or_subject_owns_entire_state_region = STATE_SLAVONIA
					country_or_subject_owns_entire_state_region = STATE_SLOVENIA
					country_or_subject_owns_entire_state_region = STATE_SOUTHERN_SERBIA
					country_or_subject_owns_entire_state_region = STATE_THESSALIA
					country_or_subject_owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
					country_or_subject_owns_entire_state_region = STATE_WESTERN_THRACE
				}
			}
		}
		custom_tooltip = {
			text = je_grefm_purple_pheonix_complete_tt2
			hidden_trigger = {
				calc_true_if = {
					amount > 8
					country_or_subject_owns_entire_state_region = STATE_ADANA
					country_or_subject_owns_entire_state_region = STATE_ANKARA
					country_or_subject_owns_entire_state_region = STATE_AYDIN
					country_or_subject_owns_entire_state_region = STATE_CYPRUS
					country_or_subject_owns_entire_state_region = STATE_DIYARBAKIR
					country_or_subject_owns_entire_state_region = STATE_EAST_AEGEAN_ISLANDS
					country_or_subject_owns_entire_state_region = STATE_EASTERN_THRACE
					country_or_subject_owns_entire_state_region = STATE_ERZURUM
					country_or_subject_owns_entire_state_region = STATE_HUDAVENDIGAR
					country_or_subject_owns_entire_state_region = STATE_KASTAMONU
					country_or_subject_owns_entire_state_region = STATE_KONYA
					country_or_subject_owns_entire_state_region = STATE_TRABZON
				}
			}
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.802 # The Rome of the East
		}
	}

	weight = 10000
}

je_grefm_rome_of_the_east = {
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	group = je_group_grefm_byzantium
	
	should_be_pinned_by_default = yes
	
	modifiers_while_active = {
		modifier_grefm_imperial_aspiriations
	}

	complete = {
		country_rank >= rank_value:great_power
		any_scope_state = {
			has_building = building_mega_palation
		}
		country_or_subject_owns_entire_state_region = STATE_ALEPPO
		country_or_subject_owns_entire_state_region = STATE_LEBANON
		country_or_subject_owns_entire_state_region = STATE_SYRIA
		country_or_subject_owns_entire_state_region = STATE_PALESTINE
		country_or_subject_owns_entire_state_region = STATE_TRANSJORDAN
		country_or_subject_owns_entire_state_region = STATE_SINAI
		country_or_subject_owns_entire_state_region = STATE_LOWER_EGYPT
		country_or_subject_owns_entire_state_region = STATE_MIDDLE_EGYPT
		country_or_subject_owns_entire_state_region = STATE_UPPER_EGYPT
		country_or_subject_owns_entire_state_region = STATE_MATRUH
		country_or_subject_owns_entire_state_region = STATE_LIBYA
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.803 # The Basileia Rhōmaiōn
		}
	}
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = je_grefm_rome_of_the_east_status
			}
		}
	}

	weight = 10000
	
}

je_grefm_renovatio_imperii_romanorum = {
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	group = je_group_grefm_byzantium
	
	should_be_pinned_by_default = yes
	
	modifiers_while_active = {
		modifier_grefm_imperial_aspiriations
	}

	complete = {
		custom_tooltip = {
			text = je_grefm_renovatio_imperii_romanorum_tt1
			hidden_trigger = {
				country_or_subject_owns_entire_state_region = STATE_LAZIO
			}
		}
		custom_tooltip = {
			text = je_grefm_renovatio_imperii_romanorum_tt2
			hidden_trigger = {
				AND = {
					country_or_subject_owns_entire_state_region = STATE_VENETIA
					country_or_subject_owns_entire_state_region = STATE_ISTRIA
					country_or_subject_owns_entire_state_region = STATE_CROATIA
					country_or_subject_owns_entire_state_region = STATE_DALMATIA
				}
			}
		}
		custom_tooltip = {
			text = je_grefm_renovatio_imperii_romanorum_tt3
			hidden_trigger = {
				AND = {
					country_or_subject_owns_entire_state_region = STATE_SAVOY
					country_or_subject_owns_entire_state_region = STATE_LOMBARDY
					country_or_subject_owns_entire_state_region = STATE_PIEDMONT
					country_or_subject_owns_entire_state_region = STATE_SOUTH_TYROL
				}
			}
		}
		custom_tooltip = {
			text = je_grefm_renovatio_imperii_romanorum_tt4
			hidden_trigger = {
				AND = {
					country_or_subject_owns_entire_state_region = STATE_ABRUZZO
					country_or_subject_owns_entire_state_region = STATE_APULIA
					country_or_subject_owns_entire_state_region = STATE_CALABRIA
					country_or_subject_owns_entire_state_region = STATE_CAMPANIA
				}
			}
		}
		custom_tooltip = {
			text = je_grefm_renovatio_imperii_romanorum_tt5
			hidden_trigger = {
				AND = {
					country_or_subject_owns_entire_state_region = STATE_EMILIA
					country_or_subject_owns_entire_state_region = STATE_ROMAGNA
					country_or_subject_owns_entire_state_region = STATE_TUSCANY
					country_or_subject_owns_entire_state_region = STATE_UMBRIA
				}
			}
		}
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.809 # Renovatio Imperii Romanorum
		}
	}
	
	status_desc = {
		first_valid = {
			triggered_desc = {
				desc = je_grefm_renovatio_imperii_romanorum_status
			}
		}
	}

	progressbar = yes

	weight = 10000

}

je_grefm_renovatio_imperii_romanorum_dalmatia = {
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	group = je_group_grefm_byzantium
	
	should_be_pinned_by_default = yes
	
	complete = {
		owns_entire_state_region = STATE_VENETIA
		owns_entire_state_region = STATE_ISTRIA
		owns_entire_state_region = STATE_CROATIA
		owns_entire_state_region = STATE_DALMATIA
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.804 # Dalmatia Reclaimed
		}
	}

	weight = 1000

}

je_grefm_renovatio_imperii_romanorum_northern_italy = {
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	group = je_group_grefm_byzantium
	
	should_be_pinned_by_default = yes
	
	complete = {
		owns_entire_state_region = STATE_SAVOY
		owns_entire_state_region = STATE_LOMBARDY
		owns_entire_state_region = STATE_PIEDMONT
		owns_entire_state_region = STATE_SOUTH_TYROL
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.805 # Lombardia Reclaimed
		}
	}

	weight = 1000

}

je_grefm_renovatio_imperii_romanorum_southern_italy = {
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	group = je_group_grefm_byzantium
	
	should_be_pinned_by_default = yes
	
	complete = {
		owns_entire_state_region = STATE_ABRUZZO
		owns_entire_state_region = STATE_APULIA
		owns_entire_state_region = STATE_CALABRIA
		owns_entire_state_region = STATE_CAMPANIA
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.806 # Magna Graecia Reclaimed
		}
	}

	weight = 1000

}

je_grefm_renovatio_imperii_romanorum_central_italy = {
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	group = je_group_grefm_byzantium
	
	should_be_pinned_by_default = yes
	
	complete = {
		owns_entire_state_region = STATE_EMILIA
		owns_entire_state_region = STATE_ROMAGNA
		owns_entire_state_region = STATE_TUSCANY
		owns_entire_state_region = STATE_UMBRIA
	}
	
	on_complete = {
		trigger_event = {
			id = grefm.807 # Exarchate of Ravenna Reclaimed
		}
	}
	

	weight = 1000

}

############################################
# BYZANTINE RESTORATION ALTERNATE JOURNALS #
############################################

je_grefm_bul_megali_idea = { # megali idea minus Attica and the Islands
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	group = je_group_balkfm_empire
	
	should_be_pinned_by_default = yes
	
	complete = {
		is_subject = no
		owns_entire_state_region = STATE_EASTERN_THRACE
		calc_true_if = {
			amount >= 10
			owns_entire_state_region = STATE_ATTICA
			owns_entire_state_region = STATE_THESSALIA
			owns_entire_state_region = STATE_MACEDONIA
			owns_entire_state_region = STATE_SKOPIA
			owns_entire_state_region = STATE_WESTERN_THRACE
			owns_entire_state_region = STATE_NORTHERN_THRACE
			owns_entire_state_region = STATE_HUDAVENDIGAR
			owns_entire_state_region = STATE_AYDIN
			owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
			owns_entire_state_region = STATE_EAST_AEGEAN_ISLANDS
			owns_entire_state_region = STATE_ALBANIA
			owns_entire_state_region = STATE_CRETE
			owns_entire_state_region = STATE_IONIAN_ISLANDS
		}
	}
	
	on_complete = {
		trigger_event = {
			id = balkfm.588 # The Queen of Cities
		}
		set_global_variable = grefm_megali_idea_complete
	}
	
	invalid = {
		hidden_trigger = {
			has_variable = grefm_weaksauce
		}
	}
	
	weight = 500
	
}

je_grefm_rom_megali_idea = {
	icon = "gfx/interface/icons/event_icons/event_aquila.dds"
	
	group = je_group_balkfm_romanian_nationalism
	
	should_be_pinned_by_default = yes
	
	is_shown_when_inactive = {
		c:ROM ?= this
	}
	
	possible = {
		custom_tooltip = {
			text = grefm_greater_romania_complete_tt
			hidden_trigger = {
				has_variable = balkfm_rom_unification_completed
			}
		}
	}

	immediate = {
		trigger_event = {
			id = balkfm.678 # The Imperial Standard
		}
	}

	complete = {
		is_subject = no
		owns_entire_state_region = STATE_EASTERN_THRACE
		calc_true_if = {
			amount >= 10
			owns_entire_state_region = STATE_ATTICA
			owns_entire_state_region = STATE_THESSALIA
			owns_entire_state_region = STATE_MACEDONIA
			owns_entire_state_region = STATE_SKOPIA
			owns_entire_state_region = STATE_WESTERN_THRACE
			owns_entire_state_region = STATE_NORTHERN_THRACE
			owns_entire_state_region = STATE_HUDAVENDIGAR
			owns_entire_state_region = STATE_AYDIN
			owns_entire_state_region = STATE_WEST_AEGEAN_ISLANDS
			owns_entire_state_region = STATE_EAST_AEGEAN_ISLANDS
			owns_entire_state_region = STATE_ALBANIA
			owns_entire_state_region = STATE_CRETE
			owns_entire_state_region = STATE_IONIAN_ISLANDS
		}
	}

	on_complete = {
		trigger_event = { 
			id = balkfm.679 # The Queen of Cities
		}
		set_global_variable = grefm_megali_idea_complete
	}
	
	invalid = {
		hidden_trigger = {
			has_variable = grefm_weaksauce
		}
	}
	
	weight = 1000

}


#####################
# UNUSED /TECHNICAL #
#####################
je_grefm_intro = {
	icon = "gfx/interface/icons/event_icons/tutorial_icon.dds"
	
	group = je_group_grefm_content
	
	should_be_pinned_by_default = no
	
	complete = {
		always = yes
	}

	on_complete = {
	}
	
	weight = 1
	
}